"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93],{5393:(e,t,n)=>{let a,o;n.r(t),n.d(t,{Account:()=>pP,ActionsProvider:()=>pR,AppHeader:()=>p1,ArrayField:()=>u0,AuthProvider:()=>nK,Banner:()=>eA,BlocksDrawer:()=>oM,BlocksField:()=>oq,BulkUploadDrawer:()=>u_,BulkUploadProvider:()=>uN,Button:()=>e1,CalendarIcon:()=>c.m,Card:()=>p3,CheckIcon:()=>aZ,CheckboxField:()=>a3,CheckboxInput:()=>a1,ChevronIcon:()=>eP,ClientFunctionProvider:()=>fT,CloseMenuIcon:()=>pI,CodeBlockIcon:()=>fP,CodeField:()=>oG,Collapsible:()=>or,CollapsibleField:()=>o0,ConfigProvider:()=>s.a,ConfirmPasswordField:()=>u2,CopyIcon:()=>a4,CopyToClipboard:()=>d9,DateCondition:()=>hV,DatePicker:()=>c.n,DateTimeField:()=>o6,DefaultBlockImage:()=>oD,DefaultCell:()=>ra,DefaultEditView:()=>mf,DefaultListView:()=>f7,DeleteMany:()=>ht,DocumentControls:()=>hy,DocumentEventsProvider:()=>dz,DocumentFields:()=>dq,DocumentInfoProvider:()=>aU,DocumentLocked:()=>pj,DocumentTakeOver:()=>pg,DragHandleIcon:()=>oe,Drawer:()=>of,DrawerToggler:()=>oh,Dropzone:()=>dc,EditDepthProvider:()=>tw,EditIcon:()=>eD,EditMany:()=>hP,EmailAndUsernameFields:()=>f2,EmailField:()=>o5,EntityVisibilityProvider:()=>fB,ErrorPill:()=>tv,ExternalLinkIcon:()=>fA,FieldDescription:()=>tb,FieldError:()=>tx,FieldLabel:()=>n4,File:()=>l2,Form:()=>dB,FormLoadingOverlayToggle:()=>lV,FormSubmit:()=>hh,FullscreenModal:()=>dA,GenerateConfirmation:()=>hO,GroupField:()=>lr,Gutter:()=>oc,Hamburger:()=>pM,HiddenField:()=>li,HydrateAuthProvider:()=>hR,JSONField:()=>rb,JoinField:()=>rg,LeaveWithoutSaving:()=>pf,LineIcon:()=>a$,LinkIcon:()=>eO,ListControls:()=>fl,ListDrawerContextProvider:()=>lu,ListHeader:()=>fh,ListQueryProvider:()=>lm,ListSelection:()=>fi,LoadingOverlay:()=>lF,LoadingOverlayToggle:()=>lB,LocaleProvider:()=>n3,Locked:()=>hd,LogOutIcon:()=>ff,Logout:()=>fm,MenuIcon:()=>pT,MinimizeMaximizeIcon:()=>fO,Modal:()=>t6,MoreIcon:()=>a9,NavGroup:()=>fb,NavToggler:()=>pK,NullifyLocaleField:()=>a6,NumberCondition:()=>hz,NumberField:()=>cE,OperationProvider:()=>aq,Pagination:()=>rp,ParamsProvider:()=>fU,PasswordField:()=>u5,PayloadIcon:()=>pY,PerPage:()=>fw,Pill:()=>oj,PlusIcon:()=>eR,PointField:()=>cP,Popup:()=>eJ,PopupList:()=>eT,PreferencesProvider:()=>nX,PublishButton:()=>hf,PublishMany:()=>hT,RadioGroupField:()=>cI,ReactSelect:()=>cN,RelationshipCondition:()=>hW,RelationshipField:()=>c0,RelationshipProvider:()=>lZ,RenderCustomComponent:()=>$,RenderDefaultCell:()=>rr,RenderFields:()=>uX,RenderTitle:()=>fS,RichTextField:()=>c1,RootProvider:()=>f1,RouteCacheProvider:()=>p5,RowField:()=>c2,RowLabel:()=>ek,RowLabelProvider:()=>eS,SaveButton:()=>hm,SaveDraftButton:()=>hv,ScrollInfoProvider:()=>fY,SearchIcon:()=>oO,SearchParamsProvider:()=>n0,SectionTitle:()=>oV,Select:()=>cN,SelectAll:()=>f6,SelectCondition:()=>hY,SelectField:()=>c5,SelectInput:()=>c3,SelectRow:()=>f4,SelectionProvider:()=>p8,ServerFunctionsProvider:()=>lb,SetDocumentStepNav:()=>mu,SetDocumentTitle:()=>mp,SetStepNav:()=>pJ,ShimmerEffect:()=>s.d,SortColumn:()=>fk,StaggeredShimmers:()=>s.e,SwapIcon:()=>eI,Table:()=>fE,TabsField:()=>de,TextCondition:()=>hQ,TextField:()=>da,TextInput:()=>dn,TextareaField:()=>dr,TextareaInput:()=>dl,ThemeProvider:()=>s.g,Thumbnail:()=>l6,Tooltip:()=>eZ,Translation:()=>pS,TranslationProvider:()=>c.c,UIField:()=>di,UnpublishMany:()=>hB,Upload:()=>up,UploadEditsProvider:()=>aI,UploadField:()=>uY,UploadInput:()=>uW,ViewDescription:()=>p_,WatchChildErrors:()=>oZ,WindowInfoProvider:()=>fQ,XIcon:()=>c.a,allFieldComponents:()=>u9,defaultTheme:()=>s.f,fieldBaseClass:()=>aX,fieldComponents:()=>u4,fieldReducer:()=>db,formatDrawerSlug:()=>op,toast:()=>nR,useActions:()=>pO,useAddClientFunction:()=>fL,useAllFormFields:()=>ej,useAuth:()=>nY,useBulkUpload:()=>uE,useBulkUploadDrawerSlug:()=>uA,useCellProps:()=>rl,useClientFunctions:()=>fM,useCollapsible:()=>oa,useConfig:()=>s.b,useDebounce:()=>nH,useDebouncedCallback:()=>cM,useDebouncedEffect:()=>ls,useDelay:()=>s.c,useDelayedRender:()=>lD,useDocumentDrawer:()=>lG,useDocumentDrawerContext:()=>lH,useDocumentEvents:()=>dU,useDocumentInfo:()=>aV,useDrawerSlug:()=>od,useEditDepth:()=>tj,useEntityVisibility:()=>fV,useField:()=>aK,useForm:()=>em,useFormFields:()=>ew,useFormInitializing:()=>ey,useFormModified:()=>ex,useFormProcessing:()=>eb,useFormSubmitted:()=>eg,useHotkey:()=>pa,useIntersect:()=>eY,useListDrawer:()=>uT,useListDrawerContext:()=>lp,useListQuery:()=>lf,useListRelationships:()=>l$,useLocale:()=>n6,useModal:()=>tU,useNav:()=>pU,useOperation:()=>aW,useParams:()=>fH,usePayloadAPI:()=>pl,usePreferences:()=>nJ,useResize:()=>pr,useRouteCache:()=>p4,useRowLabel:()=>e_,useScrollInfo:()=>fW,useSearchParams:()=>n1,useSelection:()=>p7,useServerFunctions:()=>lg,useStepNav:()=>pQ,useTableColumns:()=>lC,useTheme:()=>s.h,useThrottledEffect:()=>n7,useTranslation:()=>c.d,useUploadEdits:()=>aT,useUseTitleField:()=>ps,useWatchForm:()=>ev,useWindowInfo:()=>fG,withCondition:()=>aQ});var l,r=n(1167),i=n(6680),s=n(8810),c=n(4287),d=n(6139),u=n(6464),p=n(2140),h=n(9365),f=n(4504),m=n(4775),v=n(9525),g=n(6277),b=n(9789),x=n(7903),y=n(3051),w=n(6591),j=n(4513),C=n(3326),S=n(3113),_=n(3117),k=n(1816),N=n(6224),E=n(4430),A=n(9799),P=n(2698),D=n(9421),O=n(2487);n(2284);var R=n(1858),I=n(2822),T=n(8806),L=n(7387),M=n(7715),F=n(3293),B=n(341),V=n(1082),z=n(7058).Buffer,U=(0,d.c)(e=>{function t(e,t){var n=e.length;for(e.push(t);0<n;){var a=n-1>>>1,l=e[a];if(0<o(l,t))e[a]=t,e[n]=l,n=a;else break}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var a=0,l=e.length,r=l>>>1;a<r;){var i=2*(a+1)-1,s=e[i],c=i+1,d=e[c];if(0>o(s,n))c<l&&0>o(d,s)?(e[a]=d,e[c]=n,a=c):(e[a]=s,e[i]=n,a=i);else if(c<l&&0>o(d,n))e[a]=d,e[c]=n,a=c;else break}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now?(s=performance,e.unstable_now=function(){return s.now()}):(d=(c=Date).now(),e.unstable_now=function(){return c.now()-d});var l,r,i,s,c,d,u=[],p=[],h=1,f=null,m=3,v=!1,g=!1,b=!1,x="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="u">typeof setImmediate?setImmediate:null;function j(e){for(var o=n(p);null!==o;){if(null===o.callback)a(p);else if(o.startTime<=e)a(p),o.sortIndex=o.expirationTime,t(u,o);else break;o=n(p)}}function C(e){if(b=!1,j(e),!g){if(null!==n(u))g=!0,P();else{var t=n(p);null!==t&&D(C,t.startTime-e)}}}var S=!1,_=-1,k=5,N=-1;function E(){return!(e.unstable_now()-N<k)}function A(){if(S){var t=e.unstable_now();N=t;var o=!0;try{e:{g=!1,b&&(b=!1,y(_),_=-1),v=!0;var r=m;try{t:{for(j(t),f=n(u);null!==f&&!(f.expirationTime>t&&E());){var i=f.callback;if("function"==typeof i){f.callback=null,m=f.priorityLevel;var s=i(f.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){f.callback=s,j(t),o=!0;break t}f===n(u)&&a(u),j(t)}else a(u);f=n(u)}if(null!==f)o=!0;else{var c=n(p);null!==c&&D(C,c.startTime-t),o=!1}}break e}finally{f=null,m=r,v=!1}o=void 0}}finally{o?l():S=!1}}}function P(){S||(S=!0,l())}function D(t,n){_=x(function(){t(e.unstable_now())},n)}"function"==typeof w?l=function(){w(A)}:"u">typeof MessageChannel?(i=(r=new MessageChannel).port2,r.port1.onmessage=A,l=function(){i.postMessage(null)}):l=function(){x(A,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,P())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},e.unstable_scheduleCallback=function(a,o,l){var r=e.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?r+l:r,a){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=l+i,a={id:h++,callback:o,priorityLevel:a,startTime:l,expirationTime:i,sortIndex:-1},l>r?(a.sortIndex=l,t(p,a),null===n(u)&&a===n(p)&&(b?(y(_),_=-1):b=!0,D(C,l-r))):(a.sortIndex=i,t(u,a),g||v||(g=!0,P())),a},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}}),H=(0,d.c)((e,t)=>{t.exports=U()}),q=(0,d.c)(e=>{var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,o=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,u=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,f=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case d:case o:case r:case l:case p:return e;default:switch(e=e&&e.$$typeof){case s:case u:case m:case f:case i:return e;default:return t}}case a:return t}}}function w(e){return y(e)===d}e.AsyncMode=c,e.ConcurrentMode=d,e.ContextConsumer=s,e.ContextProvider=i,e.Element=n,e.ForwardRef=u,e.Fragment=o,e.Lazy=m,e.Memo=f,e.Portal=a,e.Profiler=r,e.StrictMode=l,e.Suspense=p,e.isAsyncMode=function(e){return w(e)||y(e)===c},e.isConcurrentMode=w,e.isContextConsumer=function(e){return y(e)===s},e.isContextProvider=function(e){return y(e)===i},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return y(e)===u},e.isFragment=function(e){return y(e)===o},e.isLazy=function(e){return y(e)===m},e.isMemo=function(e){return y(e)===f},e.isPortal=function(e){return y(e)===a},e.isProfiler=function(e){return y(e)===r},e.isStrictMode=function(e){return y(e)===l},e.isSuspense=function(e){return y(e)===p},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===r||e===l||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===i||e.$$typeof===s||e.$$typeof===u||e.$$typeof===g||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},e.typeOf=y}),W=(0,d.c)((e,t)=>{t.exports=q()}),K=(0,d.c)((e,t)=>{var n=W(),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};function i(e){return n.isMemo(e)?l:r[e.$$typeof]||a}r[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r[n.Memo]=l;var s=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,a){if("string"!=typeof n){if(h){var l=p(n);l&&l!==h&&e(t,l,a)}var r=c(n);d&&(r=r.concat(d(n)));for(var f=i(t),m=i(n),v=0;v<r.length;++v){var g=r[v];if(!o[g]&&!(a&&a[g])&&!(m&&m[g])&&!(f&&f[g])){var b=u(n,g);try{s(t,g,b)}catch(e){}}}}return t}}),Y=(0,d.c)((e,t)=>{var n=Math.floor(16777215*Math.random()),a=u.index=parseInt(16777215*Math.random(),10),o=(typeof V>"u"||"number"!=typeof V.pid?Math.floor(1e5*Math.random()):V.pid)%65535,l=(()=>{try{return _Buffer}catch(e){try{return z}catch(e){return null}}})(),r=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},i=[];for(s=0;s<256;s++)i[s]=(s<=15?"0":"")+s.toString(16);var s,c=RegExp("^[0-9a-fA-F]{24}$"),d=[];for(s=0;s<10;)d[48+s]=s++;for(;s<16;)d[55+s]=d[87+s]=s++;function u(e){if(!(this instanceof u))return new u(e);if(e&&(e instanceof u||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var t=u.isValid(e);if(!t&&null!=e)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(t&&"string"==typeof e&&24===e.length)return u.createFromHexString(e);if(null!=e&&12===e.length)this.id=e;else{if(null!=e&&"function"==typeof e.toHexString)return e;throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}t.exports=u,u.default=u,u.createFromTime=function(e){var t;return new u((8===(t=(t=e=parseInt(e,10)%4294967295).toString(16)).length?t:"00000000".substring(t.length,8)+t)+"0000000000000000")},u.createFromHexString=function(e){if(typeof e>"u"||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",n=0;n<24;)t+=String.fromCharCode(d[e.charCodeAt(n++)]<<4|d[e.charCodeAt(n++)]);return new u(t)},u.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&c.test(e):e instanceof u||(r(e)?u.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!l&&(e.id instanceof l||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&c.test(e.id)))))},u.prototype={constructor:u,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(r(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=i[this.id.charCodeAt(t)];return e},equals:function(e){return e instanceof u?this.toString()===e.toString():"string"==typeof e&&u.isValid(e)&&12===e.length&&r(this.id)?e===this.id.toString("binary"):"string"==typeof e&&u.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&u.isValid(e)&&12===e.length?e===this.id:null!=e&&(e instanceof u||!!e.toHexString)&&e.toHexString()===this.toHexString()},getTimestamp:function(){var e,t=new Date;return e=r(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%4294967295;var t=a=(a+1)%16777215;return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,n>>16&255,n>>8&255,255&n,o>>8&255,255&o,t>>16&255,t>>8&255,255&t)}};var p=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";u.prototype[p]=function(){return"ObjectID("+this+")"},u.prototype.toJSON=u.prototype.toHexString,u.prototype.toString=u.prototype.toHexString}),Q=(0,d.c)((e,t)=>{function n(e){return void 0===e}function a(e){return e===Object(e)}function o(e){return Array.isArray(e)}function l(e,t){return t?a(e)&&!n(e.uri):a(e)&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}function r(e){return!n(e)&&e}t.exports={serialize:function e(t,i,s,c){i=i||{},s=s||new FormData,i.indices=r(i.indices),i.nullsAsUndefineds=r(i.nullsAsUndefineds),i.booleansAsIntegers=r(i.booleansAsIntegers),i.allowEmptyArrays=r(i.allowEmptyArrays),i.noAttributesWithArrayNotation=r(i.noAttributesWithArrayNotation),i.noFilesWithArrayNotation=r(i.noFilesWithArrayNotation),i.dotsForObjectNotation=r(i.dotsForObjectNotation);let d="function"==typeof s.getParts;return n(t)||(null===t?i.nullsAsUndefineds||s.append(c,""):"boolean"==typeof t?i.booleansAsIntegers?s.append(c,t?1:0):s.append(c,t):o(t)?t.length?t.forEach((t,n)=>{var o;let r=c+"["+(i.indices?n:"")+"]";(i.noAttributesWithArrayNotation||i.noFilesWithArrayNotation&&l(o=t,d)&&"string"==typeof o.name&&(a(o.lastModifiedDate)||"number"==typeof o.lastModified))&&(r=c),e(t,i,s,r)}):i.allowEmptyArrays&&s.append(i.noAttributesWithArrayNotation?c:c+"[]",""):t instanceof Date?s.append(c,t.toISOString()):a(t)&&!l(t,d)?Object.keys(t).forEach(n=>{let a=t[n];if(o(a))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);let l=c?i.dotsForObjectNotation?c+"."+n:c+"["+n+"]":n;e(a,i,s,l)}):s.append(c,t)),s}}}),G=(0,d.c)((e,t)=>{!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,a=0;n<e.length;n++,a+=8)t[a>>>5]|=e[n]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],a=0;a<t.length;a+=3)for(var o=t[a]<<16|t[a+1]<<8|t[a+2],l=0;l<4;l++)8*a+6*l<=8*t.length?n.push(e.charAt(o>>>6*(3-l)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],a=0,o=0;a<t.length;o=++a%4)0!=o&&n.push((e.indexOf(t.charAt(a-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(a))>>>6-2*o);return n}};t.exports=n}()}),X=(0,d.c)((e,t)=>{var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=n}),J=(0,d.c)((e,t)=>{function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!e._isBuffer)}}),Z=(0,d.c)((e,t)=>{!function(){var e=G(),n=X().utf8,a=J(),o=X().bin,l=function(t,r){t.constructor==String?t=r&&"binary"===r.encoding?o.stringToBytes(t):n.stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=e.bytesToWords(t),s=8*t.length,c=1732584193,d=-271733879,u=-1732584194,p=271733878,h=0;h<i.length;h++)i[h]=(i[h]<<8|i[h]>>>24)&16711935|(i[h]<<24|i[h]>>>8)&4278255360;i[s>>>5]|=128<<s%32,i[(s+64>>>9<<4)+14]=s;for(var f=l._ff,m=l._gg,v=l._hh,g=l._ii,h=0;h<i.length;h+=16){var b=c,x=d,y=u,w=p;c=f(c,d,u,p,i[h+0],7,-680876936),p=f(p,c,d,u,i[h+1],12,-389564586),u=f(u,p,c,d,i[h+2],17,606105819),d=f(d,u,p,c,i[h+3],22,-1044525330),c=f(c,d,u,p,i[h+4],7,-176418897),p=f(p,c,d,u,i[h+5],12,1200080426),u=f(u,p,c,d,i[h+6],17,-1473231341),d=f(d,u,p,c,i[h+7],22,-45705983),c=f(c,d,u,p,i[h+8],7,1770035416),p=f(p,c,d,u,i[h+9],12,-1958414417),u=f(u,p,c,d,i[h+10],17,-42063),d=f(d,u,p,c,i[h+11],22,-1990404162),c=f(c,d,u,p,i[h+12],7,1804603682),p=f(p,c,d,u,i[h+13],12,-40341101),u=f(u,p,c,d,i[h+14],17,-1502002290),d=f(d,u,p,c,i[h+15],22,1236535329),c=m(c,d,u,p,i[h+1],5,-165796510),p=m(p,c,d,u,i[h+6],9,-1069501632),u=m(u,p,c,d,i[h+11],14,643717713),d=m(d,u,p,c,i[h+0],20,-373897302),c=m(c,d,u,p,i[h+5],5,-701558691),p=m(p,c,d,u,i[h+10],9,38016083),u=m(u,p,c,d,i[h+15],14,-660478335),d=m(d,u,p,c,i[h+4],20,-405537848),c=m(c,d,u,p,i[h+9],5,568446438),p=m(p,c,d,u,i[h+14],9,-1019803690),u=m(u,p,c,d,i[h+3],14,-187363961),d=m(d,u,p,c,i[h+8],20,1163531501),c=m(c,d,u,p,i[h+13],5,-1444681467),p=m(p,c,d,u,i[h+2],9,-51403784),u=m(u,p,c,d,i[h+7],14,1735328473),d=m(d,u,p,c,i[h+12],20,-1926607734),c=v(c,d,u,p,i[h+5],4,-378558),p=v(p,c,d,u,i[h+8],11,-2022574463),u=v(u,p,c,d,i[h+11],16,1839030562),d=v(d,u,p,c,i[h+14],23,-35309556),c=v(c,d,u,p,i[h+1],4,-1530992060),p=v(p,c,d,u,i[h+4],11,1272893353),u=v(u,p,c,d,i[h+7],16,-155497632),d=v(d,u,p,c,i[h+10],23,-1094730640),c=v(c,d,u,p,i[h+13],4,681279174),p=v(p,c,d,u,i[h+0],11,-358537222),u=v(u,p,c,d,i[h+3],16,-722521979),d=v(d,u,p,c,i[h+6],23,76029189),c=v(c,d,u,p,i[h+9],4,-640364487),p=v(p,c,d,u,i[h+12],11,-421815835),u=v(u,p,c,d,i[h+15],16,530742520),d=v(d,u,p,c,i[h+2],23,-995338651),c=g(c,d,u,p,i[h+0],6,-198630844),p=g(p,c,d,u,i[h+7],10,1126891415),u=g(u,p,c,d,i[h+14],15,-1416354905),d=g(d,u,p,c,i[h+5],21,-57434055),c=g(c,d,u,p,i[h+12],6,1700485571),p=g(p,c,d,u,i[h+3],10,-1894986606),u=g(u,p,c,d,i[h+10],15,-1051523),d=g(d,u,p,c,i[h+1],21,-2054922799),c=g(c,d,u,p,i[h+8],6,1873313359),p=g(p,c,d,u,i[h+15],10,-30611744),u=g(u,p,c,d,i[h+6],15,-1560198380),d=g(d,u,p,c,i[h+13],21,1309151649),c=g(c,d,u,p,i[h+4],6,-145523070),p=g(p,c,d,u,i[h+11],10,-1120210379),u=g(u,p,c,d,i[h+2],15,718787259),d=g(d,u,p,c,i[h+9],21,-343485551),c=c+b>>>0,d=d+x>>>0,u=u+y>>>0,p=p+w>>>0}return e.endian([c,d,u,p])};l._ff=function(e,t,n,a,o,l,r){var i=e+(t&n|~t&a)+(o>>>0)+r;return(i<<l|i>>>32-l)+t},l._gg=function(e,t,n,a,o,l,r){var i=e+(t&a|n&~a)+(o>>>0)+r;return(i<<l|i>>>32-l)+t},l._hh=function(e,t,n,a,o,l,r){var i=e+(t^n^a)+(o>>>0)+r;return(i<<l|i>>>32-l)+t},l._ii=function(e,t,n,a,o,l,r){var i=e+(n^(t|~a))+(o>>>0)+r;return(i<<l|i>>>32-l)+t},l._blocksize=16,l._digestsize=16,t.exports=function(t,n){if(null==t)throw Error("Illegal argument "+t);var a=e.wordsToBytes(l(t,n));return n&&n.asBytes?a:n&&n.asString?o.bytesToString(a):e.bytesToHex(a)}}()});function $(e){let{CustomComponent:t,Fallback:n}=e;return void 0!==t?t:n}var ee=(0,d.e)(H(),1),et=Symbol(),en=Symbol(),ea=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?r.useEffect:r.useLayoutEffect,eo=ee.unstable_runWithPriority?e=>{try{(0,ee.unstable_runWithPriority)(ee.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e(),el=e=>t=>{let{value:n,children:a}=t,o=(0,r.useRef)(n),l=(0,r.useRef)(0),[i,s]=(0,r.useState)(null);i&&(i(n),s(null));let c=(0,r.useRef)();if(!c.current){let e=new Set;c.current={[et]:{v:o,n:l,l:e,u:(t,n)=>{l.current+=1;let a={n:l.current};(null==n?void 0:n.suspense)&&(a.n*=-1,a.p=new Promise(e=>{s(()=>t=>{a.v=t,delete a.p,e(t)})})),e.forEach(e=>e(a)),t()}}}}return ea(()=>{o.current=n,l.current+=1,eo(()=>{c.current[et].l.forEach(e=>{e({n:l.current,v:n})})})},[n]),(0,r.createElement)(e,{value:c.current},a)},er=e=>e;function ei(e,t){let{v:{current:n},n:{current:a},l:o}=(0,r.useContext)(e)[et],l=t(n),[i,s]=(0,r.useReducer)((e,o)=>{if(!o)return[n,l];if("p"in o)throw o.p;if(o.n===a)return Object.is(e[1],l)?e:[n,l];try{if("v"in o){if(Object.is(e[0],o.v))return e;let n=t(o.v);return Object.is(e[1],n)?e:[o.v,n]}}catch(e){}return[...e]},[n,l]);return Object.is(i[1],l)||s(),ea(()=>(o.add(s),()=>{o.delete(s)}),[o]),i[1]}var es=(0,r.createContext)({}),ec=(0,r.createContext)({}),ed=(0,r.createContext)(!1),eu=(0,r.createContext)(!1),ep=(0,r.createContext)(!1),eh=(0,r.createContext)(!1),ef=function(e){let t=(0,r.createContext)({[et]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return t[en]=t.Provider,t.Provider=el(t.Provider),delete t.Consumer,t}([{},()=>null]),em=()=>(0,r.useContext)(es),ev=()=>(0,r.useContext)(ec),eg=()=>(0,r.useContext)(ed),eb=()=>(0,r.useContext)(eu),ex=()=>(0,r.useContext)(ep),ey=()=>(0,r.useContext)(eh),ew=e=>ei(ef,e),ej=()=>ei(ef,er),eC=r.createContext({data:{},path:"",rowNumber:void 0}),eS=e=>{let{children:t,path:n,rowNumber:a}=e,{getDataByPath:o,getSiblingData:l}=ev(),r=l(n),i=o(n)||r;return(0,u.jsx)(eC.Provider,{value:{data:i,path:n,rowNumber:a},children:t})},e_=()=>r.useContext(eC),ek=e=>{let{className:t,CustomComponent:n,label:a,path:o,rowNumber:l}=e;return(0,u.jsx)(eS,{path:o,rowNumber:l,children:(0,u.jsx)($,{CustomComponent:n,Fallback:(0,u.jsx)("span",{className:["row-label",t].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:a})})})},eN=f.default.default||f.default,eE="banner",eA=e=>{let{type:t="default",alignIcon:n="right",children:a,className:o,icon:l,onClick:i,to:s}=e,c=[eE,"".concat(eE,"--type-").concat(t),o&&o,s&&"".concat(eE,"--has-link"),(s||i)&&"".concat(eE,"--has-action"),l&&"".concat(eE,"--has-icon"),l&&"".concat(eE,"--align-icon-").concat(n)].filter(Boolean).join(" "),d="div";return i&&!s&&(d="button"),s&&(d=eN),(0,u.jsxs)(d,{className:c,href:s||null,onClick:i,children:[l&&"left"===n&&(0,u.jsx)(r.Fragment,{children:l}),(0,u.jsx)("span",{className:"".concat(eE,"__content"),children:a}),l&&"right"===n&&(0,u.jsx)(r.Fragment,{children:l})]})},eP=e=>{let{className:t,direction:n,size:a}=e;return(0,u.jsx)("svg",{className:["icon icon--chevron",t,a&&"icon--size-".concat(a)].filter(Boolean).join(" "),height:"100%",style:{transform:"left"===n?"rotate(90deg)":"right"===n?"rotate(-90deg)":"up"===n?"rotate(180deg)":void 0},viewBox:"0 0 22 12",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M1 1.12109L11 11.1211L21 1.12109",strokeLinecap:"square"})})},eD=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})})},eO=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})}),eR=()=>(0,u.jsx)("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})}),eI=()=>(0,u.jsx)("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})}),eT={};(0,d.d)(eT,{Button:()=>eB,ButtonGroup:()=>eF});var eL=f.default.default||f.default,eM="popup-button-list",eF=e=>{let{buttonSize:t="default",children:n,className:a,textAlign:o="left"}=e,l=[eM,a,"".concat(eM,"__text-align--").concat(o),"".concat(eM,"__button-size--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:l,children:n})},eB=e=>{let{id:t,active:n,children:a,className:o,href:l,onClick:r}=e,i=["".concat(eM,"__button"),n&&"".concat(eM,"__button--selected"),o].filter(Boolean).join(" ");return l?(0,u.jsx)(eL,{className:i,href:l,id:t,onClick:e=>{r&&r(e)},prefetch:!1,children:a}):r?(0,u.jsx)("button",{className:i,id:t,onClick:e=>{r&&r(e)},type:"button",children:a}):(0,u.jsx)("div",{className:i,id:t,children:a})},eV={};(0,d.d)(eV,{WindowInfo:()=>eH,WindowInfoContext:()=>ez,WindowInfoProvider:()=>eW,useWindowInfo:()=>eU,withWindowInfo:()=>eK});var ez=(0,r.createContext)({}),eU=()=>(0,r.useContext)(ez),eH=e=>{let{children:t}=e,n=eU();return t?"function"==typeof t?r.createElement(r.Fragment,null,t(n)):r.createElement(r.Fragment,null,t):null},eq=(e,t)=>{let{payload:{breakpoints:n,animationRef:a}}=t;a.current=null;let{eventsFired:o}=e,{documentElement:{style:l,clientWidth:r,clientHeight:i}}=document,{innerWidth:s,innerHeight:c}=window,d="".concat(r/100,"px"),u="".concat(i/100,"px"),p=n?Object.keys(n).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:window.matchMedia(n[t]).matches}),{}):{};return l.setProperty("--vw",d),l.setProperty("--vh",u),{width:s,height:c,"--vw":d,"--vh":u,breakpoints:p,eventsFired:o+1}},eW=e=>{let{breakpoints:t,children:n}=e,a=(0,r.useRef)(null),[o,l]=(0,r.useReducer)(eq,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=(0,r.useCallback)(()=>{a.current&&cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>l({type:"UPDATE",payload:{breakpoints:t,animationRef:a}}))},[t]),s=(0,r.useCallback)(()=>{setTimeout(()=>{i()},500)},[i]);return(0,r.useEffect)(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",s)}),[i,s]),(0,r.useEffect)(()=>{0===o.eventsFired&&l({type:"UPDATE",payload:{breakpoints:t,animationRef:a}})},[t,o]),r.createElement(ez.Provider,{value:Object.assign({},o)},n&&n)},eK=e=>t=>{let n=eU();return r.createElement(e,Object.assign({},t,{windowInfo:n}))},eY=(e,t)=>{let n,a=(0,p.c)(14),o;a[0]!==e?(o=void 0===e?{}:e,a[0]=e,a[1]=o):o=a[1];let{root:l,rootMargin:i,threshold:s}=o,c=void 0===l?null:l,d=void 0===i?"0px":i,u=void 0===s?0:s,[h,f]=(0,r.useState)(),[m,v]=(0,r.useState)(null),g;a[2]!==t||a[3]!==c||a[4]!==d||a[5]!==u?(g="u">typeof window&&"IntersectionObserver"in window&&!t?new window.IntersectionObserver(e=>{let[t]=e;return f(t)},{root:c,rootMargin:d,threshold:u}):null,a[2]=t,a[3]=c,a[4]=d,a[5]=u,a[6]=g):g=a[6];let b=(0,r.useRef)(g),x,y;return a[7]!==t||a[8]!==m?(x=()=>{if(t)return;let{current:e}=b;return e.disconnect(),m&&e.observe(m),()=>e.disconnect()},y=[m,t],a[7]=t,a[8]=m,a[9]=x,a[10]=y):(x=a[9],y=a[10]),(0,r.useEffect)(x,y),a[11]!==h||a[12]!==m?(n=[v,h,m],a[11]=h,a[12]=m,a[13]=n):n=a[13],n},eQ="popup-button",eG=e=>{let{active:t,button:n,buttonType:a,className:o,disabled:l,noBackground:r,setActive:i,size:s}=e,c=[eQ,o,"".concat(eQ,"--").concat(a),!r&&"".concat(eQ,"--background"),s&&"".concat(eQ,"--size-").concat(s)].filter(Boolean).join(" "),d=()=>{i(!t)};return"none"===a?null:"custom"===a?(0,u.jsx)("div",{className:c,onClick:d,onKeyDown:e=>{"Enter"===e.key&&d()},role:"button",tabIndex:0,children:n}):(0,u.jsx)("button",{className:c,disabled:l,onClick:d,tabIndex:0,type:"button",children:n})},eX="popup",eJ=e=>{let{boundingRef:t,button:n,buttonClassName:a,buttonSize:o,buttonType:l="default",caret:i=!0,children:s,className:c,disabled:d,forceOpen:p,horizontalAlign:h="left",initActive:f=!1,noBackground:m,onToggleOpen:v,render:g,showOnHover:b=!1,showScrollbar:x=!1,size:y="medium",verticalAlign:w="top"}=e,{height:j,width:C}=eU(),[S,_]=eY({root:(null==t?void 0:t.current)||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),k=(0,r.useRef)(null),[N,E]=(0,r.useState)(f),[A,P]=(0,r.useState)(w),[D,O]=(0,r.useState)(h),R=(0,r.useCallback)(e=>{let{horizontal:n=!1,vertical:a=!1}=e;if(k.current){let{bottom:e,left:o,right:l,top:r}=k.current.getBoundingClientRect(),i=100,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=0;(null==t?void 0:t.current)&&({bottom:c,left:d,right:s,top:i}=t.current.getBoundingClientRect()),n&&(l>s&&o>d?O("right"):o<d&&l<s&&O("left")),a&&(r<i&&e<c?P("bottom"):e>c&&r>i&&P("top"))}},[t]),I=(0,r.useCallback)(e=>{k.current.contains(e.target)||E(!1)},[k]);(0,r.useEffect)(()=>{R({horizontal:!0})},[_,R,C]),(0,r.useEffect)(()=>{R({vertical:!0})},[_,R,j]),(0,r.useEffect)(()=>("function"==typeof v&&v(N),N?document.addEventListener("mousedown",I):document.removeEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}),[N,I,v]),(0,r.useEffect)(()=>{E(p)},[p]);let T=[eX,c,"".concat(eX,"--size-").concat(y),o&&"".concat(eX,"--button-size-").concat(o),"".concat(eX,"--v-align-").concat(A),"".concat(eX,"--h-align-").concat(D),N&&"".concat(eX,"--active"),x&&"".concat(eX,"--show-scrollbar")].filter(Boolean).join(" ");return(0,u.jsxs)("div",{className:T,children:[(0,u.jsx)("div",{className:"".concat(eX,"__trigger-wrap"),children:b?(0,u.jsx)("div",{className:"".concat(eX,"__on-hover-watch"),onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:(0,u.jsx)(eG,{active:N,button:n,buttonType:l,className:a,disabled:d,noBackground:m,setActive:E,size:o})}):(0,u.jsx)(eG,{active:N,button:n,buttonType:l,className:a,disabled:d,noBackground:m,setActive:E,size:o})}),(0,u.jsxs)("div",{className:"".concat(eX,"__content"),ref:k,children:[(0,u.jsx)("div",{className:"".concat(eX,"__hide-scrollbar"),ref:S,children:(0,u.jsx)("div",{className:"".concat(eX,"__scroll-container"),children:(0,u.jsxs)("div",{className:"".concat(eX,"__scroll-content"),children:[g&&g({close:()=>E(!1)}),s&&s]})})}),i&&(0,u.jsx)("div",{className:"".concat(eX,"__caret")})]})]})},eZ=e=>{let t,n,a,o=(0,p.c)(24),{alignCaret:l,boundingRef:i,children:s,className:c,delay:d,position:h,show:f,staticPositioning:m}=e,v=void 0===l?"center":l,g=void 0===d?350:d,b=void 0===f||f,x=void 0!==m&&m,[y,w]=r.useState(b),[j,C]=r.useState("top"),S=(null==i?void 0:i.current)||null,_;o[0]!==S?(_={root:S,rootMargin:"-145px 0px 0px 100px",threshold:0},o[0]=S,o[1]=_):_=o[1];let[k,N]=eY(_,x),E,A;if(o[2]!==g||o[3]!==b?(E=()=>{let e;return g&&b?e=setTimeout(()=>{w(b)},g):w(b),()=>{e&&clearTimeout(e)}},A=[b,g],o[2]=g,o[3]=b,o[4]=E,o[5]=A):(E=o[4],A=o[5]),(0,r.useEffect)(E,A),o[6]!==x||o[7]!==N?(t=()=>{x||C((null==N?void 0:N.isIntersecting)?"top":"bottom")},n=[N,x],o[6]=x,o[7]=N,o[8]=t,o[9]=n):(t=o[8],n=o[9]),(0,r.useEffect)(t,n),o[10]!==x||o[11]!==v||o[12]!==c||o[13]!==s||o[14]!==k||o[15]!==y||o[16]!==h||o[17]!==j){let e=y&&"tooltip--show",t="tooltip--caret-".concat(v),n="tooltip--position-".concat(h||j),l;o[19]!==c||o[20]!==e||o[21]!==t||o[22]!==n?(l=["tooltip",c,e,t,n].filter(Boolean),o[19]=c,o[20]=e,o[21]=t,o[22]=n,o[23]=l):l=o[23],a=(0,u.jsxs)(r.Fragment,{children:[!x&&(0,u.jsx)("aside",{"aria-hidden":"true",className:["tooltip",c,"tooltip--caret-".concat(v),"tooltip--position-top"].filter(Boolean).join(" "),ref:k,style:{opacity:"0"},children:(0,u.jsx)("div",{className:"tooltip-content",children:s})}),(0,u.jsx)("aside",{className:l.join(" "),title:function(e){return"string"==typeof e?e:""}(s),children:(0,u.jsx)("div",{className:"tooltip-content",children:s})})]}),o[10]=x,o[11]=v,o[12]=c,o[13]=s,o[14]=k,o[15]=y,o[16]=h,o[17]=j,o[18]=a}else a=o[18];return a},e$={chevron:eP,edit:eD,link:eO,plus:eR,swap:eI,x:c.a},e0=e=>{let{children:t,icon:n,showTooltip:a,tooltip:o}=e,l=e$[n];return(0,u.jsxs)(r.Fragment,{children:[o&&(0,u.jsx)(eZ,{className:"".concat("btn","__tooltip"),show:a,children:o}),(0,u.jsxs)("span",{className:"".concat("btn","__content"),children:[t&&(0,u.jsx)("span",{className:"".concat("btn","__label"),children:t}),n&&(0,u.jsxs)("span",{className:"".concat("btn","__icon"),children:[(0,r.isValidElement)(n)&&n,l&&(0,u.jsx)(l,{})]})]})]})},e1=(0,r.forwardRef)((e,t)=>{let{id:n,type:a="button","aria-label":o,buttonStyle:l="primary",children:i,className:s,disabled:c,el:d="button",icon:p,iconPosition:h="right",iconStyle:f="without-border",Link:m,newTab:v,onClick:g,onMouseDown:b,round:x,size:y="medium",SubMenuPopupContent:w,to:j,tooltip:C,url:S}=e,[_,k]=r.useState(!1),N=["btn",s&&s,p&&"".concat("btn","--icon"),f&&"".concat("btn","--icon-style-").concat(f),p&&!i&&"".concat("btn","--icon-only"),y&&"".concat("btn","--size-").concat(y),p&&h&&"".concat("btn","--icon-position-").concat(h),C&&"".concat("btn","--has-tooltip"),!w&&"".concat("btn","--withoutPopup")].filter(Boolean).join(" "),E=[l&&"".concat("btn","--style-").concat(l),c&&"".concat("btn","--disabled"),x&&"".concat("btn","--round"),w?"".concat("btn","--withPopup"):"".concat("btn","--withoutPopup")].filter(Boolean).join(" "),A={id:n,type:a,"aria-disabled":c,"aria-label":o,className:w?N:[N,E].join(" "),disabled:c,onClick:c?void 0:function(e){k(!1),"submit"!==a&&g&&e.preventDefault(),g&&g(e)},onMouseDown:c?void 0:b,onPointerEnter:C?()=>k(!0):void 0,onPointerLeave:C?()=>k(!1):void 0,rel:v?"noopener noreferrer":void 0,target:v?"_blank":void 0},P,D;switch(d){case"anchor":P=(0,u.jsx)("a",{...A,href:c?void 0:S,ref:t,children:(0,u.jsx)(e0,{icon:p,showTooltip:_,tooltip:C,children:i})});break;case"link":if(!m)return console.error('Link is required when using el="link"',i),null;let O=m;c?O="div":D=!1,P=(0,u.jsx)(O,{...A,href:j||S,prefetch:D,to:j||S,children:(0,u.jsx)(e0,{icon:p,showTooltip:_,tooltip:C,children:i})});break;default:P=(0,u.jsx)(d,{ref:t,type:"submit",...A,children:(0,u.jsx)(e0,{icon:p,showTooltip:_,tooltip:C,children:i})})}return w?(0,u.jsxs)("div",{className:E,children:[P,(0,u.jsx)(eJ,{button:(0,u.jsx)(eP,{}),buttonSize:y,className:c?"".concat("btn","--popup-disabled"):"",horizontalAlign:"right",noBackground:!0,render:e=>{let{close:t}=e;return w({close:()=>t()})},size:"large",verticalAlign:"bottom"})]}):P}),e2="u">typeof window&&"u">typeof window.document&&"u">typeof window.document.createElement?r.useLayoutEffect:r.useEffect,e3={},e6=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((e,t)=>{for(let[n,a]of Object.entries(t)){let t=e[n];null!=t&&(e[n]=t+-1*a)}return e},{...e})},e5=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[e5.Translate.toString(e),e5.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}});function e4(e,t,n){let a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function e9(e){return null!==e&&e>=0}var e8=e=>{let{rects:t,activeIndex:n,overIndex:a,index:o}=e,l=e4(t,a,n),r=t[o],i=l[o];return i&&r?{x:i.left-r.left,y:i.top-r.top,scaleX:i.width/r.width,scaleY:i.height/r.height}:null},e7="Sortable",te=r.createContext({activeIndex:-1,containerId:e7,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:e8,disabled:{draggable:!1,droppable:!1}});function tt(e){let{children:t,id:n,items:a,strategy:o=e8,disabled:l=!1}=e,{active:i,dragOverlay:s,droppableRects:c,over:d,measureDroppableContainers:u}=(0,m.Cj)(),p=(0,r.useMemo)(()=>{if(n)return n;let e=null==e3[e7]?0:e3[e7]+1;return e3[e7]=e,e7+"-"+e},[e7,n]),h=null!==s.rect,f=(0,r.useMemo)(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),v=null!=i,g=i?f.indexOf(i.id):-1,b=d?f.indexOf(d.id):-1,x=(0,r.useRef)(f),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(f,x.current),w=-1!==b&&-1===g||y,j="boolean"==typeof l?{draggable:l,droppable:l}:l;e2(()=>{y&&v&&u(f)},[y,f,v,u]),(0,r.useEffect)(()=>{x.current=f},[f]);let C=(0,r.useMemo)(()=>({activeIndex:g,containerId:p,disabled:j,disableTransforms:w,items:f,overIndex:b,useDragOverlay:h,sortedRects:f.reduce((e,t,n)=>{let a=c.get(t);return a&&(e[n]=a),e},Array(f.length)),strategy:o}),[g,p,j.draggable,j.droppable,w,f,b,c,h,o]);return r.createElement(te.Provider,{value:C},t)}var tn=e=>{let{id:t,items:n,activeIndex:a,overIndex:o}=e;return e4(n,a,o).indexOf(t)},ta=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:o,items:l,newIndex:r,previousItems:i,previousContainerId:s,transition:c}=e;return!!c&&!!a&&(i===l||o!==r)&&(!!n||r!==o&&t===s)},to={duration:200,easing:"ease"},tl="transform",tr=e5.Transition.toString({property:tl,duration:0,easing:"linear"}),ti={roleDescription:"sortable"};function ts(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var tc=[m.g4.Down,m.g4.Right,m.g4.Up,m.g4.Left],td=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:o,droppableContainers:l,over:r,scrollableAncestors:i}}=t;if(tc.includes(e.code)){if(e.preventDefault(),!n||!a)return;let t=[];l.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;let l=o.get(n.id);if(l)switch(e.code){case m.g4.Down:a.top<l.top&&t.push(n);break;case m.g4.Up:a.top>l.top&&t.push(n);break;case m.g4.Left:a.left>l.left&&t.push(n);break;case m.g4.Right:a.left<l.left&&t.push(n)}});let s=(0,m.ey)({active:n,collisionRect:a,droppableRects:o,droppableContainers:t,pointerCoordinates:null}),c=(0,m._8)(s,"id");if(c===(null==r?void 0:r.id)&&s.length>1&&(c=s[1].id),null!=c){let e=l.get(n.id),t=l.get(c),r=t?o.get(t.id):null,s=null==t?void 0:t.node.current;if(s&&r&&e&&t){let n=(0,m.hI)(s).some((e,t)=>i[t]!==e),o=tu(e,t),l=function(e,t){return!!(ts(e)&&ts(t)&&tu(e,t))&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!o?{x:0,y:0}:{x:l?a.width-r.width:0,y:l?a.height-r.height:0},d={x:r.left,y:r.top};return c.x&&c.y?d:e6(d,c)}}}};function tu(e,t){return!!(ts(e)&&ts(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var tp=e=>{let t,n,a=(0,p.c)(17),{id:o,disabled:l}=e,i;a[0]===Symbol.for("react.memo_cache_sentinel")?(i={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},a[0]=i):i=a[0],a[1]!==o||a[2]!==l?(t={id:o,disabled:l,transition:i},a[1]=o,a[2]=l,a[3]=t):t=a[3];let{attributes:s,isDragging:c,listeners:d,setNodeRef:u,transform:h,transition:f}=function(e){var t,n;let{animateLayoutChanges:a=ta,attributes:o,disabled:l,data:i,getNewIndex:s=tn,id:c,strategy:d,resizeObserverConfig:u,transition:p=to}=e,{items:h,containerId:f,activeIndex:v,disabled:g,disableTransforms:b,sortedRects:x,overIndex:y,useDragOverlay:w,strategy:j}=(0,r.useContext)(te),C="boolean"==typeof l?{draggable:l,droppable:!1}:{draggable:null!=(t=null==l?void 0:l.draggable)?t:g.draggable,droppable:null!=(n=null==l?void 0:l.droppable)?n:g.droppable},S=h.indexOf(c),_=(0,r.useMemo)(()=>({sortable:{containerId:f,index:S,items:h},...i}),[f,i,S,h]),k=(0,r.useMemo)(()=>h.slice(h.indexOf(c)),[h,c]),{rect:N,node:E,isOver:A,setNodeRef:P}=(0,m.Zj)({id:c,data:_,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...u}}),{active:D,activatorEvent:O,activeNodeRect:R,attributes:I,setNodeRef:T,listeners:L,isDragging:M,over:F,setActivatorNodeRef:B,transform:V}=(0,m.O1)({id:c,data:_,attributes:{...ti,...o},disabled:C.draggable}),z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(P,T),U=!!D,H=U&&!b&&e9(v)&&e9(y),q=!w&&M,W=q&&H?V:null,K=H?null!=W?W:(null!=d?d:j)({rects:x,activeNodeRect:R,activeIndex:v,overIndex:y,index:S}):null,Y=e9(v)&&e9(y)?s({id:c,items:h,activeIndex:v,overIndex:y}):S,Q=null==D?void 0:D.id,G=(0,r.useRef)({activeId:Q,items:h,newIndex:Y,containerId:f}),X=h!==G.current.items,J=a({active:D,containerId:f,isDragging:M,isSorting:U,id:c,index:S,items:h,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:p,wasDragging:null!=G.current.activeId}),Z=function(e){let{disabled:t,index:n,node:a,rect:o}=e,[l,i]=(0,r.useState)(null),s=(0,r.useRef)(n);return e2(()=>{if(!t&&n!==s.current&&a.current){let e=o.current;if(e){let t=(0,m.VK)(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&i(n)}}n!==s.current&&(s.current=n)},[t,n,a,o]),(0,r.useEffect)(()=>{l&&i(null)},[l]),l}({disabled:!J,index:S,node:E,rect:N});return(0,r.useEffect)(()=>{U&&G.current.newIndex!==Y&&(G.current.newIndex=Y),f!==G.current.containerId&&(G.current.containerId=f),h!==G.current.items&&(G.current.items=h)},[U,Y,f,h]),(0,r.useEffect)(()=>{if(Q===G.current.activeId)return;if(Q&&!G.current.activeId){G.current.activeId=Q;return}let e=setTimeout(()=>{G.current.activeId=Q},50);return()=>clearTimeout(e)},[Q]),{active:D,activeIndex:v,attributes:I,data:_,rect:N,index:S,newIndex:Y,items:h,isOver:A,isSorting:U,isDragging:M,listeners:L,node:E,overIndex:y,over:F,setNodeRef:z,setActivatorNodeRef:B,setDroppableNodeRef:P,setDraggableNodeRef:T,transform:null!=Z?Z:K,transition:Z||X&&G.current.newIndex===S?tr:!(q&&!function(e){var t,n,a;let o;if(!e)return!1;let{KeyboardEvent:l}=(t=e.target)?"[object Window]"===(o=Object.prototype.toString.call(t))||"[object global]"===o?t:"nodeType"in t&&null!=(n=null==(a=t.ownerDocument)?void 0:a.defaultView)?n:window:window;return l&&e instanceof l}(O)||!p)&&(U||J)?e5.Transition.toString({...p,property:tl}):void 0}}(t),v=c?"grabbing":"grab",g;a[4]!==v||a[5]!==f?(g={cursor:v,transition:f},a[4]=v,a[5]=f,a[6]=g):g=a[6],a[7]!==s||a[8]!==g?(n={...s,style:g},a[7]=s,a[8]=g,a[9]=n):n=a[9];let b=h&&"translate3d(".concat(h.x,"px, ").concat(h.y,"px, 0)"),x;return a[10]!==n||a[11]!==c||a[12]!==d||a[13]!==u||a[14]!==b||a[15]!==f?(x={attributes:n,isDragging:c,listeners:d,setNodeRef:u,transform:b,transition:f},a[10]=n,a[11]=c,a[12]=d,a[13]=u,a[14]=b,a[15]=f,a[16]=x):x=a[16],x},th=e=>{let t=(0,p.c)(12),{id:n,children:a,disabled:o}=e,l;t[0]!==n||t[1]!==o?(l={id:n,disabled:o},t[0]=n,t[1]=o,t[2]=l):l=t[2];let{attributes:i,isDragging:s,listeners:c,setNodeRef:d,transform:h,transition:f}=tp(l),m=s?"grabbing":"grab",v;return t[3]!==m||t[4]!==i||t[5]!==s||t[6]!==c||t[7]!==d||t[8]!==h||t[9]!==f||t[10]!==a?(v=(0,u.jsx)(r.Fragment,{children:a({attributes:{...i,style:{cursor:m}},isDragging:s,listeners:c,setNodeRef:d,transform:h,transition:f})}),t[3]=m,t[4]=i,t[5]=s,t[6]=c,t[7]=d,t[8]=h,t[9]=f,t[10]=a,t[11]=v):v=t[11],v},tf=e=>{let t,n=(0,p.c)(15),{children:a,className:o,ids:l,onDragEnd:i}=e,s=(0,r.useId)(),c;n[0]!==s?(c={id:s},n[0]=s,n[1]=c):c=n[1];let{setNodeRef:d}=(0,m.Zj)(c),h;n[2]===Symbol.for("react.memo_cache_sentinel")?(h={activationConstraint:{distance:5}},n[2]=h):h=n[2],n[3]===Symbol.for("react.memo_cache_sentinel")?(t={coordinateGetter:td},n[3]=t):t=n[3];let f=(0,m.Dy)((0,m.VT)(m.we,h),(0,m.VT)(m.Lg,t)),v;n[4]!==i||n[5]!==l?(v=e=>{let{active:t,over:n}=e;e.activatorEvent.stopPropagation(),t&&n&&"function"==typeof i&&i({event:e,moveFromIndex:l.findIndex(e=>e===t.id),moveToIndex:l.findIndex(e=>e===n.id)})},n[4]=i,n[5]=l,n[6]=v):v=n[6];let g=v,b;return n[7]!==o||n[8]!==d||n[9]!==a||n[10]!==l||n[11]!==s||n[12]!==g||n[13]!==f?(b=(0,u.jsx)(m.LB,{collisionDetection:m.pE,id:s,onDragEnd:g,sensors:f,children:(0,u.jsx)(tt,{items:l,children:(0,u.jsx)("div",{className:o,ref:d,children:a})})}),n[7]=o,n[8]=d,n[9]=a,n[10]=l,n[11]=s,n[12]=g,n[13]=f,n[14]=b):b=n[14],b},tm="error-pill",tv=e=>{let{className:t,count:n,i18n:a,withMessage:o}=e,l=[tm,!o&&n<99&&"".concat(tm,"--fixed-width"),t&&t].filter(Boolean).join(" ");return 0===n?null:(0,u.jsx)("div",{className:l,children:(0,u.jsxs)("div",{className:"".concat(tm,"__content"),children:[(0,u.jsx)("span",{className:"".concat(tm,"__count"),children:n}),o&&" ".concat(n>1?a.t("general:errors"):a.t("general:error"))]})})},tg="field-description",tb=e=>{let t=(0,p.c)(8),{className:n,description:a,marginPlacement:o,path:l}=e,{i18n:r}=(0,c.d)();if(a){let e="field-description-".concat(null==l?void 0:l.replace(/\./g,"__")),i=o&&"".concat(tg,"--margin-").concat(o),s;t[0]!==n||t[1]!==e||t[2]!==i?(s=[tg,n,e,i].filter(Boolean),t[0]=n,t[1]=e,t[2]=i,t[3]=s):s=t[3];let c=s.join(" "),d;return t[4]!==a||t[5]!==r||t[6]!==c?(d=(0,u.jsx)("div",{className:c,children:(0,h.i0)(a,r)}),t[4]=a,t[5]=r,t[6]=c,t[7]=d):d=t[7],d}return null},tx=e=>{let t=(0,p.c)(7),{alignCaret:n,message:a,path:o,showError:l}=e,r=void 0===n?"right":n,i=eg(),s;t[0]!==o?(s=e=>{let[t]=e;return t&&(null==t?void 0:t[o])||null},t[0]=o,t[1]=s):s=t[1];let c=ew(s),d;t[2]!==c?(d=c||{},t[2]=c,t[3]=d):d=t[3];let{errorMessage:h,valid:f}=d,m=a||h;if((l||i&&!1===f)&&(null==m?void 0:m.length)){let e;return t[4]!==r||t[5]!==m?(e=(0,u.jsx)(eZ,{alignCaret:r,className:"field-error",delay:0,staticPositioning:!0,children:m}),t[4]=r,t[5]=m,t[6]=e):e=t[6],e}return null},ty=(0,r.createContext)(0),tw=e=>{let t=(0,p.c)(3),{children:n}=e,a=tj()+1,o;return t[0]!==a||t[1]!==n?(o=(0,u.jsx)(ty.Provider,{value:a,children:n}),t[0]=a,t[1]=n,t[2]=o):o=t[2],o},tj=()=>(0,r.useContext)(ty),tC=(e,t)=>(null==e?void 0:e.locales)&&0!==e.locales.length?e.locales.find(e=>(null==e?void 0:e.code)===t):null;function tS(){return(tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function t_(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}function tk(e,t){return(tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tk(e,t)}function tE(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var tA={disabled:!1},tP=r.createContext(null),tD=function(e){return e.scrollTop},tO="unmounted",tR="exited",tI="entering",tT="entered",tL="exiting",tM=function(e){function t(t,n){a=e.call(this,t,n)||this;var a,o,l=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?l?(o=tR,a.appearStatus=tI):o=tT:o=t.unmountOnExit||t.mountOnEnter?tO:tR,a.state={status:o},a.nextCallback=null,a}tN(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===tO?{status:tR}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==tI&&n!==tT&&(t=tI):(n===tI||n===tT)&&(t=tL)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!=typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===tI){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&tD(n)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===tR&&this.setState({status:tO})},n.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,o=this.props.nodeRef?[a]:[i.findDOMNode(this),a],l=o[0],r=o[1],s=this.getTimeouts(),c=a?s.appear:s.enter;if(!e&&!n||tA.disabled){this.safeSetState({status:tT},function(){t.props.onEntered(l)});return}this.props.onEnter(l,r),this.safeSetState({status:tI},function(){t.props.onEntering(l,r),t.onTransitionEnd(c,function(){t.safeSetState({status:tT},function(){t.props.onEntered(l,r)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:i.findDOMNode(this);if(!t||tA.disabled){this.safeSetState({status:tR},function(){e.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:tL},function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:tR},function(){e.props.onExited(a)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(!n||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],l=o[0],r=o[1];this.props.addEndListener(l,r)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===tO)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,t_(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(tP.Provider,{value:null},"function"==typeof n?n(e,a):r.cloneElement(r.Children.only(n),a))},t}(r.Component);function tF(){}tM.contextType=tP,tM.propTypes={},tM.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:tF,onEntering:tF,onEntered:tF,onExit:tF,onExiting:tF,onExited:tF},tM.UNMOUNTED=tO,tM.EXITED=tR,tM.ENTERING=tI,tM.ENTERED=tT,tM.EXITING=tL;var tB=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=tE(e.className,t):e.setAttribute("class",tE(e.className&&e.className.baseVal||"",t))})},tV=function(e){function t(){for(var t,n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var a=t.resolveArguments(e,n),o=a[0],l=a[1];t.removeClasses(o,"exit"),t.addClass(o,l?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.resolveArguments(e,n),o=a[0],l=a[1];t.addClass(o,l?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.resolveArguments(e,n),o=a[0],l=a[1]?"appear":"enter";t.removeClasses(o,l),t.addClass(o,l,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,a="string"==typeof n,o=a&&n?n+"-":"",l=a?""+o+e:n[e],r=a?l+"-active":n[e+"Active"],i=a?l+"-done":n[e+"Done"];return{baseClassName:l,activeClassName:r,doneClassName:i}},t}tN(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var a,o=this.getClassNames(t)[n+"ClassName"],l=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&l&&(o+=" "+l),"active"===n&&e&&tD(e),o&&(this.appliedClasses[t][n]=o,a=o,e&&a&&a.split(" ").forEach(function(t){e.classList?e.classList.add(t):(e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],a=n.base,o=n.active,l=n.done;this.appliedClasses[t]={},a&&tB(e,a),o&&tB(e,o),l&&tB(e,l)},n.render=function(){var e=this.props,t=(e.classNames,t_(e,["classNames"]));return r.createElement(tM,tS({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(r.Component);tV.defaultProps={classNames:""},tV.propTypes={};var tz=(0,r.createContext)({}),tU=()=>(0,r.useContext)(tz),tH=e=>e?{appear:"".concat(e,"--appear"),appearActive:"".concat(e,"--appearActive"),appearDone:"".concat(e,"--appearDone"),enter:"".concat(e,"--enter"),enterActive:"".concat(e,"--enterActive"),enterDone:"".concat(e,"--enterDone"),exit:"".concat(e,"--exit"),exitActive:"".concat(e,"--exitActive"),exitDone:"".concat(e,"--exitDone")}:{};function tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function tW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tq(Object(n),!0).forEach(function(t){var a,o;a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,c.j)();var tK={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var a=e.indexOf(t);-1===a||e.splice(a,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},tY=function(e){return(null==e?void 0:e.key)==="Tab"||(null==e?void 0:e.keyCode)===9},tQ=function(e){return tY(e)&&!e.shiftKey},tG=function(e){return tY(e)&&e.shiftKey},tX=function(e){return setTimeout(e,0)},tJ=function(e,t){var n=-1;return e.every(function(e,a){return!t(e)||(n=a,!1)}),n},tZ=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"function"==typeof e?e.apply(void 0,n):e},t$=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},t0=[],t1=function(e,t){var n,a=(null==t?void 0:t.document)||document,o=(null==t?void 0:t.trapStack)||t0,l=tW({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:tQ,isKeyBackward:tG},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},i=function(e,t,n){return e&&void 0!==e[t]?e[t]:l[n||t]},s=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return r.containerGroups.findIndex(function(t){var a=t.container,o=t.tabbableNodes;return a.contains(e)||(null==n?void 0:n.includes(a))||o.find(function(t){return t===e})})},d=function(e){var t=l[e];if("function"==typeof t){for(var n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var i=t;if("string"==typeof t&&!(i=a.querySelector(t)))throw Error("`".concat(e,"` as selector refers to no known node"));return i},u=function(){var e=d("initialFocus");if(!1===e)return!1;if(void 0===e||!(0,c.i)(e,l.tabbableOptions)){if(s(a.activeElement)>=0)e=a.activeElement;else{var t=r.tabbableGroups[0];e=t&&t.firstTabbableNode||d("fallbackFocus")}}if(!e)throw Error("Your focus-trap needs to have at least one focusable element");return e},p=function(){if(r.containerGroups=r.containers.map(function(e){var t=(0,c.f)(e,l.tabbableOptions),n=(0,c.g)(e,l.tabbableOptions),a=t.length>0?t[0]:void 0,o=t.length>0?t[t.length-1]:void 0,r=n.find(function(e){return(0,c.h)(e)}),i=n.slice().reverse().find(function(e){return(0,c.h)(e)}),s=!!t.find(function(e){return(0,c.e)(e)>0});return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:s,firstTabbableNode:a,lastTabbableNode:o,firstDomTabbableNode:r,lastDomTabbableNode:i,nextTabbableNode:function(e){var a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=t.indexOf(e);return o<0?a?n.slice(n.indexOf(e)+1).find(function(e){return(0,c.h)(e)}):n.slice(0,n.indexOf(e)).reverse().find(function(e){return(0,c.h)(e)}):t[o+(a?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(e){return e.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!d("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(e){return e.posTabIndexesFound})&&r.containerGroups.length>1)throw Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},f=function e(t){if(!1!==t&&t!==h(document)){if(!t||!t.focus){e(u());return}t.focus({preventScroll:!!l.preventScroll}),r.mostRecentlyFocusedNode=t,t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&t.select()}},m=function(e){var t=d("setReturnFocus",e);return t||!1!==t&&e},v=function(e){var t=e.target,n=e.event,a=e.isBackward,o=void 0!==a&&a;t=t||t$(n),p();var i=null;if(r.tabbableGroups.length>0){var u=s(t,n),h=u>=0?r.containerGroups[u]:void 0;if(u<0)i=o?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(o){var f=tJ(r.tabbableGroups,function(e){var n=e.firstTabbableNode;return t===n});if(f<0&&(h.container===t||(0,c.i)(t,l.tabbableOptions)&&!(0,c.h)(t,l.tabbableOptions)&&!h.nextTabbableNode(t,!1))&&(f=u),f>=0){var m=0===f?r.tabbableGroups.length-1:f-1,v=r.tabbableGroups[m];i=(0,c.e)(t)>=0?v.lastTabbableNode:v.lastDomTabbableNode}else tY(n)||(i=h.nextTabbableNode(t,!1))}else{var g=tJ(r.tabbableGroups,function(e){var n=e.lastTabbableNode;return t===n});if(g<0&&(h.container===t||(0,c.i)(t,l.tabbableOptions)&&!(0,c.h)(t,l.tabbableOptions)&&!h.nextTabbableNode(t))&&(g=u),g>=0){var b=g===r.tabbableGroups.length-1?0:g+1,x=r.tabbableGroups[b];i=(0,c.e)(t)>=0?x.firstTabbableNode:x.firstDomTabbableNode}else tY(n)||(i=h.nextTabbableNode(t))}}else i=d("fallbackFocus");return i},g=function(e){if(!(s(t$(e),e)>=0)){if(tZ(l.clickOutsideDeactivates,e)){n.deactivate({returnFocus:l.returnFocusOnDeactivate});return}tZ(l.allowOutsideClick,e)||e.preventDefault()}},b=function(e){var t=t$(e),n=s(t,e)>=0;if(n||t instanceof Document)n&&(r.mostRecentlyFocusedNode=t);else{e.stopImmediatePropagation();var a,o=!0;if(r.mostRecentlyFocusedNode){if((0,c.e)(r.mostRecentlyFocusedNode)>0){var i=s(r.mostRecentlyFocusedNode),d=r.containerGroups[i].tabbableNodes;if(d.length>0){var p=d.findIndex(function(e){return e===r.mostRecentlyFocusedNode});p>=0&&(l.isKeyForward(r.recentNavEvent)?p+1<d.length&&(a=d[p+1],o=!1):p-1>=0&&(a=d[p-1],o=!1))}}else r.containerGroups.some(function(e){return e.tabbableNodes.some(function(e){return(0,c.e)(e)>0})})||(o=!1)}else o=!1;o&&(a=v({target:r.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(r.recentNavEvent)})),f(a||r.mostRecentlyFocusedNode||u())}r.recentNavEvent=void 0},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.recentNavEvent=e;var n=v({event:e,isBackward:t});n&&(tY(e)&&e.preventDefault(),f(n))},y=function(e){if(((null==e?void 0:e.key)==="Escape"||(null==e?void 0:e.key)==="Esc"||(null==e?void 0:e.keyCode)===27)&&!1!==tZ(l.escapeDeactivates,e)){e.preventDefault(),n.deactivate();return}(l.isKeyForward(e)||l.isKeyBackward(e))&&x(e,l.isKeyBackward(e))},w=function(e){s(t$(e),e)>=0||tZ(l.clickOutsideDeactivates,e)||tZ(l.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},j=function(){if(r.active)return tK.activateTrap(o,n),r.delayInitialFocusTimer=l.delayInitialFocus?tX(function(){f(u())}):f(u()),a.addEventListener("focusin",b,!0),a.addEventListener("mousedown",g,{capture:!0,passive:!1}),a.addEventListener("touchstart",g,{capture:!0,passive:!1}),a.addEventListener("click",w,{capture:!0,passive:!1}),a.addEventListener("keydown",y,{capture:!0,passive:!1}),n},C=function(){if(r.active)return a.removeEventListener("focusin",b,!0),a.removeEventListener("mousedown",g,!0),a.removeEventListener("touchstart",g,!0),a.removeEventListener("click",w,!0),a.removeEventListener("keydown",y,!0),n},S="u">typeof window&&"MutationObserver"in window?new MutationObserver(function(e){e.some(function(e){return Array.from(e.removedNodes).some(function(e){return e===r.mostRecentlyFocusedNode})})&&f(u())}):void 0,_=function(){S&&(S.disconnect(),r.active&&!r.paused&&r.containers.map(function(e){S.observe(e,{subtree:!0,childList:!0})}))};return(n={get active(){return r.active},get paused(){return r.paused},activate:function(e){if(r.active)return this;var t=i(e,"onActivate"),n=i(e,"onPostActivate"),o=i(e,"checkCanFocusTrap");o||p(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=a.activeElement,null==t||t();var l=function(){o&&p(),j(),_(),null==n||n()};return o?o(r.containers.concat()).then(l,l):l(),this},deactivate:function(e){if(!r.active)return this;var t=tW({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},e);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,C(),r.active=!1,r.paused=!1,_(),tK.deactivateTrap(o,n);var a=i(t,"onDeactivate"),s=i(t,"onPostDeactivate"),c=i(t,"checkCanReturnFocus"),d=i(t,"returnFocus","returnFocusOnDeactivate");null==a||a();var u=function(){tX(function(){d&&f(m(r.nodeFocusedBeforeActivation)),null==s||s()})};return d&&c?c(m(r.nodeFocusedBeforeActivation)).then(u,u):u(),this},pause:function(e){if(r.paused||!r.active)return this;var t=i(e,"onPause"),n=i(e,"onPostPause");return r.paused=!0,null==t||t(),C(),_(),null==n||n(),this},unpause:function(e){if(!r.paused||!r.active)return this;var t=i(e,"onUnpause"),n=i(e,"onPostUnpause");return r.paused=!1,null==t||t(),p(),j(),_(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return r.containers=t.map(function(e){return"string"==typeof e?a.querySelector(e):e}),r.active&&p(),_(),this}}).updateContainerElements(e),n},t2=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)0>t.indexOf(a[o])&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n},t3="modal-item",t6=(a=e=>{let{children:t}=e;return t?"function"==typeof t?(0,u.jsx)(r.Fragment,{children:t(e)}):(0,u.jsx)(r.Fragment,{children:t}):null},e=>{let t=tU(),n=(0,r.useRef)(null),[l,s]=(0,r.useState)(!1),c=(0,r.useRef)(!1),[d,p]=(0,r.useState)(null),{modalState:h,classPrefix:f,containerRef:m,transTime:v,setCloseOnBlur:g,setBodyScrollLock:b,openModal:x}=t,{className:y,htmlElement:w="dialog",slug:j="",closeOnBlur:C=!0,lockBodyScroll:S=!0,classPrefix:_,onEnter:k,onEntering:N,onEntered:E,onExit:A,onExiting:P,onExited:D,openOnInit:O,trapFocus:R=!0,focusTrapOptions:I={}}=e,T=t2(e,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),L=_||f,M=o||j,F=h[M]&&h[M].isOpen;(0,r.useEffect)(()=>{if(R){let e=n.current;!1===c.current&&e&&(p(t1(e,Object.assign(Object.assign({},I),{fallbackFocus:(null==I?void 0:I.fallbackFocus)||e,allowOutsideClick:!("u">typeof I.allowOutsideClick)||I.allowOutsideClick}))),c.current=!0)}},[R,l,I]),(0,r.useEffect)(()=>{s(!0)},[]),(0,r.useEffect)(()=>(d&&(F?d.activate():d.deactivate()),()=>{d&&d.deactivate()}),[F,d]),(0,r.useEffect)(()=>{F&&g(C)},[F,C,g]),(0,r.useEffect)(()=>{let e=n.current;return e&&b(!!(F&&S),e),()=>{e&&b(!1,e)}},[F,S,b]);let[B,V]=(0,r.useState)(F);if((0,r.useEffect)(()=>{F?V(F):setTimeout(()=>V(!1),v)},[F,v]),(0,r.useEffect)(()=>{O&&x(M)},[M,O,x]),m.current){let o=L?"".concat(L,"__").concat(t3):t3,l=[o,"".concat(o,"--slug-").concat(M),y].filter(Boolean).join(" "),r=Object.assign({role:"dialog"!==w?"dialog":void 0,open:"dialog"===w?B||F:void 0,"aria-modal":!0,"aria-label":T["aria-labelledby"]?void 0:M},T);return i.createPortal((0,u.jsx)(tV,{nodeRef:n,timeout:v,in:F,classNames:tH(o),appear:!0,onEnter:k,onEntering:N,onEntered:E,onExit:A,onExiting:P,onExited:D,children:(0,u.jsx)(w,Object.assign({ref:n,id:(null==T?void 0:T.id)||M,className:l},r,{children:(0,u.jsx)(a,Object.assign({},e,{isOpen:F,modal:t}))}))}),m.current)}return null}),t5=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)0>t.indexOf(a[o])&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n},t4="modal-container",t9=e=>{let{oneModalIsOpen:t,classPrefix:n,transTime:a,setContainerRef:o,containerRef:l,closeAllModals:r,closeOnBlur:i}=tU(),{className:s,htmlElement:c="div",children:d,onClick:p}=e,h=t5(e,["className","htmlElement","children","onClick"]),f=n?"".concat(n,"__").concat(t4):t4,m=[f,s].filter(Boolean).join(" "),v=Object.assign(Object.assign({},h),{onClick:e=>{i&&r(),"function"==typeof p&&p(e)}});return(0,u.jsx)(tV,{nodeRef:l,in:t,timeout:a,classNames:tH(f),appear:!0,children:(0,u.jsx)(c,Object.assign({className:m,ref:o},v,{children:d&&d}))})},t8=!1;"u">typeof window&&(t7={get passive(){t8=!0}},window.addEventListener("testPassive",null,t7),window.removeEventListener("testPassive",null,t7));var t7,ne="u">typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),nt=[],nn=!1,na=-1,no=void 0,nl=void 0,nr=void 0,ni=function(e){return nt.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},ns=function(e){var t=e||window.event;return!!ni(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},nc=function(e){if(void 0===nr){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var a=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);nr=document.body.style.paddingRight,document.body.style.paddingRight=a+n+"px"}}void 0===no&&(no=document.body.style.overflow,document.body.style.overflow="hidden")},nd=function(){void 0!==nr&&(document.body.style.paddingRight=nr,nr=void 0),void 0!==no&&(document.body.style.overflow=no,no=void 0)},nu=function(){if(void 0!==nl){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=nl.position,document.body.style.top=nl.top,document.body.style.left=nl.left,window.scrollTo(t,e),nl=void 0}},np=function(e,t){var n=e.targetTouches[0].clientY-na;return!ni(e.target)&&(t&&0===t.scrollTop&&n>0||t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?ns(e):(e.stopPropagation(),!0))},nh=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}!nt.some(function(t){return t.targetElement===e})&&(nt=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(nt),[{targetElement:e,options:t||{}}]),ne?window.requestAnimationFrame(function(){if(void 0===nl){nl={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,a=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=a-window.innerHeight;e&&t>=a&&(document.body.style.top=-(t+e))})},300)}}):nc(t),ne&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(na=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&np(t,e)},nn||(document.addEventListener("touchmove",ns,t8?{passive:!1}:void 0),nn=!0)))},nf=function(){ne&&(nt.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),nn&&(document.removeEventListener("touchmove",ns,t8?{passive:!1}:void 0),nn=!1),na=-1),ne?nu():nd(),nt=[]},nm=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}nt=nt.filter(function(t){return t.targetElement!==e}),ne&&(e.ontouchstart=null,e.ontouchmove=null,nn&&0===nt.length&&(document.removeEventListener("touchmove",ns,t8?{passive:!1}:void 0),nn=!1)),ne?nu():nd()},nv=e=>{let{classPrefix:t,zIndex:n}=e,a=t?"".concat(t,"__"):"";return"\n    .".concat(a).concat(t4," {\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      position: fixed;\n      pointer-events: none;\n      visibility: hidden;\n      z-index: -1;\n    }\n\n    .").concat(a).concat(t4,"--appear,\n    .").concat(a).concat(t4,"--appearDone,\n    .").concat(a).concat(t4,"--enter,\n    .").concat(a).concat(t4,"--enterDone,\n    .").concat(a).concat(t4,"--exit {\n      pointer-events: all;\n      visibility: visible;\n      z-index: ").concat(n,";\n    }\n\n    .").concat(a).concat(t3," {\n      position: absolute;\n      visibility: hidden;\n    }\n\n    .").concat(a).concat(t3,"--appear,\n    .").concat(a).concat(t3,"--appearDone,\n    .").concat(a).concat(t3,"--enter,\n    .").concat(a).concat(t3,"--enterDone,\n    .").concat(a).concat(t3,"--exit {\n      visibility: visible;\n    }\n  ")},ng=(e,t)=>{let n=Object.assign({},e),{type:a,payload:o}=t;switch(a){case"UPDATE_MODAL":{let{slug:e}=o;e&&(n[e]=Object.assign(Object.assign({},n[e]),o));break}case"OPEN_MODAL":{let{slug:e}=o;e&&(e in n&&n[e].isOpen||(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:e}=o;if(e){let t=e in n&&n[e].isOpen;n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:t?void 0:Date.now(),isOpen:!t})}break}case"CLOSE_MODAL":{let{slug:e}=o;e&&(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:e}=o;e&&e in n&&delete n[e];break}case"CLOSE_LATEST_MODAL":{let e=Object.keys(n).reduce((e,t)=>{let a=n[t];return a.isOpen&&"number"==typeof a.openedOn&&(!e||"number"==typeof e.openedOn&&a.openedOn>e.openedOn)?a:e},void 0);e&&(n[e.slug]=Object.assign(Object.assign({},n[e.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":n=Object.entries(n).reduce((e,t)=>{let[n,a]=t;return e[n]=Object.assign(Object.assign({},a),{isOpen:!1,openedOn:void 0}),e},{})}return n},nb=()=>{if("u">typeof window)return new URLSearchParams(window.location.search)},nx=()=>{let e=nb(),t=[];if(e){let n=e.get("modal");n&&(t=n.includes(",")?n.split(","):[n])}return t},ny=e=>{let{classPrefix:t,minifyCSS:n=!0,generateCSS:a=!0,zIndex:o=9999,handleParamChange:l,children:i,transTime:s=250}=e,c=(0,r.useRef)(null),[d,p]=(0,r.useReducer)(ng,{},()=>nx().reduce((e,t)=>(e[t]={slug:t,isOpen:!0,openedOn:Date.now()},e),{})),[h,f]=(0,r.useState)(!1),[m,v]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[x,y]=(0,r.useState)(""),w=(0,r.useRef)(!1),j=(0,r.useCallback)(e=>{27===e.keyCode&&p({type:"CLOSE_LATEST_MODAL"})},[]);(0,r.useEffect)(()=>(w.current||(document.addEventListener("keydown",e=>j(e),!1),w.current=!0),()=>{w.current&&document.removeEventListener("keydown",e=>j(e),!1)}),[j]),(0,r.useEffect)(()=>{if(a){let e="";e=nv({classPrefix:t,zIndex:o}),n&&(e=e.replace(/\n/g,"").replace(/\s\s+/g," ")),y(e)}},[a,n,o,t]),(0,r.useEffect)(()=>{if("function"==typeof l&&l(d),"boolean"==typeof l&&l){let e=Object.keys(d).filter(e=>d[e].isOpen),t=new URLSearchParams;for(let n of e)t.append("modal",n);let n=t.toString()?"?".concat(t):"",a="".concat(window.location.pathname).concat(n);window.history.pushState({},"",a)}},[d,l]),(0,r.useEffect)(()=>{f(Object.keys(d).some(e=>d[e].isOpen))},[d]);let C=(0,r.useCallback)((e,t)=>{t&&(e?(nh(t),b(!0)):(nm(t),b(!1)))},[]),S=(0,r.useCallback)(e=>{c.current=e},[]),_=(0,r.useCallback)(e=>{p({type:"OPEN_MODAL",payload:{slug:e}})},[]),k=(0,r.useCallback)(e=>{p({type:"CLOSE_MODAL",payload:{slug:e}})},[]),N=(0,r.useCallback)(()=>{p({type:"CLOSE_ALL_MODALS"})},[]),E=(0,r.useCallback)(e=>{p({type:"TOGGLE_MODAL",payload:{slug:e}})},[]),A=(0,r.useCallback)(e=>d[e]&&d[e].isOpen,[d]),P=Object.assign({},e);return delete P.children,(0,u.jsxs)(r.Fragment,{children:[a&&(0,u.jsx)("style",{dangerouslySetInnerHTML:{__html:x}}),(0,u.jsx)(tz.Provider,{value:Object.assign(Object.assign({},P),{transTime:s,containerRef:c,modalState:d,oneModalIsOpen:h,isModalOpen:A,closeOnBlur:m,bodyScrollIsLocked:g,classPrefix:t,closeAllModals:N,setCloseOnBlur:v,openModal:_,closeModal:k,toggleModal:E,setBodyScrollLock:C,setContainerRef:S}),children:i})]})},nw=e=>{switch(e){case"success":return nS;case"info":return nk;case"warning":return n_;case"error":return nN;default:return null}},nj=Array(12).fill(0),nC=e=>{let{visible:t,className:n}=e;return r.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},r.createElement("div",{className:"sonner-spinner"},nj.map((e,t)=>r.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},nS=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),n_=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nk=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nN=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nE=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nA=()=>{let[e,t]=r.useState(document.hidden);return r.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e},nP=1,nD=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...a}=e,o="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:nP++,l=this.toasts.find(e=>e.id===o),r=void 0===e.dismissible||e.dismissible;return l?this.toasts=this.toasts.map(t=>t.id===o?(this.publish({...t,...e,id:o,title:n}),{...t,...e,id:o,dismissible:r,title:n}):t):this.addToast({title:n,...a,dismissible:r,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let n;if(!t)return;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let a=e instanceof Promise?e:e(),o=void 0!==n,l,i=a.then(async e=>{if(l=["resolve",e],r.isValidElement(e))o=!1,this.create({id:n,type:"default",message:e});else if(nO(e)&&!e.ok){o=!1;let a="function"==typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,l="function"==typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description;this.create({id:n,type:"error",message:a,description:l})}else if(void 0!==t.success){o=!1;let a="function"==typeof t.success?await t.success(e):t.success,l="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:a,description:l})}}).catch(async e=>{if(l=["reject",e],void 0!==t.error){o=!1;let a="function"==typeof t.error?await t.error(e):t.error,l="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:a,description:l})}}).finally(()=>{var e;o&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)}),s=()=>new Promise((e,t)=>i.then(()=>"reject"===l[0]?t(l[1]):e(l[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||nP++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},nO=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,nR=Object.assign((e,t)=>{let n=(null==t?void 0:t.id)||nP++;return nD.addToast({title:e,...t,id:n}),n},{success:nD.success,info:nD.info,warning:nD.warning,error:nD.error,custom:nD.custom,message:nD.message,promise:nD.promise,dismiss:nD.dismiss,loading:nD.loading},{getHistory:()=>nD.toasts});function nI(e){return void 0!==e.label}function nT(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var nL=e=>{var t,n,a,o,l,i,s,c,d,u,p;let{invert:h,toast:f,unstyled:m,interacting:v,setHeights:g,visibleToasts:b,heights:x,index:y,toasts:w,expanded:j,removeToast:C,defaultRichColors:S,closeButton:_,style:k,cancelButtonStyle:N,actionButtonStyle:E,className:A="",descriptionClassName:P="",duration:D,position:O,gap:R,loadingIcon:I,expandByDefault:T,classNames:L,icons:M,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:B,cn:V}=e,[z,U]=r.useState(!1),[H,q]=r.useState(!1),[W,K]=r.useState(!1),[Y,Q]=r.useState(!1),[G,X]=r.useState(!1),[J,Z]=r.useState(0),[$,ee]=r.useState(0),et=r.useRef(f.duration||D||4e3),en=r.useRef(null),ea=r.useRef(null),eo=0===y,el=y+1<=b,er=f.type,ei=!1!==f.dismissible,es=f.className||"",ec=f.descriptionClassName||"",ed=r.useMemo(()=>x.findIndex(e=>e.toastId===f.id)||0,[x,f.id]),eu=r.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:_},[f.closeButton,_]),ep=(r.useMemo(()=>f.duration||D||4e3,[f.duration,D]),r.useRef(0)),eh=r.useRef(0),ef=r.useRef(0),em=r.useRef(null),[ev,eg]=O.split("-"),eb=r.useMemo(()=>x.reduce((e,t,n)=>n>=ed?e:e+t.height,0),[x,ed]),ex=nA(),ey=f.invert||h,ew="loading"===er;eh.current=r.useMemo(()=>ed*R+eb,[ed,eb]),r.useEffect(()=>{U(!0)},[]),r.useEffect(()=>{let e=ea.current;if(e){let t=e.getBoundingClientRect().height;return ee(t),g(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>g(e=>e.filter(e=>e.toastId!==f.id))}},[g,f.id]),r.useLayoutEffect(()=>{if(!z)return;let e=ea.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,ee(n),g(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:n}:e):[{toastId:f.id,height:n,position:f.position},...e])},[z,f.title,f.description,g,f.id]);let ej=r.useCallback(()=>{q(!0),Z(eh.current),g(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{C(f)},200)},[f,C,g,eh]);return r.useEffect(()=>{let e;if((!f.promise||"loading"!==er)&&f.duration!==1/0&&"loading"!==f.type)return j||v||B&&ex?(()=>{if(ef.current<ep.current){let e=new Date().getTime()-ep.current;et.current=et.current-e}ef.current=new Date().getTime()})():et.current!==1/0&&(ep.current=new Date().getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),ej()},et.current)),()=>clearTimeout(e)},[j,v,f,er,B,ex,ej]),r.useEffect(()=>{f.delete&&ej()},[ej,f.delete]),r.createElement("li",{tabIndex:0,ref:ea,className:V(A,es,null==L?void 0:L.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==L?void 0:L.default,null==L?void 0:L[er],null==(n=null==f?void 0:f.classNames)?void 0:n[er]),"data-sonner-toast":"","data-rich-colors":null!=(a=f.richColors)?a:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":z,"data-promise":!!f.promise,"data-swiped":G,"data-removed":H,"data-visible":el,"data-y-position":ev,"data-x-position":eg,"data-index":y,"data-front":eo,"data-swiping":W,"data-dismissible":ei,"data-type":er,"data-invert":ey,"data-swipe-out":Y,"data-expanded":!!(j||T&&z),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":"".concat(H?J:eh.current,"px"),"--initial-height":T?"auto":"".concat($,"px"),...k,...f.style},onPointerDown:e=>{ew||!ei||(en.current=new Date,Z(eh.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(K(!0),em.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,a;if(Y||!ei)return;em.current=null;let o=Number((null==(e=ea.current)?void 0:e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),l=Math.abs(o)/(new Date().getTime()-(null==(t=en.current)?void 0:t.getTime()));if(Math.abs(o)>=20||l>.11){Z(eh.current),null==(n=f.onDismiss)||n.call(f,f),ej(),Q(!0),X(!1);return}null==(a=ea.current)||a.style.setProperty("--swipe-amount","0px"),K(!1)},onPointerMove:e=>{var t,n,a;if(!em.current||!ei)return;let o=e.clientY-em.current.y,l=(null==(t=window.getSelection())?void 0:t.toString().length)>0;Number((null==(n=ea.current)?void 0:n.style.getPropertyValue("--swipe-amount").replace("px",""))||0)>0&&X(!0),l||null==(a=ea.current)||a.style.setProperty("--swipe-amount","".concat(Math.max(0,o),"px"))}},eu&&!f.jsx?r.createElement("button",{"aria-label":F,"data-disabled":ew,"data-close-button":!0,onClick:ew||!ei?()=>{}:()=>{var e;ej(),null==(e=f.onDismiss)||e.call(f,f)},className:V(null==L?void 0:L.closeButton,null==(o=null==f?void 0:f.classNames)?void 0:o.closeButton)},null!=(l=null==M?void 0:M.close)?l:nE):null,f.jsx||r.isValidElement(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:r.createElement(r.Fragment,null,er||f.icon||f.promise?r.createElement("div",{"data-icon":"",className:V(null==L?void 0:L.icon,null==(i=null==f?void 0:f.classNames)?void 0:i.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||function(){var e,t,n;return null!=M&&M.loading?r.createElement("div",{className:V(null==L?void 0:L.loader,null==(e=null==f?void 0:f.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===er},M.loading):I?r.createElement("div",{className:V(null==L?void 0:L.loader,null==(t=null==f?void 0:f.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===er},I):r.createElement(nC,{className:V(null==L?void 0:L.loader,null==(n=null==f?void 0:f.classNames)?void 0:n.loader),visible:"loading"===er})}():null,"loading"!==f.type?f.icon||(null==M?void 0:M[er])||nw(er):null):null,r.createElement("div",{"data-content":"",className:V(null==L?void 0:L.content,null==(s=null==f?void 0:f.classNames)?void 0:s.content)},r.createElement("div",{"data-title":"",className:V(null==L?void 0:L.title,null==(c=null==f?void 0:f.classNames)?void 0:c.title)},"function"==typeof f.title?f.title():f.title),f.description?r.createElement("div",{"data-description":"",className:V(P,ec,null==L?void 0:L.description,null==(d=null==f?void 0:f.classNames)?void 0:d.description)},"function"==typeof f.description?f.description():f.description):null),r.isValidElement(f.cancel)?f.cancel:f.cancel&&nI(f.cancel)?r.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||N,onClick:e=>{var t,n;nI(f.cancel)&&ei&&(null==(n=(t=f.cancel).onClick)||n.call(t,e),ej())},className:V(null==L?void 0:L.cancelButton,null==(u=null==f?void 0:f.classNames)?void 0:u.cancelButton)},f.cancel.label):null,r.isValidElement(f.action)?f.action:f.action&&nI(f.action)?r.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||E,onClick:e=>{var t,n;nI(f.action)&&(null==(n=(t=f.action).onClick)||n.call(t,e),e.defaultPrevented||ej())},className:V(null==L?void 0:L.actionButton,null==(p=null==f?void 0:f.classNames)?void 0:p.actionButton)},f.action.label):null))};function nM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var nF=(0,r.forwardRef)(function(e,t){let{invert:n,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:s,className:c,offset:d,theme:u="light",richColors:p,duration:h,style:f,visibleToasts:m=3,toastOptions:v,dir:g=nM(),gap:b=14,loadingIcon:x,icons:y,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:j,cn:C=nT}=e,[S,_]=r.useState([]),k=r.useMemo(()=>Array.from(new Set([a].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,a]),[N,E]=r.useState([]),[A,P]=r.useState(!1),[D,O]=r.useState(!1),[R,I]=r.useState("system"!==u?u:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=r.useRef(null),L=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=r.useRef(null),F=r.useRef(!1),B=r.useCallback(e=>{_(t=>{var n;return null!=(n=t.find(t=>t.id===e.id))&&n.delete||nD.dismiss(e.id),t.filter(t=>{let{id:n}=t;return n!==e.id})})},[]);return r.useEffect(()=>nD.subscribe(e=>{if(e.dismiss){_(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t));return}setTimeout(()=>{i.flushSync(()=>{_(t=>{let n=t.findIndex(t=>t.id===e.id);return -1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[]),r.useEffect(()=>{if("system"!==u){I(u);return}if("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;I(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{I(t?"dark":"light")}catch(e){console.error(e)}})}},[u]),r.useEffect(()=>{S.length<=1&&P(!1)},[S]),r.useEffect(()=>{let e=e=>{var t,n;o.every(t=>e[t]||e.code===t)&&(P(!0),null==(t=T.current)||t.focus()),"Escape"===e.code&&(document.activeElement===T.current||null!=(n=T.current)&&n.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]),r.useEffect(()=>{if(T.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,F.current=!1)}},[T.current]),r.createElement("section",{"aria-label":"".concat(w," ").concat(L),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},k.map((e,t)=>{var a;let[o,i]=e.split("-");return S.length?r.createElement("ol",{key:e,dir:"auto"===g?nM():g,tabIndex:-1,ref:T,className:c,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":o,"data-lifted":A&&S.length>1&&!l,"data-x-position":i,style:{"--front-toast-height":"".concat((null==(a=N[0])?void 0:a.height)||0,"px"),"--offset":"number"==typeof d?"".concat(d,"px"):d||"32px","--width":"".concat(356,"px"),"--gap":"".concat(b,"px"),...f},onBlur:e=>{F.current&&!e.currentTarget.contains(e.relatedTarget)&&(F.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||F.current||(F.current=!0,M.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{D||P(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||O(!0)},onPointerUp:()=>O(!1)},S.filter(n=>!n.position&&0===t||n.position===e).map((t,a)=>{var o,i;return r.createElement(nL,{key:t.id,icons:y,index:a,toast:t,defaultRichColors:p,duration:null!=(o=null==v?void 0:v.duration)?o:h,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:m,closeButton:null!=(i=null==v?void 0:v.closeButton)?i:s,interacting:D,position:e,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,removeToast:B,toasts:S.filter(e=>e.position==t.position),heights:N.filter(e=>e.position==t.position),setHeights:E,expandByDefault:l,gap:b,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:j,cn:C})})):null}))}),nB=e=>{let{adminRoute:t,basePath:n="",path:a,serverURL:o}=e;if(t){if("/"!==t)return"".concat(o||"").concat(n).concat(t).concat(a);if(!a)return"".concat(o||"").concat(n).concat(t)}return"".concat(o||"").concat(n).concat(a)},nV="stay-logged-in",nz="stay-logged-in",nU=()=>{let e=(0,p.c)(15),{refreshCookie:t}=nY(),n=(0,v.useRouter)(),{config:a}=(0,s.b)(),{admin:o,routes:l}=a,{routes:r}=o,{logout:i}=r,{admin:d}=l,{toggleModal:h}=tU(),{t:f}=(0,c.d)(),m;if(e[0]!==f||e[1]!==h||e[2]!==n||e[3]!==d||e[4]!==i||e[5]!==t){let a,o;e[7]!==h||e[8]!==n||e[9]!==d||e[10]!==i?(a=()=>{h(nz),n.push(nB({adminRoute:d,path:i}))},e[7]=h,e[8]=n,e[9]=d,e[10]=i,e[11]=a):a=e[11],e[12]!==t||e[13]!==h?(o=()=>{t(),h(nz)},e[12]=t,e[13]=h,e[14]=o):o=e[14],m=(0,u.jsx)(t6,{className:nV,slug:nz,children:(0,u.jsxs)("div",{className:"".concat(nV,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(nV,"__content"),children:[(0,u.jsx)("h1",{children:f("authentication:stayLoggedIn")}),(0,u.jsx)("p",{children:f("authentication:youAreInactive")})]}),(0,u.jsxs)("div",{className:"".concat(nV,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",onClick:a,size:"large",children:f("authentication:logOut")}),(0,u.jsx)(e1,{onClick:o,size:"large",children:f("authentication:stayLoggedIn")})]})]})}),e[0]=f,e[1]=h,e[2]=n,e[3]=d,e[4]=i,e[5]=t,e[6]=m}else m=e[6];return m};function nH(e,t){let n=(0,p.c)(4),[a,o]=(0,r.useState)(e),l,i;return n[0]!==e||n[1]!==t?(l=()=>{let n=setTimeout(()=>{o(e)},t);return()=>{clearTimeout(n)}},i=[e,t],n[0]=e,n[1]=t,n[2]=l,n[3]=i):(l=n[2],i=n[3]),(0,r.useEffect)(l,i),a}var nq={delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"delete"})},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n="";return t.params&&(n=g.P(t.params,{addQueryPrefix:!0})),fetch("".concat(e).concat(n),{credentials:"include",...t})},patch:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"PATCH"})},post:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{},a={...t,credentials:"include",headers:{...n},method:"post"};return fetch("".concat(e),a)},put:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"put"})}},nW=(0,r.createContext)({});function nK(e){let{children:t,permissions:n,user:a}=e,[o,l]=(0,r.useState)(a),[i,d]=(0,r.useState)(),[p,h]=(0,r.useState)(),f=(0,v.usePathname)(),m=(0,v.useRouter)(),{config:b}=(0,s.b)(),{admin:{routes:{inactivity:x},user:y},routes:{admin:w,api:j},serverURL:C}=b,[S,_]=(0,r.useState)(n),{i18n:k}=(0,c.d)(),{closeAllModals:N,openModal:E}=tU(),[A,P]=(0,r.useState)(0),D=nH(A,1e4),O=r.useRef(null),R=null==o?void 0:o.id,I=(0,r.useCallback)(()=>{if(window.location.pathname.startsWith(w)){let e="?redirect=".concat(encodeURIComponent(window.location.pathname));m.replace(nB({adminRoute:w,path:"".concat(x).concat(e)}))}else m.replace(nB({adminRoute:w,path:x}));N()},[m,w,x,N]),T=(0,r.useCallback)(()=>{d(void 0),h(void 0),clearTimeout(O.current)},[]),L=(0,r.useCallback)(e=>{(null==e?void 0:e.user)?(l(e.user),d(e.token),h(e.exp)):(l(null),T())},[T]),M=(0,r.useCallback)(e=>{let t=("number"==typeof p?p:0)-Math.round(new Date().getTime()/1e3);return(e||p&&t<120)&&(O.current=setTimeout(()=>{(async function(){try{let e=await nq.post("".concat(C).concat(j,"/").concat(y,"/refresh-token?refresh"),{headers:{"Accept-Language":k.language}});if(200===e.status){let t=await e.json();L(t)}else L(null),I()}catch(e){nR.error(e.message)}})()},1e3)),()=>{clearTimeout(O.current)}},[j,k.language,I,C,L,p,y]),F=(0,r.useCallback)(async e=>{try{let t=await nq.post("".concat(C).concat(j,"/").concat(y,"/refresh-token"),{headers:{"Accept-Language":k.language}});if(200===t.status){let n=await t.json();return e||L(n),n.user}return L(null),I(),null}catch(e){return nR.error("Refreshing token failed: ".concat(e.message)),null}},[j,k.language,I,C,L,y]),B=(0,r.useCallback)(async()=>{try{return await nq.post("".concat(C).concat(j,"/").concat(y,"/logout")),L(null),T(),!0}catch(e){return nR.error("Logging out failed: ".concat(e.message)),!1}},[j,T,C,L,y]),V=(0,r.useCallback)(async function(){let{locale:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g.P({locale:e},{addQueryPrefix:!0});try{let e=await nq.get("".concat(C).concat(j,"/access").concat(t),{headers:{"Accept-Language":k.language}});if(200===e.status){let t=await e.json();_(t)}else throw Error("Fetching permissions failed with status code ".concat(e.status))}catch(e){nR.error("Refreshing permissions failed: ".concat(e.message))}},[C,j,k]),z=r.useCallback(async()=>{try{let e=await nq.get("".concat(C).concat(j,"/").concat(y,"/me"),{credentials:"include",headers:{"Accept-Language":k.language}});if(200===e.status){let t=await e.json();return L(t),null}}catch(e){nR.error("Fetching user failed: ".concat(e.message))}return null},[C,j,y,k.language,L]);return(0,r.useEffect)(()=>{z()},[z]),(0,r.useEffect)(()=>{R&&M()},[D,M,R]),(0,r.useEffect)(()=>{P(Date.now())},[f]),(0,r.useEffect)(()=>{let e,t,n=Math.round(new Date().getTime()/1e3),a="number"==typeof p?p-n:0,l=Math.max(Math.min((a-60)*1e3,2147483647),0),r=Math.max(Math.min(1e3*a,2147483647),0);if(!o){clearTimeout(e),clearTimeout(t);return}return a>0&&(e=setTimeout(()=>{E(nz)},l),t=setTimeout(()=>{L(null),I()},r)),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[p,E,k,L,o]),(0,u.jsx)(nW.Provider,{value:{fetchFullUser:z,logOut:B,permissions:S,refreshCookie:M,refreshCookieAsync:F,refreshPermissions:V,setPermissions:_,setUser:L,token:i,user:o},children:t})}var nY=()=>(0,r.useContext)(nW),nQ=(0,r.createContext)({}),nG=(e,t)=>({body:JSON.stringify({value:e}),headers:{"Accept-Language":t,"Content-Type":"application/json"}}),nX=e=>{let{children:t}=e,n=(0,r.useRef)({}),a=(0,r.useRef)({}),o=(0,r.useRef)({}),{config:l}=(0,s.b)(),{user:i}=nY(),{i18n:d}=(0,c.d)(),{routes:{api:p},serverURL:h}=l;(0,r.useEffect)(()=>{i||(a.current={})},[i]);let f=(0,r.useCallback)(async e=>{let t=a.current;if("u">typeof t[e])return t[e];let n=new Promise(t=>{(async()=>{let n=await nq.get("".concat(h).concat(p,"/payload-preferences/").concat(e),{headers:{"Accept-Language":d.language}}),o=null;200===n.status&&(o=(await n.json()).value),a.current[e]=o,t(o)})()});return t[e]=n,n},[d.language,p,a,h]),m=(0,r.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1===n){a.current[e]=t,await nq.post("".concat(h).concat(p,"/payload-preferences/").concat(e),nG(t,d.language));return}let l=t,r=await f(e);if("object"==typeof t&&"object"==typeof r&&"object"==typeof l){if(l=function e(t,n){let a={...t};for(let o in n)Object.prototype.hasOwnProperty.call(n,o)&&("object"==typeof n[o]&&!Array.isArray(n[o])&&t[o]?a[o]=e(t[o],n[o]):a[o]=n[o]);return a}(r,l),(0,b.J)(l,r))return;o.current[e]={...o.current[e],...l}}else{if(l===r)return;o.current[e]=l}let i=async()=>{(0,b.J)(o.current[e],a.current[e])||(a.current[e]=o.current[e],await nq.post("".concat(h).concat(p,"/payload-preferences/").concat(e),nG(a.current[e],d.language)),delete o.current[e])};setTimeout(()=>{i()})},[p,f,d.language,o,h]);return n.current.getPreference=f,n.current.setPreference=m,(0,u.jsx)(nQ.Provider,{value:n.current,children:t})},nJ=()=>(0,r.useContext)(nQ),nZ=(0,r.createContext)({searchParams:{},stringifyParams:()=>""});function n$(e){return x.Q(e,{depth:10,ignoreQueryPrefix:!0})}var n0=e=>{let t,n=(0,p.c)(12),{children:a}=e,o=(0,v.useSearchParams)(),l,i;n[0]!==o?(l=n$(i=o.toString()),n[0]=o,n[1]=l,n[2]=i):(l=n[1],i=n[2]);let s=l,[c,d]=r.useState(s),h;n[3]!==c?(h=e=>{let{params:t,replace:n}=e;return g.P({...void 0!==n&&n?{}:c,...t},{addQueryPrefix:!0})},n[3]=c,n[4]=h):h=n[4];let f=h,m,b;return n[5]!==i?(m=()=>{d(n$(i))},b=[i],n[5]=i,n[6]=m,n[7]=b):(m=n[6],b=n[7]),r.useEffect(m,b),n[8]!==c||n[9]!==f||n[10]!==a?(t=(0,u.jsx)(nZ.Provider,{value:{searchParams:c,stringifyParams:f},children:a}),n[8]=c,n[9]=f,n[10]=a,n[11]=t):t=n[11],t},n1=()=>(0,r.useContext)(nZ),n2=(0,r.createContext)({}),n3=e=>{let t,n,a=(0,p.c)(26),{children:o}=e,{config:l}=(0,s.b)(),{localization:i}=l,{user:c}=nY(),d=i&&i.defaultLocale?i.defaultLocale:"en",{searchParams:h}=n1(),f=null==h?void 0:h.locale,[m,v]=(0,r.useState)(f||d),g;a[0]!==i||a[1]!==m?(g=i&&tC(i,m),a[0]=i,a[1]=m,a[2]=g):g=a[2];let[b,x]=(0,r.useState)(g),{getPreference:y,setPreference:w}=nJ(),j;a[3]!==i||a[4]!==d||a[5]!==m||a[6]!==c||a[7]!==w?(j=async e=>{if(!i)return;let t=i.localeCodes.indexOf(e)>-1?e:d;if(t!==m){v(t),x(tC(i,t));try{c&&await w("locale",t)}catch(e){}}},a[3]=i,a[4]=d,a[5]=m,a[6]=c,a[7]=w,a[8]=j):j=a[8];let C=j,S;return a[9]!==d||a[10]!==f||a[11]!==c||a[12]!==y||a[13]!==C?(S=()=>{(async function(){let e=d;if("string"==typeof f)e=f;else if(c)try{e=await y("locale")}catch(e){}await C(e)})()},a[9]=d,a[10]=f,a[11]=c,a[12]=y,a[13]=C,a[14]=S):S=a[14],a[15]!==d||a[16]!==y||a[17]!==i||a[18]!==f||a[19]!==w||a[20]!==c||a[21]!==C?(t=[d,y,i,f,w,c,C],a[15]=d,a[16]=y,a[17]=i,a[18]=f,a[19]=w,a[20]=c,a[21]=C,a[22]=t):t=a[22],(0,r.useEffect)(S,t),a[23]!==b||a[24]!==o?(n=(0,u.jsx)(n2.Provider,{value:b,children:o}),a[23]=b,a[24]=o,a[25]=n):n=a[25],n},n6=()=>(0,r.useContext)(n2),n5=(e,t,n)=>"field-".concat(null==e?void 0:e.replace(/\./g,"__")).concat(t>1?"-".concat(t):"").concat(n?"-".concat(n):""),n4=e=>{let t=(0,p.c)(25),{as:n,hideLocale:a,htmlFor:o,label:l,localized:r,path:i,required:s,unstyled:d}=e,f=void 0===n?"label":n,m=void 0!==a&&a,v=void 0!==r&&r,g=void 0!==s&&s,b=void 0!==d&&d,{uuid:x}=em(),y=tj(),w;t[0]!==o||t[1]!==i||t[2]!==y||t[3]!==x?(w=o||n5(i,y,x),t[0]=o,t[1]=i,t[2]=y,t[3]=x,t[4]=w):w=t[4];let j=w,{i18n:C}=(0,c.d)(),{code:S,label:_}=n6();if(l){let e="field-label ".concat(b?"unstyled":""),n;if(t[5]!==l||t[6]!==C||t[7]!==g||t[8]!==b||t[9]!==v||t[10]!==m||t[11]!==_||t[12]!==S||t[13]!==e||t[14]!==j||t[15]!==f){let a,o;t[17]!==g||t[18]!==b?(a=g&&!b&&(0,u.jsx)("span",{className:"required",children:"*"}),t[17]=g,t[18]=b,t[19]=a):a=t[19],t[20]!==v||t[21]!==m||t[22]!==_||t[23]!==S?(o=v&&!m&&(0,u.jsxs)("span",{className:"localized",children:[" ","string"==typeof _?_:S]}),t[20]=v,t[21]=m,t[22]=_,t[23]=S,t[24]=o):o=t[24],n=(0,u.jsxs)(f,{className:e,htmlFor:j,children:[(0,h.i0)(l,C),a,o]}),t[5]=l,t[6]=C,t[7]=g,t[8]=b,t[9]=v,t[10]=m,t[11]=_,t[12]=S,t[13]=e,t[14]=j,t[15]=f,t[16]=n}else n=t[16];return n}return null},n9=e=>{let{collapsed:t,rowID:n,rows:a}=e;return a.reduce((e,a)=>(n===a.id&&(a.collapsed=t),a.collapsed&&e.collapsedIDs.push(a.id),e.updatedRows.push(a),e),{collapsedIDs:[],updatedRows:[]})},n8=e=>{let{collapsed:t,rows:n}=e;return n.reduce((e,n)=>(n.collapsed=t,t&&e.collapsedIDs.push(n.id),e.updatedRows.push(n),e),{collapsedIDs:[],updatedRows:[]})},n7=(e,t,n)=>{let a,o=(0,p.c)(9),l;o[0]!==n?(l=void 0===n?[]:n,o[0]=n,o[1]=l):l=o[1];let i=l,s;o[2]===Symbol.for("react.memo_cache_sentinel")?(s=Date.now(),o[2]=s):s=o[2];let c=(0,r.useRef)(s),d;o[3]!==t||o[4]!==e?(d=()=>{let n=setTimeout(()=>{Date.now()-c.current>=t&&(e(),c.current=Date.now())},t-(Date.now()-c.current));return()=>{clearTimeout(n)}},o[3]=t,o[4]=e,o[5]=d):d=o[5],o[6]!==t||o[7]!==i?(a=[t,...i],o[6]=t,o[7]=i,o[8]=a):a=o[8],(0,r.useEffect)(d,a)},ae=Symbol.for("constructDateFrom");function at(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&ae in e?e[ae](t):e instanceof Date?new e.constructor(t):new Date(t)}function an(e,t){return at(t||e,e)}var aa={};function ao(e,t){var n,a,o,l,r,i,s,c;let d=null!==(c=null!==(s=null!==(i=null!==(r=null==t?void 0:t.weekStartsOn)&&void 0!==r?r:null==t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(n=a.options)||void 0===n?void 0:n.weekStartsOn)&&void 0!==i?i:aa.weekStartsOn)&&void 0!==s?s:null===(l=aa.locale)||void 0===l?void 0:null===(o=l.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==c?c:0,u=an(e,null==t?void 0:t.in),p=u.getDay();return u.setDate(u.getDate()-((p<d?7:0)+p-d)),u.setHours(0,0,0,0),u}function al(e,t){return ao(e,{...t,weekStartsOn:1})}function ar(e,t){let n=an(e,null==t?void 0:t.in),a=n.getFullYear(),o=at(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);let l=al(o),r=at(n,0);r.setFullYear(a,0,4),r.setHours(0,0,0,0);let i=al(r);return n.getTime()>=l.getTime()?a+1:n.getTime()>=i.getTime()?a:a-1}function ai(e){let t=an(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function as(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];let o=at.bind(null,e||n.find(e=>"object"==typeof e));return n.map(o)}function ac(e,t){let n=an(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function ad(e,t){let n=+an(e)-+an(t);return n<0?-1:n>0?1:n}function au(e,t){var n,a,o,l,r,i,s,c;let d=an(e,null==t?void 0:t.in),u=d.getFullYear(),p=null!==(c=null!==(s=null!==(i=null!==(r=null==t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null==t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(n=a.options)||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==i?i:aa.firstWeekContainsDate)&&void 0!==s?s:null===(l=aa.locale)||void 0===l?void 0:null===(o=l.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==c?c:1,h=at((null==t?void 0:t.in)||e,0);h.setFullYear(u+1,0,p),h.setHours(0,0,0,0);let f=ao(h,t),m=at((null==t?void 0:t.in)||e,0);m.setFullYear(u,0,p),m.setHours(0,0,0,0);let v=ao(m,t);return+d>=+f?u+1:+d>=+v?u:u-1}function ap(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}var ah={y(e,t){let n=e.getFullYear(),a=n>0?n:1-n;return ap("yy"===t?a%100:a,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):ap(n+1,2)},d:(e,t)=>ap(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>ap(e.getHours()%12||12,t.length),H:(e,t)=>ap(e.getHours(),t.length),m:(e,t)=>ap(e.getMinutes(),t.length),s:(e,t)=>ap(e.getSeconds(),t.length),S(e,t){let n=t.length;return ap(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},af={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},am={G:function(e,t,n){let a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return ah.y(e,t)},Y:function(e,t,n,a){let o=au(e,a),l=o>0?o:1-o;return"YY"===t?ap(l%100,2):"Yo"===t?n.ordinalNumber(l,{unit:"year"}):ap(l,t.length)},R:function(e,t){return ap(ar(e),t.length)},u:function(e,t){return ap(e.getFullYear(),t.length)},Q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return ap(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return ap(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){let a=e.getMonth();switch(t){case"M":case"MM":return ah.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return ap(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var o,l,r,i,s,c,d,u;let p,h,f,m;let v=Math.round((+ao(m=an(e,null==a?void 0:a.in),a)-+(p=null!==(u=null!==(d=null!==(c=null!==(s=null==a?void 0:a.firstWeekContainsDate)&&void 0!==s?s:null==a?void 0:null===(l=a.locale)||void 0===l?void 0:null===(o=l.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==c?c:aa.firstWeekContainsDate)&&void 0!==d?d:null===(i=aa.locale)||void 0===i?void 0:null===(r=i.options)||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==u?u:1,h=au(m,a),(f=at((null==a?void 0:a.in)||m,0)).setFullYear(h,0,p),f.setHours(0,0,0,0),ao(f,a)))/6048e5)+1;return"wo"===t?n.ordinalNumber(v,{unit:"week"}):ap(v,t.length)},I:function(e,t,n){var a;let o,l,r;let i=Math.round((+al(r=an(e,void 0))-+(o=ar(r,void 0),(l=at((null==a?void 0:a.in)||r,0)).setFullYear(o,0,4),l.setHours(0,0,0,0),al(l)))/6048e5)+1;return"Io"===t?n.ordinalNumber(i,{unit:"week"}):ap(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):ah.d(e,t)},D:function(e,t,n){let a,o;let l=function(e,t,n){let[a,o]=as(void 0,e,t),l=ac(a),r=ac(o);return Math.round((+l-ai(l)-(+r-ai(r)))/864e5)}(a=an(e,void 0),((o=an(a,void 0)).setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o))+1;return"Do"===t?n.ordinalNumber(l,{unit:"dayOfYear"}):ap(l,t.length)},E:function(e,t,n){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){let o=e.getDay(),l=(o-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return ap(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){let o=e.getDay(),l=(o-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return ap(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){let a=e.getDay(),o=0===a?7:a;switch(t){case"i":return String(o);case"ii":return ap(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){let a=e.getHours(),o;switch(o=12===a?af.noon:0===a?af.midnight:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){let a=e.getHours(),o;switch(o=a>=17?af.evening:a>=12?af.afternoon:a>=4?af.morning:af.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return ah.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):ah.H(e,t)},K:function(e,t,n){let a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):ap(a,t.length)},k:function(e,t,n){let a=e.getHours();return 0===a&&(a=24),"ko"===t?n.ordinalNumber(a,{unit:"hour"}):ap(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ah.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ah.s(e,t)},S:function(e,t){return ah.S(e,t)},X:function(e,t,n){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return ag(a);case"XXXX":case"XX":return ab(a);default:return ab(a,":")}},x:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"x":return ag(a);case"xxxx":case"xx":return ab(a);default:return ab(a,":")}},O:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+av(a,":");default:return"GMT"+ab(a,":")}},z:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+av(a,":");default:return"GMT"+ab(a,":")}},t:function(e,t,n){return ap(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return ap(+e,t.length)}};function av(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",a=Math.abs(e),o=Math.trunc(a/60),l=a%60;return 0===l?n+String(o):n+String(o)+t+ap(l,2)}function ag(e,t){return e%60==0?(e>0?"-":"+")+ap(Math.abs(e)/60,2):ab(e,t)}function ab(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.abs(e);return(e>0?"-":"+")+ap(Math.trunc(n/60),2)+t+ap(n%60,2)}var ax=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ay=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},aw={p:ay,P:(e,t)=>{let n,a=e.match(/(P+)(p+)?/)||[],o=a[1],l=a[2];if(!l)return ax(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",ax(o,t)).replace("{{time}}",ay(l,t))}},aj=/^D+$/,aC=/^Y+$/,aS=["D","DD","YY","YYYY"],a_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ak=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aN=/^'([^]*?)'?$/,aE=/''/g,aA=/[a-zA-Z]/,aP=e=>{let{date:t,i18n:n,pattern:a}=e;return function(e,t,n){var a,o,l,r,i,s,d,u,p,h,f,m,v,g,b,x,y,w;let j=null!==(h=null!==(p=null==n?void 0:n.locale)&&void 0!==p?p:aa.locale)&&void 0!==h?h:c.b,C=null!==(g=null!==(v=null!==(m=null!==(f=null==n?void 0:n.firstWeekContainsDate)&&void 0!==f?f:null==n?void 0:null===(o=n.locale)||void 0===o?void 0:null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==m?m:aa.firstWeekContainsDate)&&void 0!==v?v:null===(r=aa.locale)||void 0===r?void 0:null===(l=r.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==g?g:1,S=null!==(w=null!==(y=null!==(x=null!==(b=null==n?void 0:n.weekStartsOn)&&void 0!==b?b:null==n?void 0:null===(s=n.locale)||void 0===s?void 0:null===(i=s.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==x?x:aa.weekStartsOn)&&void 0!==y?y:null===(u=aa.locale)||void 0===u?void 0:null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==w?w:0,_=an(e,null==n?void 0:n.in);if(!(_ instanceof Date||"object"==typeof _&&"[object Date]"===Object.prototype.toString.call(_))&&"number"!=typeof _||isNaN(+an(_)))throw RangeError("Invalid time value");let k=t.match(ak).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,aw[t])(e,j.formatLong):e}).join("").match(a_).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){let t;return{isToken:!1,value:(t=e.match(aN))?t[1].replace(aE,"'"):e}}if(am[t])return{isToken:!0,value:e};if(t.match(aA))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});j.localize.preprocessor&&(k=j.localize.preprocessor(_,k));let N={firstWeekContainsDate:C,weekStartsOn:S,locale:j};return k.map(a=>{if(!a.isToken)return a.value;let o=a.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&aC.test(o)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&aj.test(o))&&function(e,t,n){let a;let o=(a="Y"===e[0]?"years":"days of the month","Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(a," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(console.warn(o),aS.includes(e))throw RangeError(o)}(o,t,String(e)),(0,am[o[0]])(_,o,j.localize,N)}).join("")}(new Date(t),a,{locale:n.dateFNS})},aD=e=>{let{date:t,i18n:n}=e;return function(e,t){return function(e,t,n){var a,o,l,r;let i;let s=null!==(o=null!==(a=null==n?void 0:n.locale)&&void 0!==a?a:aa.locale)&&void 0!==o?o:c.b,d=ad(e,t);if(isNaN(d))throw RangeError("Invalid time value");let u=Object.assign({},n,{addSuffix:null==n?void 0:n.addSuffix,comparison:d}),[p,h]=as(null==n?void 0:n.in,...d>0?[t,e]:[e,t]),f=(i=(+an(h)-+an(p))/1e3,(r=null==void 0?void 0:l.roundingMethod,e=>{let t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})(i)),m=Math.round((f-(ai(h)-ai(p))/1e3)/60),v;if(m<2)return(null==n?void 0:n.includeSeconds)?f<5?s.formatDistance("lessThanXSeconds",5,u):f<10?s.formatDistance("lessThanXSeconds",10,u):f<20?s.formatDistance("lessThanXSeconds",20,u):f<40?s.formatDistance("halfAMinute",0,u):f<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===m?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",m,u);if(m<45)return s.formatDistance("xMinutes",m,u);if(m<90)return s.formatDistance("aboutXHours",1,u);if(m<1440){let e=Math.round(m/60);return s.formatDistance("aboutXHours",e,u)}if(m<2520)return s.formatDistance("xDays",1,u);if(m<43200){let e=Math.round(m/1440);return s.formatDistance("xDays",e,u)}if(m<86400)return v=Math.round(m/43200),s.formatDistance("aboutXMonths",v,u);if((v=function(e,t,n){var a;let o,l,r,i,[s,c,d]=as(void 0,e,e,t),u=ad(c,d),p=Math.abs(function(e,t,n){let[a,o]=as(void 0,e,t);return 12*(a.getFullYear()-o.getFullYear())+(a.getMonth()-o.getMonth())}(c,d));if(p<1)return 0;1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-u*p);let h=ad(c,d)===-u;o=an(s,void 0),+((l=an(o,null==a?void 0:a.in)).setHours(23,59,59,999),l)==+(i=(r=an(o,null==a?void 0:a.in)).getMonth(),r.setFullYear(r.getFullYear(),i+1,0),r.setHours(23,59,59,999),r)&&1===p&&1===ad(s,d)&&(h=!1);let f=u*(p-+h);return 0===f?0:f}(h,p))<12){let e=Math.round(m/43200);return s.formatDistance("xMonths",e,u)}{let e=v%12,t=Math.trunc(v/12);return e<3?s.formatDistance("aboutXYears",t,u):e<9?s.formatDistance("overXYears",t,u):s.formatDistance("almostXYears",t+1,u)}}(e,at(e,Date.now()),t)}(new Date(t),{locale:n.dateFNS})},aO=e=>{let t,{collectionConfig:n,data:a,dateFormat:o,fallback:l,globalConfig:r,i18n:i}=e;if(n){var s,c,d;let e=null==n?void 0:null===(s=n.admin)||void 0===s?void 0:s.useAsTitle;if(e&&(t=(null==a?void 0:a[e])||t)){let a=n.fields.find(t=>"name"in t&&t.name===e);(null==a?void 0:a.type)==="date"&&(t=aP({date:t,i18n:i,pattern:"date"in a.admin&&(null==a?void 0:null===(d=a.admin)||void 0===d?void 0:null===(c=d.date)||void 0===c?void 0:c.displayFormat)||o})||t)}}return r&&(t=(0,h.i0)(null==r?void 0:r.label,i)||(null==r?void 0:r.slug)),t||(t=l||"[".concat(i.t("general:untitled"),"]")),t},aR=r.createContext({resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),aI=e=>{let t=(0,p.c)(5),{children:n}=e,[a,o]=r.useState(void 0),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{o({})},t[0]=l):l=t[0];let i=l,s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{o(t=>({...t||{},...e||{}}))},t[1]=s):s=t[1];let c=s,d;return t[2]!==a||t[3]!==n?(d=(0,u.jsx)(aR.Provider,{value:{resetUploadEdits:i,updateUploadEdits:c,uploadEdits:a},children:n}),t[2]=a,t[3]=n,t[4]=d):d=t[4],d},aT=()=>r.useContext(aR),aL=e=>{let{collectionSlug:t,docPermissions:n,globalSlug:a,isEditing:o}=e;return t?!!(o&&(null==n?void 0:n.update)||!o&&(null==n?void 0:n.create)):!!a&&!!(null==n?void 0:n.update)},aM=e=>{let{id:t,collectionSlug:n,globalSlug:a}=e;return!!(a||n&&t)},aF=e=>{let{id:t,api:n,collectionSlug:a,globalSlug:o,i18n:l,locale:i,permissions:s,serverURL:c,setDocPermissions:d,setHasPublishPermission:u,setHasSavePermission:p}=e;return r.useCallback(async e=>{let r={locale:i||void 0},h=(null==e?void 0:e.id)||t,f=aM({id:h,collectionSlug:a,globalSlug:o});if(f){let t=a?"/".concat(a,"/access/").concat(h):o?"/globals/".concat(o,"/access"):null;if(t){let i=await (await fetch("".concat(c).concat(n).concat(t,"?").concat(g.P(r)),{body:JSON.stringify({...e||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":l.language,"Content-Type":"application/json"},method:"post"})).json(),s=await fetch("".concat(c).concat(n).concat(t,"?").concat(g.P(r)),{body:JSON.stringify({...e||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":l.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());d(i),p(aL({collectionSlug:a,docPermissions:i,globalSlug:o,isEditing:f})),u(null==s?void 0:s.update)}}else{var m,v;let e=a?null==s?void 0:null===(m=s.collections)||void 0===m?void 0:m[a]:null==s?void 0:null===(v=s.globals)||void 0===v?void 0:v[o];d(e),p(aL({collectionSlug:a,docPermissions:e,globalSlug:o,isEditing:f}))}},[c,n,t,s,l.language,i,a,o])},aB=(0,r.createContext)({}),aV=()=>(0,r.useContext)(aB),az=e=>{let{children:t,...n}=e,{id:a,collectionSlug:o,currentEditor:l,docPermissions:i,globalSlug:d,hasPublishedDoc:p,hasPublishPermission:h,hasSavePermission:f,initialData:m,initialState:v,isLocked:b,lastUpdateTime:x,mostRecentVersionIsAutosaved:y,unpublishedVersionCount:w,versionCount:j}=n,[C,S]=(0,r.useState)(i),[_,k]=(0,r.useState)(f),[N,E]=(0,r.useState)(h),{permissions:A}=nY(),{config:{admin:{dateFormat:P},routes:{api:D},serverURL:O},getEntityConfig:R}=(0,s.b)(),I=R({collectionSlug:o}),T=R({globalSlug:d}),L=(0,r.useRef)(new AbortController),M=I||T,{i18n:F}=(0,c.d)(),{uploadEdits:B}=aT(),[V,z]=(0,r.useState)(()=>aO({collectionConfig:I,data:{...m,id:a},dateFormat:P,fallback:null==a?void 0:a.toString(),globalConfig:T,i18n:F})),[U,H]=(0,r.useState)(y),[q,W]=(0,r.useState)(j),[K,Y]=(0,r.useState)(p),[Q,G]=(0,r.useState)(w),[X,J]=(0,r.useState)(b),[Z,$]=(0,r.useState)(l),[ee,et]=(0,r.useState)(x),en=void 0===v||void 0===m,{getPreference:ea,setPreference:eo}=nJ(),{code:el}=n6(),er="".concat(O).concat(D),ei,es,ec;d&&(ei=d,es="globals",ec="global-".concat(ei)),o&&(ei=o,es="collections",a&&(ec="collection-".concat(ei,"-").concat(a)));let ed=(0,r.useCallback)(async(e,t)=>{try{let n=t===d?"where[globalSlug][equals]=".concat(t):"where[document.value][equals]=".concat(e,"&where[document.relationTo][equals]=").concat(t),a=await nq.get("".concat(O).concat(D,"/payload-locked-documents?").concat(n)),{docs:o}=await a.json();if(o.length>0){let e=o[0].id;await nq.delete("".concat(O).concat(D,"/payload-locked-documents/").concat(e),{headers:{"Content-Type":"application/json"}}),J(!1)}}catch(e){console.error("Failed to unlock the document",e)}},[O,D,d]),eu=(0,r.useCallback)(async(e,t,n)=>{try{let a=t===d?"where[globalSlug][equals]=".concat(t):"where[document.value][equals]=".concat(e,"&where[document.relationTo][equals]=").concat(t),o=await nq.get("".concat(O).concat(D,"/payload-locked-documents?").concat(a)),{docs:l}=await o.json();if(l.length>0){let e=l[0].id,t="object"==typeof n?{relationTo:n.collection,value:n.id}:{relationTo:"users",value:n};await nq.patch("".concat(O).concat(D,"/payload-locked-documents/").concat(e),{body:JSON.stringify({user:t}),headers:{"Content-Type":"application/json"}})}}catch(e){console.error("Failed to update the document editor",e)}},[O,D,d]),ep=aF({id:a,api:D,collectionSlug:o,globalSlug:d,i18n:F,locale:el,permissions:A,serverURL:O,setDocPermissions:S,setHasPublishPermission:E,setHasSavePermission:k}),eh=(0,r.useCallback)(()=>ea(ec),[ea,ec]),ef=(0,r.useCallback)(async(e,t)=>{let n=await eh();if(ec)try{var a;await eo(ec,{...n,fields:{...(null==n?void 0:n.fields)||{},[e]:{...null==n?void 0:null===(a=n.fields)||void 0===a?void 0:a[e],...t}}})}catch(e){console.error(e)}},[eo,ec,eh]),em=(0,r.useCallback)(()=>{I&&I.versions?W(Math.min(q+1,I.versions.maxPerDoc)):T&&T.versions&&W(Math.min(q+1,T.versions.max))},[I,T,q]);(0,r.useEffect)(()=>{z(aO({collectionConfig:I,data:{...m,id:a},dateFormat:P,fallback:null==a?void 0:a.toString(),globalConfig:T,i18n:F}))},[I,T,m,P,F,a]),(0,r.useEffect)(()=>{let e=L.current;return()=>{if(e)try{e.abort()}catch(e){}}},[]);let ev=r.useMemo(()=>"".concat("".concat(er).concat("globals"===es?"/globals":"","/").concat(ei).concat(a?"/".concat(a):"")).concat(g.P({depth:0,"fallback-locale":"null",locale:el,uploadEdits:B||void 0},{addQueryPrefix:!0})),[er,el,es,a,ei,B]),eg={...n,action:ev,currentEditor:Z,docConfig:M,docPermissions:C,documentIsLocked:X,getDocPermissions:ep,getDocPreferences:eh,hasPublishedDoc:K,hasPublishPermission:N,hasSavePermission:_,incrementVersionCount:em,initialData:m,initialState:v,isInitializing:en,lastUpdateTime:ee,mostRecentVersionIsAutosaved:U,preferencesKey:ec,setCurrentEditor:$,setDocFieldPreferences:ef,setDocumentIsLocked:J,setDocumentTitle:z,setHasPublishedDoc:Y,setLastUpdateTime:et,setMostRecentVersionIsAutosaved:H,setUnpublishedVersionCount:G,title:V,unlockDocument:ed,unpublishedVersionCount:Q,updateDocumentEditor:eu,versionCount:q};return(0,u.jsx)(aB.Provider,{value:eg,children:t})},aU=e=>(0,u.jsx)(aI,{children:(0,u.jsx)(az,{...e})}),aH=(0,r.createContext)(""),aq=e=>{let{children:t,operation:n}=e;return(0,u.jsx)(aH.Provider,{value:n,children:t})},aW=()=>(0,r.useContext)(aH),aK=e=>{let t,n=(0,p.c)(57),{disableFormData:a,hasRows:o,path:l,validate:i}=e,d=void 0!==a&&a,u=eg(),h=eb(),f=ey(),{user:m}=nY(),{id:v,collectionSlug:g}=aV(),b=aW(),x;n[0]!==l?(x=e=>{let[t,n]=e;return{dispatchField:n,field:t&&(null==t?void 0:t[l])||null}},n[0]=l,n[1]=x):x=n[1];let{dispatchField:y,field:w}=ew(x),{t:j}=(0,c.d)(),{config:C}=(0,s.b)(),{getData:S,getDataByPath:_,getSiblingData:k,setModified:N}=em(),E=ex(),A=null==w?void 0:w.filterOptions,P=null==w?void 0:w.value,D=null==w?void 0:w.initialValue,O="boolean"!=typeof(null==w?void 0:w.valid)||w.valid,R=!1===O&&u,I=(0,r.useRef)(O),T=(0,r.useRef)(null==w?void 0:w.errorMessage),L;n[2]!==y||n[3]!==d||n[4]!==o||n[5]!==l||n[6]!==N||n[7]!==E?(L=(e,t)=>{let n=e&&e.target?e.target.value:e;y({type:"UPDATE",disableFormData:d||o&&n>0,path:l,value:n}),void 0!==t&&t||"function"==typeof N&&!1===E&&setTimeout(()=>{N(!0)},10)},n[2]=y,n[3]=d,n[4]=o,n[5]=l,n[6]=N,n[7]=E,n[8]=L):L=n[8];let M=L;null==w||w.errorMessage,null==w||w.rows,null==w||w.valid,null==w||w.errorPaths,null==w||w.customComponents;let F,B=null==w?void 0:w.customComponents,V=null==w?void 0:w.errorMessage,z;n[9]!==(null==w?void 0:w.errorPaths)?(z=(null==w?void 0:w.errorPaths)||[],n[9]=null==w?void 0:w.errorPaths,n[10]=z):z=n[10];let U=null==w?void 0:w.rows,H=null==w?void 0:w.valid,q;n[11]!==B||n[12]!==V||n[13]!==z||n[14]!==A||n[15]!==f||n[16]!==h||n[17]!==u||n[18]!==D||n[19]!==l||n[20]!==U||n[21]!==M||n[22]!==R||n[23]!==H||n[24]!==P?(q={customComponents:B,errorMessage:V,errorPaths:z,filterOptions:A,formInitializing:f,formProcessing:h,formSubmitted:u,initialValue:D,path:l,rows:U,setValue:M,showError:R,valid:H,value:P},n[11]=B,n[12]=V,n[13]=z,n[14]=A,n[15]=f,n[16]=h,n[17]=u,n[18]=D,n[19]=l,n[20]=U,n[21]=M,n[22]=R,n[23]=H,n[24]=P,n[25]=q):q=n[25],F=q,n[26]!==P||n[27]!==w||n[28]!==_||n[29]!==l||n[30]!==i||n[31]!==v||n[32]!==g||n[33]!==S||n[34]!==b||n[35]!==C||n[36]!==j||n[37]!==m||n[38]!==k||n[39]!==d||n[40]!==o||n[41]!==y?(t=()=>{(async()=>{let e=P;(null==w?void 0:w.rows)&&Array.isArray(w.rows)&&(e=_(l));let t=T.current,n=I.current,a="function"==typeof i?await i(e,{id:v,collectionSlug:g,data:S(),operation:b,preferences:{},req:{payload:{config:C},t:j,user:m},siblingData:k(l)}):"string"==typeof T.current?T.current:I.current;if("string"==typeof a?(n=!1,t=a):"boolean"==typeof a&&(n=a,t=void 0),n!==I.current||t!==T.current){I.current=n,T.current=t;let e={type:"UPDATE",errorMessage:t,path:l,rows:null==w?void 0:w.rows,valid:n,validate:i,value:P};(d||o&&"number"==typeof P&&P>0)&&(e.disableFormData=!0),"function"==typeof y&&y(e)}})()},n[26]=P,n[27]=w,n[28]=_,n[29]=l,n[30]=i,n[31]=v,n[32]=g,n[33]=S,n[34]=b,n[35]=C,n[36]=j,n[37]=m,n[38]=k,n[39]=d,n[40]=o,n[41]=y,n[42]=t):t=n[42];let W=null==w?void 0:w.rows,K;return n[43]!==P||n[44]!==d||n[45]!==y||n[46]!==S||n[47]!==k||n[48]!==_||n[49]!==v||n[50]!==b||n[51]!==l||n[52]!==m||n[53]!==i||n[54]!==W||n[55]!==g?(K=[P,d,y,S,k,_,v,b,l,m,i,W,g],n[43]=P,n[44]=d,n[45]=y,n[46]=S,n[47]=k,n[48]=_,n[49]=v,n[50]=b,n[51]=l,n[52]=m,n[53]=i,n[54]=W,n[55]=g,n[56]=K):K=n[56],n7(t,150,K),F},aY=e=>{let t,n=(0,p.c)(4),{children:a,path:o}=e,l;n[0]!==o?(l=e=>{let[t]=e;return t&&(null==t?void 0:t[o])||null},n[0]=o,n[1]=l):l=n[1];let{passesCondition:i}=ew(l)||{};return!1===i?null:(n[2]!==a?(t=(0,u.jsx)(r.Fragment,{children:a}),n[2]=a,n[3]=t):t=n[3],t)},aQ=e=>t=>{let{indexPath:n,path:a}=t;return(0,u.jsx)(aY,{indexPath:n,path:a,children:(0,u.jsx)(e,{...t})})},aG=e=>{var t,n,a,o;return{...(null==e?void 0:null===(t=e.admin)||void 0===t?void 0:t.style)||{},...(null==e?void 0:null===(n=e.admin)||void 0===n?void 0:n.width)?{"--field-width":e.admin.width}:{flex:"1 1 auto"},...(null==e?void 0:null===(o=e.admin)||void 0===o?void 0:null===(a=o.style)||void 0===a?void 0:a.flex)?{flex:e.admin.style.flex}:{}}},aX="field-type";function aJ(e){let{fieldLocalized:t,fieldRTL:n,locale:a,localizationConfig:o}=e,l=a&&o&&o.locales&&o.locales.length>1,r=(null==a?void 0:a.code)===(null==o?void 0:o.defaultLocale);return!1!==n&&(null==a?void 0:a.rtl)===!0&&(t||!t&&!l||!t&&r)||!0===n}var aZ=()=>(0,u.jsx)("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})}),a$=()=>(0,u.jsx)("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})}),a0="checkbox-input",a1=e=>{let{id:t,name:n,AfterInput:a,BeforeInput:o,checked:l,className:r,inputRef:i,Label:s,label:c,localized:d,onToggle:p,partialChecked:h,readOnly:f,required:m}=e;return(0,u.jsxs)("div",{className:[r,a0,l&&"".concat(a0,"--checked"),f&&"".concat(a0,"--read-only")].filter(Boolean).join(" "),children:[(0,u.jsxs)("div",{className:"".concat(a0,"__input"),children:[o,(0,u.jsx)("input",{"aria-label":"",defaultChecked:!!l,disabled:f,id:t,name:n,onInput:p,ref:i,required:m,type:"checkbox"}),(0,u.jsxs)("span",{className:["".concat(a0,"__icon"),!l&&h?"partial":"check"].filter(Boolean).join(" "),children:[l&&(0,u.jsx)(aZ,{}),!l&&h&&(0,u.jsx)(a$,{})]}),a]}),(0,u.jsx)($,{CustomComponent:s,Fallback:(0,u.jsx)(n4,{htmlFor:t,label:c,localized:d,required:m})})]})},a2="checkbox",a3=aQ(e=>{let{id:t,checked:n,disableFormData:a,field:o,field:{admin:{className:l,description:i}={},label:s,required:c}={},onChange:d,partialChecked:p,path:h,readOnly:f,validate:m}=e,{uuid:v}=em(),g=tj(),{customComponents:{AfterInput:b,BeforeInput:x,Description:y,Error:w,Label:j}={},setValue:C,showError:S,value:_}=aK({disableFormData:a,path:h,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:c})},[m,c])}),k=(0,r.useCallback)(()=>{f||(C(!_),"function"==typeof d&&d(!_))},[d,f,C,_]),N=n||!!_,E=t||n5(h,g,v),A=(0,r.useMemo)(()=>aG(o),[o]);return(0,u.jsxs)("div",{className:[aX,a2,S&&"error",l,_&&"".concat(a2,"--checked"),f&&"".concat(a2,"--read-only")].filter(Boolean).join(" "),style:A,children:[(0,u.jsx)($,{CustomComponent:w,Fallback:(0,u.jsx)(tx,{path:h,showError:S})}),(0,u.jsx)(a1,{AfterInput:b,BeforeInput:x,checked:N,id:E,inputRef:null,Label:j,label:s,name:h,onToggle:k,partialChecked:p,readOnly:f,required:c}),(0,u.jsx)($,{CustomComponent:y,Fallback:(0,u.jsx)(tb,{description:i,path:h})})]})}),a6=e=>{let t,n=(0,p.c)(4),{fieldValue:a,localized:o,path:l}=e,{code:i}=n6(),{config:d}=(0,s.b)(),{localization:h}=d,[f,m]=r.useState("number"!=typeof a),v=h&&h.defaultLocale?h.defaultLocale:"en",{t:g}=(0,c.d)();if(!o||i===v||h&&!h.fallback)return null;if(a){let e=!1;if("number"==typeof a&&a>0&&(e=!0),Array.isArray(a)&&a.length>0&&(e=!0),e)return f&&m(!1),null}return n[0]!==g||n[1]!==l||n[2]!==f?(t=(0,u.jsx)(eA,{children:(0,u.jsx)(a3,{checked:f,field:{name:"",label:g("general:fallbackToDefaultLocale")},id:"field-".concat(l.replace(/\./g,"__")),path:l,schemaPath:""})}),n[0]=g,n[1]=l,n[2]=f,n[3]=t):t=n[3],t},a5=e=>{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:e.top-100})}},a4=()=>(0,u.jsx)("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})}),a9=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]})},a8="array-actions",a7=e=>{let t=(0,p.c)(10),{addRow:n,duplicateRow:a,hasMaxRows:o,index:l,isSortable:i,moveRow:s,removeRow:d,rowCount:h}=e,{t:f}=(0,c.d)(),m;return t[0]!==i||t[1]!==l||t[2]!==s||t[3]!==f||t[4]!==h||t[5]!==o||t[6]!==n||t[7]!==a||t[8]!==d?(m=(0,u.jsx)(eJ,{button:(0,u.jsx)(a9,{}),buttonClassName:"".concat(a8,"__button"),className:a8,horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,u.jsxs)(eT.ButtonGroup,{buttonSize:"small",children:[i&&0!==l&&(0,u.jsxs)(eT.Button,{className:"".concat(a8,"__action ").concat(a8,"__move-up"),onClick:()=>{s(l,l-1),t()},children:[(0,u.jsx)("div",{className:"".concat(a8,"__action-chevron"),children:(0,u.jsx)(eP,{direction:"up"})}),f("general:moveUp")]}),i&&l<h-1&&(0,u.jsxs)(eT.Button,{className:"".concat(a8,"__action"),onClick:()=>{s(l,l+1),t()},children:[(0,u.jsx)("div",{className:"".concat(a8,"__action-chevron"),children:(0,u.jsx)(eP,{})}),f("general:moveDown")]}),!o&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)(eT.Button,{className:"".concat(a8,"__action ").concat(a8,"__add"),onClick:()=>{n(l+1),t()},children:[(0,u.jsx)(eR,{}),f("general:addBelow")]}),(0,u.jsxs)(eT.Button,{className:"".concat(a8,"__action ").concat(a8,"__duplicate"),onClick:()=>{a(l),t()},children:[(0,u.jsx)(a4,{}),f("general:duplicate")]})]}),(0,u.jsxs)(eT.Button,{className:"".concat(a8,"__action ").concat(a8,"__remove"),onClick:()=>{d(l),t()},children:[(0,u.jsx)(c.a,{}),f("general:remove")]})]})},size:"medium"}),t[0]=i,t[1]=l,t[2]=s,t[3]=f,t[4]=h,t[5]=o,t[6]=n,t[7]=a,t[8]=d,t[9]=m):m=t[9],m},oe=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]})},ot=(0,r.createContext)({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),on=e=>{let{children:t,isCollapsed:n,isWithinCollapsible:a=!0,toggle:o}=e,{isCollapsed:l,isVisible:i}=oa(),s=r.useMemo(()=>({isCollapsed:n,isVisible:i&&!l,isWithinCollapsible:a,toggle:o}),[n,a,o,l,i]);return(0,u.jsx)(ot.Provider,{value:s,children:t})},oa=()=>(0,r.useContext)(ot),oo=y.default||y,ol="collapsible",or=e=>{let t=(0,p.c)(26),{actions:n,children:a,className:o,collapsibleStyle:l,dragHandleProps:i,header:s,initCollapsed:d,isCollapsed:h,onToggle:f}=e,[m,v]=(0,r.useState)(!!d),[g,b]=(0,r.useState)(!1),{isWithinCollapsible:x}=oa(),{t:y}=(0,c.d)(),w="boolean"==typeof h?h:m,j;t[0]!==f||t[1]!==w?(j=()=>{"function"==typeof f&&f(!w),v(!w)},t[0]=f,t[1]=w,t[2]=j):j=t[2];let C=j,S=i&&"".concat(ol,"--has-drag-handle"),_=w&&"".concat(ol,"--collapsed"),k=x&&"".concat(ol,"--nested"),N=g&&"".concat(ol,"--hovered"),E="".concat(ol,"--style-").concat(void 0===l?"default":l),A;t[3]!==o||t[4]!==S||t[5]!==_||t[6]!==k||t[7]!==N||t[8]!==E?(A=[ol,o,S,_,k,N,E].filter(Boolean),t[3]=o,t[4]=S,t[5]=_,t[6]=k,t[7]=N,t[8]=E,t[9]=A):A=t[9];let P=A.join(" "),D,O;t[10]===Symbol.for("react.memo_cache_sentinel")?(D=()=>b(!0),O=()=>b(!1),t[10]=D,t[11]=O):(D=t[10],O=t[11]);let R="".concat(ol,"__toggle--").concat(w?"collapsed":"open"),I;t[12]!==R?(I=["".concat(ol,"__toggle"),R].filter(Boolean),t[12]=R,t[13]=I):I=t[13];let T=I.join(" "),L;if(t[14]!==y||t[15]!==T||t[16]!==C||t[17]!==i||t[18]!==s||t[19]!==n||t[20]!==w||t[21]!==a||t[22]!==P){let e;t[24]!==i?(e=i&&(0,u.jsx)("div",{className:"".concat(ol,"__drag"),...i.attributes,...i.listeners,children:(0,u.jsx)(oe,{})}),t[24]=i,t[25]=e):e=t[25],L=(0,u.jsx)("div",{className:P,children:(0,u.jsxs)(on,{isCollapsed:w,toggle:C,children:[(0,u.jsxs)("div",{className:"".concat(ol,"__toggle-wrap"),onMouseEnter:D,onMouseLeave:O,children:[(0,u.jsx)("button",{className:T,onClick:C,type:"button",children:(0,u.jsx)("span",{children:y("fields:toggleBlock")})}),e,s?(0,u.jsx)("div",{className:["".concat(ol,"__header-wrap"),i&&"".concat(ol,"__header-wrap--has-drag-handle")].filter(Boolean).join(" "),children:s}):null,(0,u.jsxs)("div",{className:"".concat(ol,"__actions-wrap"),children:[n?(0,u.jsx)("div",{className:"".concat(ol,"__actions"),children:n}):null,(0,u.jsx)("div",{className:"".concat(ol,"__indicator"),children:(0,u.jsx)(eP,{direction:w?void 0:"up"})})]})]}),(0,u.jsx)(oo,{duration:200,height:w?0:"auto",children:(0,u.jsx)("div",{className:"".concat(ol,"__content"),children:a})})]})}),t[14]=y,t[15]=T,t[16]=C,t[17]=i,t[18]=s,t[19]=n,t[20]=w,t[21]=a,t[22]=P,t[23]=L}else L=t[23];return L},oi=e=>{var t;let n=(0,p.c)(9),{children:a,className:o,forceRender:l}=e,[i,s]=r.useState(!!l),c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c={rootMargin:"1000px"},n[0]=c):c=n[0];let[d,h]=eY(c,!!l),f=!!(null==h?void 0:h.isIntersecting),m=(null==h?void 0:null===(t=h.boundingClientRect)||void 0===t?void 0:t.top)<0,v=l||f||m,g,b;n[1]!==v||n[2]!==i?(g=()=>{v&&!i&&s(!0)},b=[v,i],n[1]=v,n[2]=i,n[3]=g,n[4]=b):(g=n[3],b=n[4]),r.useEffect(g,b);let x=i?a:null,y;return n[5]!==o||n[6]!==d||n[7]!==x?(y=(0,u.jsx)("div",{className:o,ref:d,children:x}),n[5]=o,n[6]=d,n[7]=x,n[8]=y):y=n[8],y},os="gutter",oc=(0,r.forwardRef)((e,t)=>{let{children:n,className:a,left:o=!0,negativeLeft:l=!1,negativeRight:r=!1,right:i=!0}=e,s=o&&!l,c=i&&!r;return(0,u.jsx)("div",{className:[s&&"".concat(os,"--left"),c&&"".concat(os,"--right"),l&&"".concat(os,"--negative-left"),r&&"".concat(os,"--negative-right"),a].filter(Boolean).join(" "),ref:t,children:n})});oc.displayName="Gutter";var od=e=>{let t=(0,p.c)(3),n=(0,r.useId)(),a=tj(),o="".concat(e,"-").concat(n),l;return t[0]!==o||t[1]!==a?(l=op({slug:o,depth:a}),t[0]=o,t[1]=a,t[2]=l):l=t[2],l},ou="drawer",op=e=>{let{slug:t,depth:n}=e;return"drawer_".concat(n,"_").concat(t)},oh=e=>{let t=(0,p.c)(17),n,a,o,l,r,i;t[0]!==e?({slug:n,children:i,className:o,disabled:l,onClick:a,...r}=e,t[0]=e,t[1]=n,t[2]=a,t[3]=o,t[4]=l,t[5]=r,t[6]=i):(n=t[1],a=t[2],o=t[3],l=t[4],r=t[5],i=t[6]);let{openModal:s}=tU(),c;t[7]!==s||t[8]!==n||t[9]!==a?(c=e=>{s(n),"function"==typeof a&&a(e)},t[7]=s,t[8]=n,t[9]=a,t[10]=c):c=t[10];let d=c,h;return t[11]!==o||t[12]!==l||t[13]!==d||t[14]!==r||t[15]!==i?(h=(0,u.jsx)("button",{className:o,disabled:l,onClick:d,type:"button",...r,children:i}),t[11]=o,t[12]=l,t[13]=d,t[14]=r,t[15]=i,t[16]=h):h=t[16],h},of=e=>{let t,n,a=(0,p.c)(26),{slug:o,children:l,className:i,gutter:s,Header:d,hoverTitle:h,title:f}=e,m=void 0===s||s,{t:v}=(0,c.d)(),{closeModal:g,modalState:b}=tU(),x=og(),[y,w]=(0,r.useState)(!1),[j,C]=(0,r.useState)(!1),S,_;if(a[0]!==b||a[1]!==o?(S=()=>{var e;w(null===(e=b[o])||void 0===e?void 0:e.isOpen)},_=[o,b],a[0]=b,a[1]=o,a[2]=S,a[3]=_):(S=a[2],_=a[3]),(0,r.useEffect)(S,_),a[4]!==y?(t=()=>{C(y)},n=[y],a[4]=y,a[5]=t,a[6]=n):(t=a[5],n=a[6]),(0,r.useEffect)(t,n),y){let e=j&&"".concat(ou,"--is-open"),t=x>1&&"".concat(ou,"--nested"),n;a[7]!==i||a[8]!==e||a[9]!==t?(n=[i,ou,e,t].filter(Boolean),a[7]=i,a[8]=e,a[9]=t,a[10]=n):n=a[10];let r=n.join(" "),s=100+x,p;if(a[11]!==s||a[12]!==x||a[13]!==v||a[14]!==o||a[15]!==g||a[16]!==d||a[17]!==h||a[18]!==f||a[19]!==l||a[20]!==m||a[21]!==r){let e;a[23]!==g||a[24]!==o?(e=()=>g(o),a[23]=g,a[24]=o,a[25]=e):e=a[25],p=(0,u.jsx)(ov,{children:(0,u.jsxs)(t6,{className:r,slug:o,style:{zIndex:s},children:[(!x||1===x)&&(0,u.jsx)("div",{className:"".concat(ou,"__blur-bg")}),(0,u.jsx)("button",{"aria-label":v("general:close"),className:"".concat(ou,"__close"),id:"close-drawer__".concat(o),onClick:e,type:"button"}),(0,u.jsxs)("div",{className:"".concat(ou,"__content"),style:{width:"calc(100% - (".concat(x," * var(--gutter-h))")},children:[(0,u.jsx)("div",{className:"".concat(ou,"__blur-bg-content")}),(0,u.jsxs)(oc,{className:"".concat(ou,"__content-children"),left:m,right:m,children:[d,void 0===d&&(0,u.jsxs)("div",{className:"".concat(ou,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(ou,"__header__title"),title:h?f:null,children:f}),(0,u.jsx)("button",{"aria-label":v("general:close"),className:"".concat(ou,"__header__close"),id:"close-drawer__".concat(o),onClick:()=>g(o),type:"button",children:(0,u.jsx)(c.a,{})})]}),l]})]})]})}),a[11]=s,a[12]=x,a[13]=v,a[14]=o,a[15]=g,a[16]=d,a[17]=h,a[18]=f,a[19]=l,a[20]=m,a[21]=r,a[22]=p}else p=a[22];return p}return null},om=(0,r.createContext)(1),ov=e=>{let t=(0,p.c)(3),{children:n}=e,a=og()+1,o;return t[0]!==a||t[1]!==n?(o=(0,u.jsx)(om.Provider,{value:a,children:n}),t[0]=a,t[1]=n,t[2]=o):o=t[2],o},og=()=>(0,r.useContext)(om),ob=f.default.default,ox="pill",oy=e=>{let t=(0,p.c)(12),{id:n,className:a}=e,o;t[0]!==n?(o={id:n},t[0]=n,t[1]=o):o=t[1];let{attributes:l,isDragging:r,listeners:i,setNodeRef:s,transform:c}=tp(o),d=r&&"".concat(ox,"--is-dragging"),h;t[2]!==d||t[3]!==a?(h=[d,a].filter(Boolean),t[2]=d,t[3]=a,t[4]=h):h=t[4];let f=h.join(" "),m;return t[5]!==c||t[6]!==i||t[7]!==l||t[8]!==s||t[9]!==e||t[10]!==f?(m=(0,u.jsx)(ow,{...e,className:f,elementProps:{...i,...l,ref:s,style:{transform:c}}}),t[5]=c,t[6]=i,t[7]=l,t[8]=s,t[9]=e,t[10]=f,t[11]=m):m=t[11],m},ow=e=>{let{alignIcon:t="right","aria-checked":n,"aria-controls":a,"aria-expanded":o,"aria-label":l,children:r,className:i,draggable:s,elementProps:c,icon:d,onClick:p,pillStyle:h="light",rounded:f,to:m}=e,v=[ox,"".concat(ox,"--style-").concat(h),i&&i,m&&"".concat(ox,"--has-link"),(m||p)&&"".concat(ox,"--has-action"),d&&"".concat(ox,"--has-icon"),d&&"".concat(ox,"--align-icon-").concat(t),s&&"".concat(ox,"--draggable"),f&&"".concat(ox,"--rounded")].filter(Boolean).join(" "),g="div";return p&&!m&&(g="button"),m&&(g=ob),(0,u.jsxs)(g,{...c,"aria-checked":n,"aria-controls":a,"aria-expanded":o,"aria-label":l,className:v,href:m||null,onClick:p,type:"button"===g?"button":void 0,children:[(0,u.jsx)("span",{className:"".concat(ox,"__label"),children:r}),d&&(0,u.jsx)("span",{className:"".concat(ox,"__icon"),children:d})]})},oj=e=>{let{draggable:t}=e;return t?(0,u.jsx)(oy,{...e}):(0,u.jsx)(ow,{...e})},oC="thumbnail-card",oS=e=>{let t,n=(0,p.c)(15),{alignLabel:a,className:o,collection:l,doc:r,label:i,onClick:d,thumbnail:h}=e,{config:f}=(0,s.b)(),{i18n:m}=(0,c.d)(),v="function"==typeof d&&"".concat(oC,"--has-on-click"),g=a&&"".concat(oC,"--align-label-").concat(a),b;n[0]!==o||n[1]!==v||n[2]!==g?(b=[oC,o,v,g].filter(Boolean),n[0]=o,n[1]=v,n[2]=g,n[3]=b):b=n[3];let x=b.join(" "),y=i;if(!y){let e=null==r?void 0:r.filename,t;n[4]!==l||n[5]!==r||n[6]!==f.admin.dateFormat||n[7]!==e||n[8]!==m?(t=aO({collectionConfig:l,data:r,dateFormat:f.admin.dateFormat,fallback:e,i18n:m}),n[4]=l,n[5]=r,n[6]=f.admin.dateFormat,n[7]=e,n[8]=m,n[9]=t):t=n[9],y=t}return n[10]!==h||n[11]!==y||n[12]!==x||n[13]!==d?(t=(0,u.jsxs)("button",{className:x,onClick:d,title:y,type:"button",children:[(0,u.jsx)("div",{className:"".concat(oC,"__thumbnail"),children:h}),(0,u.jsx)("div",{className:"".concat(oC,"__label"),children:y})]}),n[10]=h,n[11]=y,n[12]=x,n[13]=d,n[14]=t):t=n[14],t},o_=[];for(ok=0;ok<256;++ok)o_.push((ok+256).toString(16).slice(1));var ok,oN,oE=new Uint8Array(16),oA={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},oP=function(e,t,n){if(oA.randomUUID&&!t&&!e)return oA.randomUUID();var a=(e=e||{}).random||(e.rng||function(){if(!oN&&!(oN="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oN(oE)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=a[o];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(o_[e[t+0]]+o_[e[t+1]]+o_[e[t+2]]+o_[e[t+3]]+"-"+o_[e[t+4]]+o_[e[t+5]]+"-"+o_[e[t+6]]+o_[e[t+7]]+"-"+o_[e[t+8]]+o_[e[t+9]]+"-"+o_[e[t+10]]+o_[e[t+11]]+o_[e[t+12]]+o_[e[t+13]]+o_[e[t+14]]+o_[e[t+15]]).toLowerCase()}(a)},oD=()=>{let[e]=(0,r.useState)("pattern".concat(oP())),[t]=(0,r.useState)("image".concat(oP()));return(0,u.jsxs)("svg",{fill:"none",height:"53",viewBox:"0 0 82 53",width:"82",children:[(0,u.jsx)("rect",{fill:"url(#".concat(e,")"),height:"52.7791",width:"80.574",x:"0.713013"}),(0,u.jsxs)("defs",{children:[(0,u.jsx)("pattern",{height:"1",id:"".concat(e),patternContentUnits:"objectBoundingBox",width:"1",children:(0,u.jsx)("use",{transform:"scale(0.00387597 0.00591716)",xlinkHref:"#".concat(t)})}),(0,u.jsx)("image",{height:"169",id:t,width:"258",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQIAAACpCAYAAADA4zPJAAALpklEQVR4Ae2dSY/UOhSF+///DCSGHQuEgAVI7BBITAI2zCCGZuhmpqEBP53W8yOvK1UdO3Zyr/NFilJdXalyTo4/X984zlZgQQEUWLwCW4tXAAFQAAUCIMAEKIACgAAPoAAKBECACVAABQABHkABFAiAABOgAAoAAjyAAiggBbhqgA9QAAUAAR5AARQgIsADKIACdA3wAAqggBQgR4APUAAFAAEeQAEUICLAAyiAAnQN8AAKoIAUIEeAD1AABQABHkABFCAiwAMogAJ0DfAACqCAFCBHgA9QAAUAAR5AARQgIsADKIACdA3wAAqggBQgR4APUAAFAAEeQAEUICLAAyiAAnQN8AAKoIAUIEeAD1AABQABHkABFCAiwAMogAJ0DfAACqCAFCBHgA9QAAUAAR5AARQgIsADKIACdA3wAAqggBQgR4APUAAFAAEeQAEUICLAAyiAAnQN8AAKoIAUIEeAD1AABQABHkABFCAiwAMLVmB/fz98+/YtfPr0KXz48CHs7u6GnZ2dg+3Hjx/D169fw48fP8KfP3+aV4muQfOnmAPsKqDKr4r/9u3bsL29PXgVKPb29pqFAiDouoTXzSrw8+fPg5Y+pfL3ffbdu3fh+/fvzekECJo7pRxQVwGF9YoA+ir1mPfUhVB00coCCFo5kxzHigKqqGrBx1T4Tfu+efOmmegAEKzYhzdaUEBdAVXUTRW51P+UVPS+AALvZ5DyryigSGAqCESYeIcBIFixEW94VuDXr1/JVwRiZR671VUFrwsg8HrmKPeKAkoMKok3tkLn7q8oRCDyuAACj2eNMvcqoMFBuZW41H4alORxAQQezxplXlHg9+/fk+cF1sHDYxcBEKxYijc8KvDly5fZo4EIhvfv37uTEBC4O2UU+LACyg2kDhmOlbbWVpcvPS2AwNPZoqy9CigUr1Whc79Xoxk9LYDA09mirL0K1BhCnAuAuJ8iFE8LIPB0tihrrwI1hxHHip2z9XQpERD0Wos3vSig/EBOJZ1iH09XDwCBF8dTzl4FNJx4ikqd8xu6kuFlAQRezhTl7FVAMwjlVNIp9vn8+XNvmS2+aR4E6md56mtZPMktl8niFYMIGU9XDkyDQCdZ47e1eupvtVzxrB0bEUGZM2ISBEoAafLISNa4FWH1PxYUiApo4E70h7UtOYJ4ljK2OrGbLgfpfy1NEZUhEbt0FNA9BtYAEMvjaW5DMxGBWnpN7hBFPGrrfSKIjpd5OVIBa8OLo3c9DTM2AQJRXbdvRgGHbrWP9mVZtgKaanyoZ6b6nPJanrqxs4MgJgRzTxCJxGVDQEevEDzXP7X2E5w8LbOBQLQsOUZ8TCLx9evX4fHjx+HRo0esTjW4efNmKL3eu3cvyBs5sPB2lWsWENSaZlr3gacmEi9fvhyOHTvGiga9Hjh79mwyDJSz8NQtUOQyOQhSEoI5JNY+mrJqyPLy5cvekw8YAGPXA7du3UqKCob6b4hHp/rMZCDITQjmwmBIIvH+/fuAgEjgSA9cuXJlMAh0edtbNCDYTAICjf6a4xKPflO/vW4BBLT83ZZ/3esUEHi6ZNitF1VBIDLqxovcVr3UfipDH6UBASBYV/m77w8FgaeRhF0I6HU1EChpp+Rdqco89nv6EomAABB0K/y610NAoCHxfY3N4Qpn9e8qILAwv3wfODTmoJvIef78+ZH9w3Xm4P3lQOTGjRsbGzSNGfAMgeIRgRKCFkd5HYaCyqiyaj1//jwwIGG41gOnT58Ourp02EPx7zHjVyxFB8UigrkSgvGEpG5jIlEw0ECiO3fusDaowe3bt8PVq1eDwvvU9fr162sh0NqI1tEgsJIQTAVB/Py6RKIlWlOWcQrIo+oSlrpypShADUhLyygQaOYgSwnBWLlTtzoGZkFqydb9xxKBkONZQUSNRqs+yQaBbvRQeJRa6ax+Xsfi6f7xfqvz7lAFVKEVJSjbLzCookc/a6uBQcol6ZKgxgZ4TwYepUsyCBQSeUgI5gJHxmgt7DvKBPwfBZJAIDKW6mflVtQp9tMxeh0hhqVRIEeBQSBQWKQQaYpKaOk3dMyth4Q5pmGf9hQ4EgTqS+3s7CwOAhFIOvZWE0Tt2ZkjylVgIwhaSwjGyp26JZGYay/286JALwiULOubTjy1ArX2ee/jyb2YknJOr8AKCJQk06WT1ipxqeORNiQSpzcqv1hXgf9AsNSEYC4gSCTWNSbfPq0CByBYekIwFwYkEqc1K79WT4GtsdOJ51aiVvZTItHbjLX17MQ3e1Vgq5UKOfdxtHI7ajSy7iYlFxLVaH8LCLa3iyVGlUhMnU7dmsWUK+pOL6dZpxlUZe0slS8PICgIghiV6F4M3ct+6dIlV+vFixcPJmo5d+5c6K4XLlwI+p/l47l27RpdtBF8AAQVQHDmzJm1M94wxVm9Kc6kOzeM5dEAEBQGgR6dRmWvV9mP0lbdM5Z0BQBBYRA8ePAAEMw4B6KeVciSrgAgAARNgQsQpENAewACQAAI8upOU3sBgsIgePjwYVMV66g+ubX/ExHk8QkQFAaB5sA/ceIEMJghT3D8+HHmnczjAF2DeO2/5Pbu3bvh1KlTwGBCGJw8eTI8efIksxqwGxFB4YggAuXVq1fh2bNn4enTp0euL168OJj/QaP4Sq26O1JzLw75/Rqf0czApY5lyPcwfmAczABBJRBEIAzd6ual7nMZx5xWK3eTxkfLjTkW9p1GAUBgBAQRGGMrj7W7SRWV6AYmFtsKAAJjIBAQciqPbgyyPL0cj5YDBMXu7out5lK2QyuPl+nleLScXRgQERiMCLqg2zQLkqIAJdK6n7f+mhmhbcIAEBgHgSp2X+VRlnx3d9cVBLqQGpsLsVmd/JYKEDgAQaxA8bmM1hKCsXypWx4tZwccgMARCFTRFB2kVjjrn2dG6PmBAAicgcB6pc4t36ZcyPzVpP0SAAJAYCbC6MuFtF8FbRwhIAAEZkAQowkeLTc9HAABIDAHAgGBR8tNCwNAAAhMgiBGByQSpwECIAAEpkEgIJBIrA8DQAAIzINAMFAikUfL1QMCIAAELkAQuwqtPVquXtVO+2ZAAAhcgUBAaOHRcmnVtP6nAQEgcAeCGB3ohiuWMgoAAkDgFgQCgm68Ypqy8TAABIDANQgEAxKJgMC9iWOYy3b84+lJJOYDgYiAiKApmGoWpP39/fwasdA9AQEgaAoEMbIqNSP0UrgACABBkyAQEEgkDscYIAAEzYJAMMiZEXp49Wnnk4AAEDQNgthVGDojdDtVO+1IAAEgWAQIBAQSievhAAgAwWJAIBhozAGJxFUgAAJAsCgQxK4C06n/HwaAABAsEgQCAonEvzAABIBgsSCI0QGJxBAAASBYPAgEhKU/lxEQAAJA8K8HljydOiAABIDgkAfio+X+9qDbfwUIDpkg9hvZjr8b0LOGS3suIyAABEQEGzywlOnUAcEGE3hu0Sh7uYhmCdOpAwJAQEQwwAOtJxIBwQAT0LqWa129a9nqcxkBASAgIkj0QIvPZQQEiSbw3qJR/nLRTUuJREAACIgIRniglUQiIBhhAlrXcq2rZy1bmE4dEAACIoJCHvA8nTogKGQCzy0aZS8X2Xh9LiMgAAREBBU84O25jICgggloYcu1sJ619DSdOiAABEQEFT3gJZEICCqawHNrRtnLRjXWE4mAABAQEUzkAcvTqQOCiUxAC1u2hfWsp8Xp1AEBICAimMED1hKJgGAGE3huzSh7ucjG0nTqgAAQEBHM7AEL06kDgplNQAtbroX1rOXciURAAAiICIx4QGMO5kokAgIjJvDcmlH2slHNHM9lBASAgIjAoAemTiQCAoMmoIUt28J61nOqRCIgAAREBMY9MMUsSIDAuAk8t2aUvVxkU3s6dUAACIgIHHmg1nMZAYEjE9DClmthPWtZYzp1QAAIiAiceqDkdOqAwKkJPLdolL1cZFMqkbilkUysaIAH/Hpgb28vjF3+AbSb48mcXO9tAAAAAElFTkSuQmCC"})]})]})},oO=()=>(0,u.jsx)("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})}),oR="block-search",oI=e=>{let t=(0,p.c)(5),{setSearchTerm:n}=e,{t:a}=(0,c.d)(),o;t[0]!==n?(o=e=>{n(e.target.value)},t[0]=n,t[1]=o):o=t[1];let l=o,r;return t[2]!==a||t[3]!==l?(r=(0,u.jsxs)("div",{className:oR,children:[(0,u.jsx)("input",{className:"".concat(oR,"__input"),onChange:l,placeholder:a("fields:searchForBlock")}),(0,u.jsx)(oO,{})]}),t[2]=a,t[3]=l,t[4]=r):r=t[4],r},oT="blocks-drawer",oL=(e,t)=>"string"==typeof e.labels.singular?e.labels.singular.toLowerCase():"object"==typeof e.labels.singular?(0,h.i0)(e.labels.singular,t).toLowerCase():"",oM=e=>{let t,n,a,o=(0,p.c)(17),{addRow:l,addRowIndex:i,blocks:s,drawerSlug:d,labels:f}=e,[m,v]=(0,r.useState)(""),[g,b]=(0,r.useState)(s),{closeModal:x,isModalOpen:y}=tU(),{i18n:w,t:j}=(0,c.d)(),C,S;return o[0]!==y?(C=()=>{y||v("")},S=[y],o[0]=y,o[1]=C,o[2]=S):(C=o[1],S=o[2]),(0,r.useEffect)(C,S),o[3]!==m||o[4]!==s||o[5]!==w?(t=()=>{let e=m.toLowerCase();b(null==s?void 0:s.reduce((t,n)=>(oL(n,w).includes(e)&&t.push(n),t),[]))},n=[m,s,w],o[3]=m,o[4]=s,o[5]=w,o[6]=t,o[7]=n):(t=o[6],n=o[7]),(0,r.useEffect)(t,n),o[8]!==f.singular||o[9]!==w||o[10]!==j||o[11]!==g||o[12]!==l||o[13]!==i||o[14]!==x||o[15]!==d?(a=(0,u.jsxs)(of,{slug:d,title:j("fields:addLabel",{label:(0,h.i0)(f.singular,w)}),children:[(0,u.jsx)(oI,{setSearchTerm:v}),(0,u.jsx)("div",{className:"".concat(oT,"__blocks-wrapper"),children:(0,u.jsx)("ul",{className:"".concat(oT,"__blocks"),children:null==g?void 0:g.map((e,t)=>{let{slug:n,imageAltText:a,imageURL:o,labels:r}=e;return(0,u.jsx)("li",{className:"".concat(oT,"__block"),children:(0,u.jsx)(oS,{alignLabel:"center",label:(0,h.i0)(null==r?void 0:r.singular,w),onClick:()=>{l(i,n),x(d)},thumbnail:o?(0,u.jsx)("img",{alt:a,src:o}):(0,u.jsx)("div",{className:"".concat(oT,"__default-image"),children:(0,u.jsx)(oD,{})})})},t)})})})]}),o[8]=f.singular,o[9]=w,o[10]=j,o[11]=g,o[12]=l,o[13]=i,o[14]=x,o[15]=d,o[16]=a):a=o[16],a},oF=e=>{let t,n=(0,p.c)(26),{addRow:a,blocks:o,blockType:l,duplicateRow:i,hasMaxRows:s,isSortable:c,labels:d,moveRow:h,removeRow:f,rowCount:m,rowIndex:v}=e,{closeModal:g,openModal:b}=tU(),x=od("blocks-drawer"),[y,w]=r.useState(null),j;if(n[0]!==a||n[1]!==y||n[2]!==g||n[3]!==x?(j=(e,t)=>{"function"==typeof a&&a(y,t),g(x)},n[0]=a,n[1]=y,n[2]=g,n[3]=x,n[4]=j):j=n[4],n[5]!==j||n[6]!==v||n[7]!==o||n[8]!==x||n[9]!==d||n[10]!==b||n[11]!==i||n[12]!==l||n[13]!==s||n[14]!==c||n[15]!==h||n[16]!==f||n[17]!==m){let e,a;n[19]!==b||n[20]!==x?(e=e=>{w(e),b(x)},n[19]=b,n[20]=x,n[21]=e):e=n[21],n[22]!==i||n[23]!==v||n[24]!==l?(a=()=>i(v,l),n[22]=i,n[23]=v,n[24]=l,n[25]=a):a=n[25],t=(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(oM,{addRow:j,addRowIndex:v,blocks:o,drawerSlug:x,labels:d}),(0,u.jsx)(a7,{addRow:e,duplicateRow:a,hasMaxRows:s,index:v,isSortable:c,moveRow:h,removeRow:f,rowCount:m})]}),n[5]=j,n[6]=v,n[7]=o,n[8]=x,n[9]=d,n[10]=b,n[11]=i,n[12]=l,n[13]=s,n[14]=c,n[15]=h,n[16]=f,n[17]=m,n[18]=t}else t=n[18];return t},oB="section-title",oV=e=>{let t=(0,p.c)(14),{customOnChange:n,customValue:a,path:o,readOnly:l}=e,r;t[0]!==o?(r={path:o},t[0]=o,t[1]=r):r=t[1];let{setValue:i,value:s}=aK(r),{t:d}=(0,c.d)(),h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=[oB].filter(Boolean),t[2]=h):h=t[2];let f=h.join(" "),m;t[3]!==n||t[4]!==i?(m=n||(e=>{e.stopPropagation(),e.preventDefault(),i(e.target.value)}),t[3]=n,t[4]=i,t[5]=m):m=t[5];let v=m,g=a||s,b;return t[6]!==d||t[7]!==a||t[8]!==s||t[9]!==o||t[10]!==v||t[11]!==l||t[12]!==g?(b=(0,u.jsx)("div",{className:f,"data-value":g,children:(0,u.jsx)("input",{className:"".concat(oB,"__input"),id:o,name:o,onChange:v,placeholder:d("general:untitled"),readOnly:l,type:"text",value:a||s||""})}),t[6]=d,t[7]=a,t[8]=s,t[9]=o,t[10]=v,t[11]=l,t[12]=g,t[13]=b):b=t[13],b},oz="blocks-field",oU=e=>{let t=(0,p.c)(45),{addRow:n,attributes:a,block:o,blocks:l,duplicateRow:r,errorCount:i,fields:s,hasMaxRows:d,isSortable:f,Label:m,labels:v,listeners:g,moveRow:b,parentPath:x,path:y,permissions:w,readOnly:j,removeRow:C,row:S,rowCount:_,rowIndex:k,schemaPath:N,setCollapse:E,setNodeRef:A,transform:P}=e,{i18n:D}=(0,c.d)(),O=eg()&&i>0,R=O?"".concat(oz,"__row--has-errors"):"".concat(oz,"__row--no-errors"),I;t[0]!==R?(I=["".concat(oz,"__row"),R].filter(Boolean),t[0]=R,t[1]=I):I=t[1];let T=I.join(" "),L="".concat(null==x?void 0:x.split(".").join("-"),"-row-").concat(k),M;if(t[2]!==P||t[3]!==j||t[4]!==n||t[5]!==l||t[6]!==S||t[7]!==r||t[8]!==o||t[9]!==d||t[10]!==f||t[11]!==v||t[12]!==b||t[13]!==C||t[14]!==_||t[15]!==k||t[16]!==O||t[17]!==a||t[18]!==g||t[19]!==m||t[20]!==D||t[21]!==y||t[22]!==i||t[23]!==E||t[24]!==w||t[25]!==s||t[26]!==N||t[27]!==T||t[28]!==L||t[29]!==A||t[30]!==x){var F,B;let e,c;t[32]!==m||t[33]!==k||t[34]!==S||t[35]!==o||t[36]!==D||t[37]!==y||t[38]!==j||t[39]!==O||t[40]!==i?(e=m||(0,u.jsxs)("div",{className:"".concat(oz,"__block-header"),children:[(0,u.jsx)("span",{className:"".concat(oz,"__block-number"),children:String(k+1).padStart(2,"0")}),(0,u.jsx)(oj,{className:"".concat(oz,"__block-pill ").concat(oz,"__block-pill-").concat(S.blockType),pillStyle:"white",children:(0,h.i0)(o.labels.singular,D)}),(0,u.jsx)(oV,{path:"".concat(y,".blockName"),readOnly:j}),O&&(0,u.jsx)(tv,{count:i,i18n:D,withMessage:!0})]}),t[32]=m,t[33]=k,t[34]=S,t[35]=o,t[36]=D,t[37]=y,t[38]=j,t[39]=O,t[40]=i,t[41]=e):e=t[41],t[42]!==E||t[43]!==S.id?(c=e=>E(S.id,e),t[42]=E,t[43]=S.id,t[44]=c):c=t[44],M=(0,u.jsx)("div",{id:L,ref:A,style:{transform:P},children:(0,u.jsx)(or,{actions:j?void 0:(0,u.jsx)(oF,{addRow:n,blocks:l,blockType:S.blockType,duplicateRow:r,fields:o.fields,hasMaxRows:d,isSortable:f,labels:v,moveRow:b,removeRow:C,rowCount:_,rowIndex:k}),className:T,collapsibleStyle:O?"error":"default",dragHandleProps:f?{id:S.id,attributes:a,listeners:g}:void 0,header:e,isCollapsed:S.collapsed,onToggle:c,children:(0,u.jsx)(uX,{className:"".concat(oz,"__fields"),fields:s,margins:"small",parentIndexPath:"",parentPath:y,parentSchemaPath:N,permissions:!0===w?w:null==w?void 0:null===(B=w.blocks)||void 0===B?void 0:null===(F=B[o.slug])||void 0===F?void 0:F.fields,readOnly:j})},S.id)},"".concat(x,"-row-").concat(k)),t[2]=P,t[3]=j,t[4]=n,t[5]=l,t[6]=S,t[7]=r,t[8]=o,t[9]=d,t[10]=f,t[11]=v,t[12]=b,t[13]=C,t[14]=_,t[15]=k,t[16]=O,t[17]=a,t[18]=g,t[19]=m,t[20]=D,t[21]=y,t[22]=i,t[23]=E,t[24]=w,t[25]=s,t[26]=N,t[27]=T,t[28]=L,t[29]=A,t[30]=x,t[31]=M}else M=t[31];return M},oH="blocks-field",oq=aQ(e=>{let t,n,a=(0,p.c)(53),{i18n:o,t:l}=(0,c.d)(),{field:i,path:d,permissions:f,readOnly:m,schemaPath:v,validate:g}=e,{name:b,admin:x,blocks:y,label:w,labels:j,localized:C,maxRows:S,minRows:_,required:k}=i,N;a[0]!==x?(N=void 0===x?{}:x,a[0]=x,a[1]=N):N=a[1];let{className:E,description:A,isSortable:P}=N,D=void 0===P||P,O=null!=v?v:b,R=(null!=_?_:k)?1:0,{setDocFieldPreferences:I}=aV(),{addFieldRow:T,dispatchFields:L,setModified:M}=em(),{code:F}=n6(),{config:B}=(0,s.b)(),{localization:V}=B,z=od("blocks-drawer"),U=eg(),H={plural:l("fields:blocks"),singular:l("fields:block"),...j},q;e:{if(V&&V.fallback){q=F===(V.defaultLocale||"en");break e}q=!0}let W=q,K;a[2]!==W||a[3]!==g||a[4]!==S||a[5]!==R||a[6]!==k?(K=(e,t)=>!W&&null===e||("function"==typeof g?g(e,{...t,maxRows:S,minRows:R,required:k}):void 0),a[2]=W,a[3]=g,a[4]=S,a[5]=R,a[6]=k,a[7]=K):K=a[7];let Y=K,Q;a[8]!==d||a[9]!==Y?(Q={hasRows:!0,path:d,validate:Y},a[8]=d,a[9]=Y,a[10]=Q):Q=a[10];let{customComponents:G,errorPaths:X,rows:J,showError:Z,valid:ee,value:et}=aK(Q),en;a[11]!==G?(en=void 0===G?{}:G,a[11]=G,a[12]=en):en=a[12];let{Description:ea,Error:eo,Label:el}=en,er;a[13]!==J?(er=void 0===J?[]:J,a[13]=J,a[14]=er):er=a[14];let ei=er,es;a[15]!==T||a[16]!==d||a[17]!==O||a[18]!==M?(es=(e,t)=>{T({blockType:t,path:d,rowIndex:e,schemaPath:O}),M(!0),setTimeout(()=>{a5("".concat(d,"-row-").concat(e+1))},0)},a[15]=T,a[16]=d,a[17]=O,a[18]=M,a[19]=es):es=a[19];let ec=es,ed;a[20]!==L||a[21]!==d||a[22]!==M?(ed=e=>{L({type:"DUPLICATE_ROW",path:d,rowIndex:e}),M(!0),setTimeout(()=>{a5("".concat(d,"-row-").concat(e+1))},0)},a[20]=L,a[21]=d,a[22]=M,a[23]=ed):ed=a[23];let eu=ed,ep;a[24]!==L||a[25]!==d||a[26]!==M?(ep=e=>{L({type:"REMOVE_ROW",path:d,rowIndex:e}),M(!0)},a[24]=L,a[25]=d,a[26]=M,a[27]=ep):ep=a[27];let eh=ep,ef;a[28]!==L||a[29]!==d||a[30]!==M?(ef=(e,t)=>{L({type:"MOVE_ROW",moveFromIndex:e,moveToIndex:t,path:d}),M(!0)},a[28]=L,a[29]=d,a[30]=M,a[31]=ef):ef=a[31];let ev=ef,eb;a[32]!==ei||a[33]!==L||a[34]!==d||a[35]!==I?(eb=e=>{let{collapsedIDs:t,updatedRows:n}=n8({collapsed:e,rows:ei});L({type:"SET_ALL_ROWS_COLLAPSED",path:d,updatedRows:n}),I(d,{collapsed:t})},a[32]=ei,a[33]=L,a[34]=d,a[35]=I,a[36]=eb):eb=a[36];let ex=eb,ey;a[37]!==ei||a[38]!==L||a[39]!==d||a[40]!==I?(ey=(e,t)=>{let{collapsedIDs:n,updatedRows:a}=n9({collapsed:t,rowID:e,rows:ei});L({type:"SET_ROW_COLLAPSED",path:d,updatedRows:a}),I(d,{collapsed:n})},a[37]=ei,a[38]=L,a[39]=d,a[40]=I,a[41]=ey):ey=a[41];let ew=ey,ej=S&&ei.length>=S,eC=X.length,eS=U&&eC+(ee?0:1)>0,e_=ei.length<R||k&&0===ei.length,ek=m&&0===ei.length,eN=eS?"".concat(oH,"--has-error"):"".concat(oH,"--has-no-error"),eE;return a[42]!==E||a[43]!==eN?(eE=[aX,oH,E,eN].filter(Boolean),a[42]=E,a[43]=eN,a[44]=eE):eE=a[44],a[45]!==Z||a[46]!==d||a[47]!==eo?(t=Z&&(0,u.jsx)($,{CustomComponent:eo,Fallback:(0,u.jsx)(tx,{path:d,showError:Z})}),a[45]=Z,a[46]=d,a[47]=eo,a[48]=t):t=a[48],a[49]!==eS||a[50]!==eC||a[51]!==o?(n=eS&&eC>0&&(0,u.jsx)(tv,{count:eC,i18n:o,withMessage:!0}),a[49]=eS,a[50]=eC,a[51]=o,a[52]=n):n=a[52],(0,u.jsxs)("div",{className:eE.join(" "),id:"field-".concat(null==d?void 0:d.replace(/\./g,"__")),children:[t,(0,u.jsxs)("header",{className:"".concat(oH,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(oH,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(oH,"__heading-with-error"),children:[(0,u.jsx)("h3",{children:(0,u.jsx)($,{CustomComponent:el,Fallback:(0,u.jsx)(n4,{label:w,localized:C,path:d,required:k})})}),n]}),ei.length>0&&(0,u.jsxs)("ul",{className:"".concat(oH,"__header-actions"),children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(oH,"__header-action"),onClick:()=>ex(!0),type:"button",children:l("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(oH,"__header-action"),onClick:()=>ex(!1),type:"button",children:l("fields:showAll")})})]})]}),(0,u.jsx)($,{CustomComponent:ea,Fallback:(0,u.jsx)(tb,{description:A,path:d})})]}),(0,u.jsx)(a6,{fieldValue:et,localized:C,path:d}),(ei.length>0||!ee&&(ek||e_))&&(0,u.jsxs)(tf,{className:"".concat(oH,"__rows"),ids:ei.map(oW),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return ev(t,n)},children:[ei.map((e,t)=>{let{blockType:n}=e,a=y.find(e=>e.slug===n);if(a){let n="".concat(d,".").concat(t),o=X.filter(e=>e.startsWith(n+".")).length;return(0,u.jsx)(th,{disabled:m||!D,id:e.id,children:l=>(0,u.jsx)(oU,{...l,addRow:ec,block:a,blocks:y,duplicateRow:eu,errorCount:o,fields:a.fields,hasMaxRows:ej,isSortable:D,Label:el,labels:H,moveRow:ev,parentPath:d,path:n,permissions:f,readOnly:m,removeRow:eh,row:e,rowCount:ei.length,rowIndex:t,schemaPath:O+a.slug,setCollapse:ew})},e.id)}return null}),!W&&(0,u.jsxs)(r.Fragment,{children:[e_&&(0,u.jsx)(eA,{type:"error",children:l("validation:requiresAtLeast",{count:R,label:(0,h.i0)(R>1?H.plural:H.singular,o)||l(R>1?"general:row":"general:rows")})}),ek&&(0,u.jsx)(eA,{children:l("validation:fieldHasNo",{label:(0,h.i0)(H.plural,o)})})]})]}),!ej&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(oh,{className:"".concat(oH,"__drawer-toggler"),slug:z,children:(0,u.jsx)(e1,{buttonStyle:"icon-label",disabled:m,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:l("fields:addLabel",{label:(0,h.i0)(H.singular,o)})})}),(0,u.jsx)(oM,{addRow:ec,addRowIndex:(null==ei?void 0:ei.length)||0,blocks:y,drawerSlug:z,labels:H})]})]})});function oW(e){return e.id}var oK=(0,r.lazy)(()=>n.e(748).then(n.bind(n,3748))),oY=e=>(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(s.d,{}),children:(0,u.jsx)(oK,{...e})}),oQ={js:"javascript",ts:"typescript"},oG=aQ(e=>{let{field:t,field:{admin:{className:n,description:a,editorOptions:o={},language:l="javascript"}={},label:i,localized:s,required:c},path:d,readOnly:p,validate:h}=e,{customComponents:{AfterInput:f,BeforeInput:m,Description:v,Error:g,Label:b}={},setValue:x,showError:y,value:w}=aK({path:d,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof h)return h(e,{...t,required:c})},[h,c])}),j=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsxs)("div",{className:[aX,"code-field",n,y&&"error",p&&"read-only"].filter(Boolean).join(" "),style:j,children:[(0,u.jsx)($,{CustomComponent:b,Fallback:(0,u.jsx)(n4,{label:i,localized:s,path:d,required:c})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)($,{CustomComponent:g,Fallback:(0,u.jsx)(tx,{path:d,showError:y})}),m,(0,u.jsx)(oY,{defaultLanguage:oQ[l]||l,onChange:p?()=>null:e=>x(e),options:o,readOnly:p,value:w||""}),f]}),(0,u.jsx)($,{CustomComponent:v,Fallback:(0,u.jsx)(tb,{description:a,path:d})})]})}),oX=(e,t)=>t.reduce((t,n)=>{var a;let o="fields"in n?n.fields:void 0;if(o){if((0,j.j7)(n)){let a="name"in n?n.name:"unnamed";t.push(...e,a)}else t.push(...oX(e,o))}else if("tabs"===n.type)"tabs"in n&&(null===(a=n.tabs)||void 0===a||a.forEach(n=>{let a=e;"name"in n&&(a=[...e,n.name]),t.push(...oX(a,n.fields))}));else if((0,j.j7)(n)){let a="name"in n?n.name:"unnamed";t.push(...e,a)}return t},[]),oJ=e=>{let{formState:t,pathSegments:n}=e,a={},o=0;return Object.entries(t).forEach(e=>{let[l]=e;if(null==n?void 0:n.some(e=>e.endsWith(".")?l.startsWith(e):l===e)){let e=t[l];a[l]=e,"valid"in e&&!e.valid&&(o+=1)}}),{errorCount:o,fieldState:a}},oZ=e=>{let t,n=(0,p.c)(12),{fields:a,path:o,setErrorCount:l}=e,[r]=ej(),i=eg(),s;n[0]!==o||n[1]!==a?(s=oX(o,a),n[0]=o,n[1]=a,n[2]=s):s=n[2];let c=s,d;return n[3]!==i||n[4]!==r||n[5]!==c||n[6]!==l?(d=()=>{if(i){let{errorCount:e}=oJ({formState:r,pathSegments:c});l(e)}},n[3]=i,n[4]=r,n[5]=c,n[6]=l,n[7]=d):d=n[7],n[8]!==r||n[9]!==i||n[10]!==a?(t=[r,i,a],n[8]=r,n[9]=i,n[10]=a,n[11]=t):t=n[11],n7(d,250,t),null},o$="collapsible-field",o0=aQ(e=>{let{field:t,field:{admin:{className:n,description:a,initCollapsed:o=!1}={},fields:l,label:i}={},indexPath:s,parentPath:d,parentSchemaPath:p,path:f,permissions:m,readOnly:v}=e,{i18n:g}=(0,c.d)(),{getPreference:b,setPreference:x}=nJ(),{preferencesKey:y}=aV(),[w,j]=(0,r.useState)(),C="collapsible-".concat(null==f?void 0:f.replace(/\./g,"__")),[S,_]=(0,r.useState)(0),k=S>0,{customComponents:{Description:N,Label:E}={}}=aK({path:f}),A=(0,r.useCallback)(async e=>{var t,n;let a=await b(y);y&&x(y,{...a,...f?{fields:{...(null==a?void 0:a.fields)||{},[f]:{...null==a?void 0:null===(t=a.fields)||void 0===t?void 0:t[f],collapsed:e}}}:{fields:{...(null==a?void 0:a.fields)||{},[C]:{...null==a?void 0:null===(n=a.fields)||void 0===n?void 0:n[C],collapsed:e}}}})},[y,C,b,x,f]);(0,r.useEffect)(()=>{(async()=>{if(y){var e,t,n,a;let l=await b(y),r=f?null==l?void 0:null===(t=l.fields)||void 0===t?void 0:null===(e=t[f])||void 0===e?void 0:e.collapsed:null==l?void 0:null===(a=l.fields)||void 0===a?void 0:null===(n=a[C])||void 0===n?void 0:n.collapsed;j(void 0!==r?!!r:"boolean"==typeof o&&o)}else j("boolean"==typeof o&&o)})()},[b,y,C,o,f]);let P=(0,r.useMemo)(()=>aG(t),[t]);return"boolean"!=typeof w?null:(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(oZ,{fields:l,path:f.split("."),setErrorCount:_}),(0,u.jsxs)("div",{className:[aX,o$,n,k?"".concat(o$,"--has-error"):"".concat(o$,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(C),style:P,children:[(0,u.jsx)(or,{className:"".concat(o$,"__collapsible"),collapsibleStyle:k?"error":"default",header:(0,u.jsxs)("div",{className:"".concat(o$,"__row-label-wrap"),children:[(0,u.jsx)(ek,{CustomComponent:E,label:(0,h.i0)(i,g),path:f}),k&&(0,u.jsx)(tv,{count:S,i18n:g,withMessage:!0})]}),initCollapsed:w,onToggle:A,children:(0,u.jsx)(uX,{fields:l,margins:"small",parentIndexPath:s,parentPath:d,parentSchemaPath:p,permissions:m,readOnly:v})}),(0,u.jsx)($,{CustomComponent:N,Fallback:(0,u.jsx)(tb,{description:a,path:f})})]})]})}),o1=(0,r.lazy)(()=>n.e(304).then(n.bind(n,6304))),o2=e=>(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)(s.d,{height:50}),children:(0,u.jsx)(o1,{...e})}),o3="date-time-field",o6=aQ(e=>{let{field:t,field:{admin:{className:n,date:a,description:o,placeholder:l}={},label:i,localized:s,required:d},path:p,readOnly:f,validate:m}=e,{i18n:v}=(0,c.d)(),{customComponents:{AfterInput:g,BeforeInput:b,Description:x,Error:y,Label:w}={},setValue:j,showError:C,value:S}=aK({path:p,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:d})},[m,d])}),_=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsxs)("div",{className:[aX,o3,n,C&&"".concat(o3,"--has-error"),f&&"read-only"].filter(Boolean).join(" "),style:_,children:[(0,u.jsx)($,{CustomComponent:w,Fallback:(0,u.jsx)(n4,{label:i,localized:s,required:d})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),id:"field-".concat(p.replace(/\./g,"__")),children:[(0,u.jsx)($,{CustomComponent:y,Fallback:(0,u.jsx)(tx,{path:p,showError:C})}),b,(0,u.jsx)(o2,{...a,onChange:e=>{f||j((null==e?void 0:e.toISOString())||null)},placeholder:(0,h.i0)(l,v),readOnly:f,value:S}),g]}),(0,u.jsx)($,{CustomComponent:x,Fallback:(0,u.jsx)(tb,{description:o,path:p})})]})}),o5=aQ(e=>{let{field:t,field:{admin:{autoComplete:n,className:a,description:o,placeholder:l}={},label:i,localized:s,required:d}={},path:p,readOnly:f,validate:m}=e,{i18n:v}=(0,c.d)(),{customComponents:{AfterInput:g,BeforeInput:b,Description:x,Error:y,Label:w}={},setValue:j,showError:C,value:S}=aK({path:p,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:d})},[m,d])}),_=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsxs)("div",{className:[aX,"email",a,C&&"error",f&&"read-only"].filter(Boolean).join(" "),style:_,children:[(0,u.jsx)($,{CustomComponent:w,Fallback:(0,u.jsx)(n4,{label:i,localized:s,path:p,required:d})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)($,{CustomComponent:y,Fallback:(0,u.jsx)(tx,{path:p,showError:C})}),b,(0,u.jsx)("input",{autoComplete:n,disabled:f,id:"field-".concat(p.replace(/\./g,"__")),name:p,onChange:j,placeholder:(0,h.i0)(l,v),required:d,type:"email",value:S||""}),g]}),(0,u.jsx)($,{CustomComponent:x,Fallback:(0,u.jsx)(tb,{description:o,path:p})})]})}),o4=(0,r.createContext)(!1),o9=e=>{let{children:t,withinRow:n=!0}=e;return(0,u.jsx)(o4.Provider,{value:n,children:t})},o8=()=>(0,r.useContext)(o4),o7=(0,r.createContext)(!1),le=e=>{let{children:t,withinTab:n=!0}=e;return(0,u.jsx)(o7.Provider,{value:n,children:t})},lt=()=>(0,r.useContext)(o7),ln=(0,r.createContext)(!1),la=e=>{let{children:t,withinGroup:n=!0}=e;return(0,u.jsx)(ln.Provider,{value:n,children:t})},lo=()=>(0,r.useContext)(ln),ll="group-field",lr=aQ(e=>{let{field:t,field:{name:n,admin:{className:a,description:o,hideGutter:l}={},fields:i,label:s},path:d,permissions:p,readOnly:f,schemaPath:m}=e,{i18n:v}=(0,c.d)(),{isWithinCollapsible:g}=oa(),b=lo(),x=o8(),y=lt(),{customComponents:{Description:w,Label:j}={},errorPaths:C}=aK({path:d}),S=eg(),_=C.length,k=S&&_>0,N=!(g||b||x),E=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsx)("div",{className:[aX,ll,N&&"".concat(ll,"--top-level"),g&&"".concat(ll,"--within-collapsible"),b&&"".concat(ll,"--within-group"),x&&"".concat(ll,"--within-row"),y&&"".concat(ll,"--within-tab"),!l&&b&&"".concat(ll,"--gutter"),k&&"".concat(ll,"--has-error"),a].filter(Boolean).join(" "),id:"field-".concat(null==d?void 0:d.replace(/\./g,"__")),style:E,children:(0,u.jsx)(la,{children:(0,u.jsxs)("div",{className:"".concat(ll,"__wrap"),children:[(0,u.jsxs)("div",{className:"".concat(ll,"__header"),children:[!!(j||w||s)&&(0,u.jsxs)("header",{children:[(0,u.jsx)($,{CustomComponent:j,Fallback:(0,u.jsx)("h3",{className:"".concat(ll,"__title"),children:(0,u.jsx)(n4,{label:(0,h.i0)(s,v),localized:!1,path:d,required:!1})})}),(0,u.jsx)($,{CustomComponent:w,Fallback:(0,u.jsx)(tb,{description:o,path:d})})]}),k&&(0,u.jsx)(tv,{count:_,i18n:v,withMessage:!0})]}),(0,u.jsx)(uX,{fields:i,margins:"small",parentIndexPath:"",parentPath:d,parentSchemaPath:null!=m?m:n,permissions:!0===p?p:null==p?void 0:p.fields,readOnly:f})]})})})}),li=aQ(e=>{let t=(0,p.c)(12),{disableModifyingForm:n,path:a,value:o}=e,l=void 0===n||n,i;t[0]!==a?(i={path:a},t[0]=a,t[1]=i):i=t[1];let{setValue:s,value:c}=aK(i),d,h;t[2]!==o||t[3]!==s||t[4]!==l?(d=()=>{void 0!==o&&s(o,l)},h=[o,s,l],t[2]=o,t[3]=s,t[4]=l,t[5]=d,t[6]=h):(d=t[5],h=t[6]),(0,r.useEffect)(d,h);let f="field-".concat(null==a?void 0:a.replace(/\./g,"__")),m=c||"",v;return t[7]!==f||t[8]!==a||t[9]!==s||t[10]!==m?(v=(0,u.jsx)("input",{id:f,name:a,onChange:s,type:"hidden",value:m}),t[7]=f,t[8]=a,t[9]=s,t[10]=m,t[11]=v):v=t[11],v});function ls(e,t,n){let a,o,l,i=(0,p.c)(11),s;i[0]!==e?(s=()=>e,i[0]=e,i[1]=s):s=i[1];let[c,d]=(0,r.useState)(s),u;i[2]!==e||i[3]!==n?(u=()=>{let t=setTimeout(()=>{d(()=>e)},n);return()=>{clearTimeout(t)}},i[2]=e,i[3]=n,i[4]=u):u=i[4],i[5]!==t||i[6]!==n?(a=[...t,n],i[5]=t,i[6]=n,i[7]=a):a=i[7],(0,r.useEffect)(u,a),i[8]!==c?(o=()=>{c()},l=[c],i[8]=c,i[9]=o,i[10]=l):(o=i[9],l=i[10]),(0,r.useEffect)(o,l)}function lc(e,t,n,a){let o=(0,r.useRef)("u">typeof(null==a?void 0:a.runOnFirstRender)&&!(null==a?void 0:a.runOnFirstRender)),l=(0,r.useRef)(t);(0,r.useEffect)(()=>{(t.some((e,t)=>!n.includes(e)&&!(0,b.J)(e,l.current[t]))||!o.current)&&e(),l.current=t,o.current=!0},t)}var ld=(0,r.createContext)({}),lu=e=>{let{children:t,...n}=e;return(0,u.jsx)(ld.Provider,{value:{isInDrawer:!!n.drawerSlug,...n},children:t})},lp=()=>{let e=(0,r.useContext)(ld);if(!e)throw Error("useListDrawerContext must be used within a ListDrawerContextProvider");return e},lh=(0,r.createContext)({}),lf=()=>(0,r.useContext)(lh),lm=e=>{let{children:t,collectionSlug:n,data:a,defaultLimit:o,defaultSort:l,modifySearchParams:i,onQueryChange:s,preferenceKey:c}=e,d=(0,v.useRouter)(),{setPreference:p}=nJ(),{searchParams:h}=n1(),{onQueryChange:f}=lp(),[m,b]=(0,r.useState)(()=>i?h:{});(0,r.useEffect)(()=>{i&&b(h)},[h,i]);let x=(0,r.useCallback)(async e=>{let t="page"in e?e.page:null==m?void 0:m.page;("where"in e||"search"in e)&&(t="1");let n={},a=!1;"limit"in e&&(n.limit=Number(e.limit),a=!0),"sort"in e&&(n.sort=e.sort,a=!0),a&&c&&await p(c,n);let o={limit:"limit"in e?e.limit:null==m?void 0:m.limit,page:t,search:"search"in e?e.search:null==m?void 0:m.search,sort:"sort"in e?e.sort:null==m?void 0:m.sort,where:"where"in e?e.where:null==m?void 0:m.where};i?d.replace("".concat(g.P(o,{addQueryPrefix:!0}))):("function"==typeof f||"function"==typeof s)&&(f||s)(o)},[i,null==m?void 0:m.page,null==m?void 0:m.limit,null==m?void 0:m.sort,null==m?void 0:m.where,null==m?void 0:m.search,c,d,p,f,s]),y=(0,r.useCallback)(async e=>{await x({page:String(e)})},[x]),w=r.useCallback(async e=>{await x({limit:String(e),page:"1"})},[x]),j=(0,r.useCallback)(async e=>{await x({search:""===e?void 0:e})},[x]),S=(0,r.useCallback)(async e=>{await x({sort:e})},[x]),_=(0,r.useCallback)(async e=>{await x({where:e})},[x]);return(0,r.useEffect)(()=>{if(i){let e=!1;!(0,C.h)(o)||"limit"in m||(m.limit=String(o),e=!0),!l||"sort"in m||(m.sort=l,e=!0),b(m),e&&d.replace("?".concat(g.P(m)))}},[l,o,d,i,m]),(0,u.jsx)(lh.Provider,{value:{data:a,handlePageChange:y,handlePerPageChange:w,handleSearchChange:j,handleSortChange:S,handleWhereChange:_,query:m,refineListData:x},children:t})},lv=(0,r.createContext)(void 0),lg=()=>{let e=r.useContext(lv);if(void 0===e)throw Error("useServerFunctions must be used within a ServerFunctionsProvider");return e},lb=e=>{let{children:t,serverFunction:n}=e;if(!n)throw Error("ServerFunctionsProvider requires a serverFunction prop");let a=(0,r.useCallback)(async e=>await n({name:"render-document-slots",args:e}),[n]),o=(0,r.useCallback)(async e=>{let{signal:t,...a}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"form-state",args:{fallbackLocale:!1,...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}return{state:null}},[n]),l=(0,r.useCallback)(async e=>{let{signal:t,...a}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"table-state",args:{fallbackLocale:!1,...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}},[n]),i=(0,r.useCallback)(async e=>{let{signal:t,...a}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"render-document",args:{fallbackLocale:!1,...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}},[n]);return(0,u.jsx)(lv.Provider,{value:{getDocumentSlots:a,getFormState:o,getTableState:l,renderDocument:i,serverFunction:n},children:t})},lx=e=>0===Object.keys(e).length,ly=(e,t)=>lx(t)?e:lx(e)?t:("and"in e?e.and.push(t):e={and:[e,t]},e);function lw(e){if(e)try{e.abort()}catch(e){}}var lj=(0,r.createContext)({}),lC=()=>(0,r.useContext)(lj),lS=e=>e.map(e=>{let{accessor:t,active:n}=e;return{accessor:t,active:n}}),l_=e=>{let{children:t,collectionSlug:n,columnState:a,docs:o,enableRowSelections:l,LinkedCellOverride:i,listPreferences:c,preferenceKey:d,renderRowTypes:p,setTable:h,sortColumnProps:f,tableAppearance:m}=e,{getEntityConfig:v}=(0,s.b)(),{getTableState:g}=lg(),{admin:{defaultColumns:b,useAsTitle:x}={},fields:y}=v({collectionSlug:n}),w=r.useRef(n),{getPreference:j,setPreference:C}=nJ(),[S,_]=r.useState(a),k=r.useRef(null),N=(0,r.useCallback)(async e=>{lw(k.current);let{fromIndex:t,toIndex:a}=e,r=[...S],[i]=r.splice(t,1);r.splice(a,0,i),_(r);let s=new AbortController;k.current=s;let c=await g({collectionSlug:n,columns:lS(r),docs:o,enableRowSelections:l,renderRowTypes:p,signal:s.signal,tableAppearance:m});c&&(_(c.state),h(c.Table))},[S,n,o,g,h,l,p,m]),E=(0,r.useCallback)(async e=>{lw(k.current);let{newColumnState:t,toggledColumns:a}=S.reduce((t,n)=>(n.accessor===e?(t.newColumnState.push({...n,accessor:n.accessor,active:!n.active}),t.toggledColumns.push({accessor:n.accessor,active:!n.active})):(t.newColumnState.push(n),t.toggledColumns.push({accessor:n.accessor,active:n.active})),t),{newColumnState:[],toggledColumns:[]});_(t);let r=new AbortController;k.current=r;let i=await g({collectionSlug:n,columns:a,docs:o,enableRowSelections:l,renderRowTypes:p,signal:r.signal,tableAppearance:m});i&&(_(i.state),h(i.Table))},[S,g,h,n,o,l,p,m]),A=r.useCallback(async e=>{let t=S.map(t=>({accessor:t.accessor,active:e.includes(t.accessor)})).toSorted((t,n)=>{let a=e.indexOf(t.accessor),o=e.indexOf(n.accessor);return -1===a||-1===o?0:a>o?1:-1}),{state:a,Table:r}=await g({collectionSlug:n,columns:t,docs:o,enableRowSelections:l,renderRowTypes:p,tableAppearance:m});_(a),h(r)},[S,g,h,n,o,l,p,m]),P=r.useCallback(async()=>{await A(b)},[b,A]);return r.useEffect(()=>{(async()=>{if(w.current!==n||!c){let e=await j(d);w.current=n,null==e||e.columns}})()},[d,j,n,y,b,x,c,l,f]),r.useEffect(()=>()=>{lw(k.current)},[]),(0,u.jsx)(lj.Provider,{value:{columns:S,LinkedCellOverride:i,moveColumn:N,resetColumnsState:P,setActiveColumns:A,toggleColumn:E},children:t})},lk="column-selector",lN=e=>e.filter(e=>{var t,n;return!(null==e?void 0:null===(n=e.field)||void 0===n?void 0:null===(t=n.admin)||void 0===t?void 0:t.disableListColumn)}),lE=e=>{let t,n=(0,p.c)(14),{collectionSlug:a}=e,{columns:o,moveColumn:l,toggleColumn:i}=lC(),s=(0,r.useId)(),d=tj();if(!o)return null;if(n[0]!==o||n[1]!==l||n[2]!==i||n[3]!==a||n[4]!==d||n[5]!==s){let e,r=lN(o),p;n[7]!==l?(p=e=>{let{moveFromIndex:t,moveToIndex:n}=e;l({fromIndex:t,toIndex:n})},n[7]=l,n[8]=p):p=n[8],n[9]!==i||n[10]!==a||n[11]!==d||n[12]!==s?(e=(e,t)=>{var n;if(!e)return null;let{accessor:o,active:l,field:r}=e;return"_select"!==e.accessor&&r&&null!==e.CustomLabel&&(void 0!==e.CustomLabel||"label"in r)?(0,u.jsx)(oj,{alignIcon:"left","aria-checked":l,className:["".concat(lk,"__column"),l&&"".concat(lk,"__column--active")].filter(Boolean).join(" "),draggable:!0,icon:l?(0,u.jsx)(c.a,{}):(0,u.jsx)(eR,{}),id:o,onClick:()=>{i(o)},children:null!==(n=e.CustomLabel)&&void 0!==n?n:(0,u.jsx)(n4,{label:"label"in r&&r.label,unstyled:!0})},"".concat(a,"-").concat(r&&"name"in r?null==r?void 0:r.name:t).concat(d?"-".concat(d,"-"):"").concat(s)):null},n[9]=i,n[10]=a,n[11]=d,n[12]=s,n[13]=e):e=n[13],t=(0,u.jsx)(tf,{className:lk,ids:r.map(lA),onDragEnd:p,children:r.map(e)}),n[0]=o,n[1]=l,n[2]=i,n[3]=a,n[4]=d,n[5]=s,n[6]=t}else t=n[6];return t};function lA(e){return null==e?void 0:e.accessor}var lP=e=>{let t=(0,p.c)(3),{config:n}=(0,s.b)(),a;t[0]!==e||t[1]!==n.collections?(a=()=>e?("string"==typeof e?[e]:e).map(e=>n.collections.find(t=>t.slug===e)):[],t[0]=e,t[1]=n.collections,t[2]=a):a=t[2];let[o]=(0,r.useState)(a);return o},lD=e=>{let t,n=(0,p.c)(13),{delayBeforeShow:a,inTimeout:o,minShowTime:l,outTimeout:i,show:c}=e,d=o+l+i,[u,h]=(0,s.c)(a),[f,m]=r.useState(!1),[v,g]=r.useState(!1),b=r.useRef(0),x=r.useRef(void 0),y;n[0]!==i?(y=()=>{g(!0),x.current=setTimeout(()=>{m(!1),g(!1)},i)},n[0]=i,n[1]=y):y=n[1];let w=y,j,C;return n[2]!==u||n[3]!==f||n[4]!==c||n[5]!==d||n[6]!==w?(j=()=>{let e=u&&!f&&c,t=f&&!c;if(e)b.current=Date.now(),m(!0);else if(t){let e=d-(Date.now()-b.current);clearTimeout(x.current),x.current=setTimeout(w,Math.max(0,e))}},C=[f,c,w,d,u],n[2]=u,n[3]=f,n[4]=c,n[5]=d,n[6]=w,n[7]=j,n[8]=C):(j=n[7],C=n[8]),r.useEffect(j,C),n[9]!==f||n[10]!==v||n[11]!==h?(t={isMounted:f,isUnmounting:v,triggerDelayedRender:h},n[9]=f,n[10]=v,n[11]=h,n[12]=t):t=n[12],t},lO={isLoading:!1,loaders:[],loadingText:"",overlayType:null},lR=(e,t)=>{let n=[...e.loaders],{type:a="fullscreen",key:o="user",loadingText:l}=t.payload;if("add"===t.type)n.push({type:a,key:o,loadingText:l});else if("remove"===t.type){let e=n.findIndex(e=>e.key===o&&e.type===a);n.splice(e,1)}let r=(null==n?void 0:n.length)>0?n[n.length-1]:null;return{isLoading:!!r,loaders:n,loadingText:(null==r?void 0:r.loadingText)||(null==e?void 0:e.loadingText),overlayType:(null==r?void 0:r.type)||(null==e?void 0:e.overlayType)}},lI=(0,r.createContext)({isOnScreen:!1,toggleLoadingOverlay:void 0}),lT=e=>{let t=(0,p.c)(19),{children:n}=e,{t:a}=(0,c.d)(),o;t[0]!==a?(o=a("general:loading"),t[0]=a,t[1]=o):o=t[1];let l=o,[i,s]=r.useReducer(lR,lO),d;t[2]!==i.isLoading?(d={delayBeforeShow:1e3,inTimeout:250,minShowTime:500,outTimeout:250,show:i.isLoading},t[2]=i.isLoading,t[3]=d):d=t[3];let{isMounted:h,isUnmounting:f,triggerDelayedRender:m}=lD(d),v;t[4]!==l||t[5]!==m?(v=e=>{let{type:t,isLoading:n,key:a,loadingText:o}=e,r=void 0===o?l:o;n?(m(),s({type:"add",payload:{type:t,key:a,loadingText:r}})):s({type:"remove",payload:{type:t,key:a}})},t[4]=l,t[5]=m,t[6]=v):v=t[6];let g=v,b;if(t[7]!==h||t[8]!==g||t[9]!==i||t[10]!==l||t[11]!==f||t[12]!==n){let e;t[14]!==h||t[15]!==i||t[16]!==l||t[17]!==f?(e=h&&(0,u.jsx)(lF,{animationDuration:"".concat(250,"ms"),loadingText:i.loadingText||l,overlayType:i.overlayType,show:!f}),t[14]=h,t[15]=i,t[16]=l,t[17]=f,t[18]=e):e=t[18],b=(0,u.jsxs)(lI.Provider,{value:{isOnScreen:h,toggleLoadingOverlay:g},children:[e,n]}),t[7]=h,t[8]=g,t[9]=i,t[10]=l,t[11]=f,t[12]=n,t[13]=b}else b=t[13];return b},lL=()=>{let e=r.useContext(lI);if(void 0===e)throw Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return e},lM="loading-overlay",lF=e=>{let t=(0,p.c)(11),{animationDuration:n,loadingText:a,overlayType:o,show:l}=e,{t:r}=(0,c.d)(),i=void 0===l||l?"".concat(lM,"--entering"):"".concat(lM,"--exiting"),s=o?"".concat(lM,"--").concat(o):"",d;t[0]!==i||t[1]!==s?(d=[lM,i,s].filter(Boolean),t[0]=i,t[1]=s,t[2]=d):d=t[2];let h=d.join(" "),f=n||"500ms",m;if(t[3]!==f||t[4]!==a||t[5]!==r||t[6]!==h){let e;t[8]!==a||t[9]!==r?(e=a||r("general:loading"),t[8]=a,t[9]=r,t[10]=e):e=t[10],m=(0,u.jsxs)("div",{className:h,style:{animationDuration:f},children:[(0,u.jsxs)("div",{className:"".concat(lM,"__bars"),children:[(0,u.jsx)("div",{className:"".concat(lM,"__bar")}),(0,u.jsx)("div",{className:"".concat(lM,"__bar")}),(0,u.jsx)("div",{className:"".concat(lM,"__bar")}),(0,u.jsx)("div",{className:"".concat(lM,"__bar")}),(0,u.jsx)("div",{className:"".concat(lM,"__bar")})]}),(0,u.jsx)("span",{className:"".concat(lM,"__text"),children:e})]}),t[3]=f,t[4]=a,t[5]=r,t[6]=h,t[7]=m}else m=t[7];return m},lB=e=>{let t=(0,p.c)(7),{name:n,type:a,loadingText:o,show:l}=e,i=void 0===a?"fullscreen":a,{toggleLoadingOverlay:s}=lL(),c,d;return t[0]!==s||t[1]!==i||t[2]!==l||t[3]!==n||t[4]!==o?(c=()=>(s({type:i,isLoading:l,key:n,loadingText:o||void 0}),()=>{s({type:i,isLoading:!1,key:n})}),d=[l,s,n,i,o],t[0]=s,t[1]=i,t[2]=l,t[3]=n,t[4]=o,t[5]=c,t[6]=d):(c=t[5],d=t[6]),r.useEffect(c,d),null},lV=e=>{let t=(0,p.c)(6),{name:n,type:a,action:o,formIsLoading:l,loadingSuffix:r}=e,i=void 0===a?"fullscreen":a,s=void 0!==l&&l,d=eb(),{i18n:f,t:m}=(0,c.d)(),v="".concat({create:m("general:creating"),loading:m("general:loading"),update:m("general:updating")}[o]," ").concat(r?(0,h.i0)(r,f):""),g;return t[0]!==v||t[1]!==s||t[2]!==d||t[3]!==n||t[4]!==i?(g=(0,u.jsx)(lB,{loadingText:v.trim(),name:n,show:s||d,type:i}),t[0]=v,t[1]=s,t[2]=d,t[3]=n,t[4]=i,t[5]=g):g=t[5],g},lz=(0,r.createContext)({}),lU=e=>{let{children:t,...n}=e;return(0,u.jsx)(lz.Provider,{value:n,children:t})},lH=()=>{let e=(0,r.useContext)(lz);if(!e)throw Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return e},lq=e=>{let{id:t,AfterFields:n,collectionSlug:a,disableActions:o,drawerSlug:l,Header:i,initialData:d,initialState:p,onDelete:h,onDuplicate:f,onSave:m,redirectAfterDelete:v,redirectAfterDuplicate:g}=e,{config:{collections:b}}=(0,s.b)(),[x]=(0,r.useState)(()=>b.find(e=>e.slug===a)),y=r.useRef(null),{closeModal:w}=tU(),{t:j}=(0,c.d)(),{renderDocument:C}=lg(),[S,_]=(0,r.useState)(void 0),[k,N]=(0,r.useState)(!0),E=(0,r.useCallback)(e=>{lw(y.current);let t=new AbortController;y.current=t,(async()=>{N(!0);try{let n=await C({collectionSlug:a,disableActions:o,docID:e,drawerSlug:l,initialData:d,redirectAfterDelete:void 0!==v&&v,redirectAfterDuplicate:void 0!==g&&g,signal:t.signal});(null==n?void 0:n.Document)&&(_(n.Document),N(!1))}catch(e){nR.error((null==e?void 0:e.message)||j("error:unspecific")),w(l)}})()},[a,o,l,d,v,g,C,w,j]),A=(0,r.useCallback)(e=>{E(e.doc.id),"function"==typeof m&&m({...e,collectionConfig:x})},[m,x,E]),P=(0,r.useCallback)(e=>{E(e.doc.id),"function"==typeof f&&f({...e,collectionConfig:x})},[f,x,E]),D=(0,r.useCallback)(e=>{"function"==typeof h&&h({...e,collectionConfig:x}),w(l)},[h,w,l,x]),O=(0,r.useCallback)(()=>{E()},[E]);return(0,r.useEffect)(()=>{S||E(t)},[S,E,t]),(0,r.useEffect)(()=>()=>{lw(y.current)},[]),k?(0,u.jsx)(lF,{}):(0,u.jsx)(lU,{clearDoc:O,drawerSlug:l,onDelete:D,onDuplicate:P,onSave:A,children:S})},lW="doc-drawer",lK=e=>{let{id:t,collectionSlug:n,depth:a,uuid:o}=e;return"doc-drawer_".concat(n,"_").concat(a).concat(t?"_".concat(t):"","_").concat(o)},lY=e=>{let t=(0,p.c)(21),n,a,o,l,r,i,s,d;t[0]!==e?({id:a,children:d,className:o,collectionSlug:n,disabled:l,drawerSlug:i,onClick:r,...s}=e,t[0]=e,t[1]=n,t[2]=a,t[3]=o,t[4]=l,t[5]=r,t[6]=i,t[7]=s,t[8]=d):(n=t[1],a=t[2],o=t[3],l=t[4],r=t[5],i=t[6],s=t[7],d=t[8]);let{t:h}=(0,c.d)(),[f]=lP(n),m=a?"general:editLabel":"fields:addNewLabel",v=null==f?void 0:f.labels.singular,g;if(t[9]!==v||t[10]!==h||t[11]!==m||t[12]!==o||t[13]!==l||t[14]!==r||t[15]!==i||t[16]!==s||t[17]!==d){let e=h(m,{label:v}),n;t[19]!==o?(n=[o,"".concat(lW,"__toggler")].filter(Boolean),t[19]=o,t[20]=n):n=t[20],g=(0,u.jsx)(oh,{"aria-label":e,className:n.join(" "),disabled:l,onClick:r,slug:i,...s,children:d}),t[9]=v,t[10]=h,t[11]=m,t[12]=o,t[13]=l,t[14]=r,t[15]=i,t[16]=s,t[17]=d,t[18]=g}else g=t[18];return g},lQ=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(of,{className:lW,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(lq,{...e})})},lG=e=>{let t,n,a,o,l,i,s=(0,p.c)(37),{id:c,collectionSlug:d}=e,h=tj(),f=(0,r.useId)(),{closeModal:m,modalState:v,openModal:g,toggleModal:b}=tU(),[x,y]=(0,r.useState)(!1),w;s[0]!==c||s[1]!==d||s[2]!==h||s[3]!==f?(w=lK({id:c,collectionSlug:d,depth:h,uuid:f}),s[0]=c,s[1]=d,s[2]=h,s[3]=f,s[4]=w):w=s[4];let j=w,C,S;s[5]!==v||s[6]!==j?(C=()=>{var e;y(!!(null===(e=v[j])||void 0===e?void 0:e.isOpen))},S=[v,j],s[5]=v,s[6]=j,s[7]=C,s[8]=S):(C=s[7],S=s[8]),(0,r.useEffect)(C,S),s[9]!==b||s[10]!==j?(i=()=>{b(j)},s[9]=b,s[10]=j,s[11]=i):i=s[11];let _=i,k;s[12]!==m||s[13]!==j?(k=()=>{m(j)},s[12]=m,s[13]=j,s[14]=k):k=s[14];let N=k,E;s[15]!==g||s[16]!==j?(E=()=>{g(j)},s[15]=g,s[16]=j,s[17]=E):E=s[17];let A=E,P,D;return s[18]!==d||s[19]!==j||s[20]!==c?(D=e=>(0,r.createElement)(lQ,{...e,collectionSlug:d,drawerSlug:j,id:c,key:j}),s[18]=d,s[19]=j,s[20]=c,s[21]=D):D=s[21],P=D,s[22]!==d||s[23]!==j||s[24]!==c?(n=e=>(0,u.jsx)(lY,{...e,collectionSlug:d,drawerSlug:j,id:c}),s[22]=d,s[23]=j,s[24]=c,s[25]=n):n=s[25],t=n,s[26]!==N||s[27]!==h||s[28]!==j||s[29]!==x||s[30]!==A||s[31]!==_?(o={closeDrawer:N,drawerDepth:h,drawerSlug:j,isDrawerOpen:x,openDrawer:A,toggleDrawer:_},s[26]=N,s[27]=h,s[28]=j,s[29]=x,s[30]=A,s[31]=_,s[32]=o):o=s[32],a=o,s[33]!==P||s[34]!==t||s[35]!==a?(l=[P,t,a],s[33]=P,s[34]=t,s[35]=a,s[36]=l):l=s[36],l};function lX(e,t){switch(t.type){case"ADD_LOADED":{let n={...e};"object"!=typeof n[t.relationTo]&&(n[t.relationTo]={});let a=[...t.idsToLoad];return Array.isArray(t.docs)&&t.docs.forEach(e=>{a.splice(a.indexOf(e.id),1),n[t.relationTo][e.id]=e}),a.forEach(e=>{n[t.relationTo][e]=!1}),n}case"REQUEST":{let n={...e};return t.docs.forEach(e=>{let{relationTo:t,value:a}=e;"object"!=typeof n[t]&&(n[t]={}),n[t][a]=null}),n}default:return e}}var lJ=(0,r.createContext)({}),lZ=e=>{let t,n=(0,p.c)(15),{children:a}=e,o;n[0]===Symbol.for("react.memo_cache_sentinel")?(o={},n[0]=o):o=n[0];let[l,i]=(0,r.useReducer)(lX,o),d=nH(l,100),{config:h}=(0,s.b)(),{routes:f,serverURL:m}=h,{api:v}=f,{i18n:g}=(0,c.d)(),{code:b}=n6(),x=(0,r.useRef)(b),y;n[1]!==d||n[2]!==m||n[3]!==v||n[4]!==b||n[5]!==g.language?(y=e=>{let t=void 0!==e&&e;Object.entries(d).forEach(async e=>{let[n,a]=e,o=[];if(Object.entries(a).forEach(e=>{let[n,a]=e;(null===a||t)&&o.push(n)}),o.length>0){let e="".concat(m).concat(v,"/").concat(n),t=new URLSearchParams;if(t.append("depth","0"),t.append("limit","250"),b&&t.append("locale",b),o&&o.length>0){let e=o.map(e=>String(e));t.append("where[id][in]",e.join(","))}let a="?".concat(t.toString()),l=await fetch("".concat(e).concat(a),{credentials:"include",headers:{"Accept-Language":g.language}});if(l.ok){let e=await l.json();e.docs&&i({type:"ADD_LOADED",docs:e.docs,idsToLoad:o,relationTo:n})}else i({type:"ADD_LOADED",docs:[],idsToLoad:o,relationTo:n})}})},n[1]=d,n[2]=m,n[3]=v,n[4]=b,n[5]=g.language,n[6]=y):y=n[6];let w=y,j,C;n[7]!==w||n[8]!==b?(j=()=>{w(b&&x.current!==b),x.current=b},C=[b,w],n[7]=w,n[8]=b,n[9]=j,n[10]=C):(j=n[9],C=n[10]),(0,r.useEffect)(j,C),n[11]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{i({type:"REQUEST",docs:e})},n[11]=t):t=n[11];let S=t,_;return n[12]!==l||n[13]!==a?(_=(0,u.jsx)(lJ.Provider,{value:{documents:l,getRelationships:S},children:a}),n[12]=l,n[13]=a,n[14]=_):_=n[14],_},l$=()=>(0,r.useContext)(lJ),l0=e=>{let{cellData:t,nowrap:n}=e,a=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("code",{className:"code-cell",style:n?{whiteSpace:"nowrap"}:{},children:(0,u.jsx)("span",{children:a})})};function l1(e){let{blockType:t}=e;return t}var l2=()=>(0,u.jsxs)("svg",{height:"150",viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("rect",{fill:"#333333",height:"150",transform:"translate(0 0.5)",width:"150"}),(0,u.jsx)("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),(0,u.jsx)("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]}),l3="thumbnail",l6=e=>{let t,n=(0,p.c)(19),{className:a,doc:o,fileSrc:l,imageCacheTag:i,size:c}=e,d=void 0===a?"":a,h;n[0]!==o?(h=void 0===o?{}:o,n[0]=o,n[1]=h):h=n[1];let{filename:f}=h,[m,v]=r.useState(void 0),g="".concat(l3,"--size-").concat(c||"medium"),b;n[2]!==g||n[3]!==d?(b=[l3,g,d],n[2]=g,n[3]=d,n[4]=b):b=n[4];let x=b.join(" "),y,w;if(n[5]!==l?(y=()=>{if(!l){v(!1);return}let e=new Image;e.src=l,e.onload=()=>{v(!0)},e.onerror=()=>{v(!1)}},w=[l],n[5]=l,n[6]=y,n[7]=w):(y=n[6],w=n[7]),r.useEffect(y,w),n[8]!==m||n[9]!==i||n[10]!==l||n[11]!==f||n[12]!==x){let e;n[14]!==m||n[15]!==i||n[16]!==l||n[17]!==f?(e=m&&(0,u.jsx)("img",{alt:f,src:"".concat(l).concat(i?"?".concat(i):"")}),n[14]=m,n[15]=i,n[16]=l,n[17]=f,n[18]=e):e=n[18],t=(0,u.jsxs)("div",{className:x,children:[void 0===m&&(0,u.jsx)(s.d,{height:"100%"}),e,!1===m&&(0,u.jsx)(l2,{})]}),n[8]=m,n[9]=i,n[10]=l,n[11]=f,n[12]=x,n[13]=t}else t=n[13];return t};function l5(e){let t,n=(0,p.c)(19),{alt:a,className:o,filename:l,fileSrc:i,imageCacheTag:c,size:d}=e,h=void 0===o?"":o,[f,m]=r.useState(void 0),v="".concat(l3,"--size-").concat(d||"medium"),g;n[0]!==v||n[1]!==h?(g=[l3,v,h],n[0]=v,n[1]=h,n[2]=g):g=n[2];let b=g.join(" "),x,y;if(n[3]!==i?(x=()=>{if(!i){m(!1);return}let e=new Image;e.src=i,e.onload=()=>{m(!0)},e.onerror=()=>{m(!1)}},y=[i],n[3]=i,n[4]=x,n[5]=y):(x=n[4],y=n[5]),r.useEffect(x,y),n[6]!==f||n[7]!==a||n[8]!==l||n[9]!==c||n[10]!==i||n[11]!==b){let e;n[13]!==f||n[14]!==a||n[15]!==l||n[16]!==c||n[17]!==i?(e=f&&(0,u.jsx)("img",{alt:a||l,src:"".concat(i).concat(c?"?".concat(c):"")}),n[13]=f,n[14]=a,n[15]=l,n[16]=c,n[17]=i,n[18]=e):e=n[18],t=(0,u.jsxs)("div",{className:b,children:[void 0===f&&(0,u.jsx)(s.d,{height:"100%"}),e,!1===f&&(0,u.jsx)(l2,{})]}),n[6]=f,n[7]=a,n[8]=l,n[9]=c,n[10]=i,n[11]=b,n[12]=t}else t=n[12];return t}var l4="file",l9=e=>{let{cellData:t,collectionConfig:n,rowData:a}=e;return(0,u.jsxs)("div",{className:l4,children:[(0,u.jsx)(l6,{className:"".concat(l4,"__thumbnail"),collectionSlug:null==n?void 0:n.slug,doc:{...a,filename:t},fileSrc:(null==a?void 0:a.thumbnailURL)||(null==a?void 0:a.url),size:"small",uploadConfig:null==n?void 0:n.upload}),(0,u.jsx)("span",{className:"".concat(l4,"__filename"),children:String(t)})]})},l8=!!("u">typeof window&&window.document&&window.document.createElement),l7=e=>{var t;let n,a,o,l;let i=(0,p.c)(40),{cellData:d,customCellProps:f,field:m,field:v}=e,{label:g}=v,b="relationTo"in m&&m.relationTo||"collection"in m&&m.collection,x;x="collection"in m?null==d?void 0:d.docs:d;let{config:y,getEntityConfig:w}=(0,s.b)(),{collections:j,routes:C}=y,[S,_]=eY(),k;i[0]===Symbol.for("react.memo_cache_sentinel")?(k=[],i[0]=k):k=i[0];let[N,E]=(0,r.useState)(k),{documents:A,getRelationships:P}=l$(),[D,O]=(0,r.useState)(!1),{i18n:R,t:I}=(0,c.d)(),T=!!l8&&(null==_?void 0:null===(t=_.boundingClientRect)||void 0===t?void 0:t.top)<window.innerHeight,L;if(i[1]!==x||i[2]!==T||i[3]!==D||i[4]!==b||i[5]!==P?(L=()=>{if((x||"number"==typeof x)&&T&&!D){let e=[],t=Array.isArray(x)?x:[x];t.slice(0,t.length<3?t.length:3).forEach(t=>{"object"==typeof t&&"relationTo"in t&&"value"in t&&e.push(t),("number"==typeof t||"string"==typeof t)&&"string"==typeof b&&e.push({relationTo:b,value:t})}),P(e),O(!0),E(e)}},i[1]=x,i[2]=T,i[3]=D,i[4]=b,i[5]=P,i[6]=L):L=i[6],i[7]!==x||i[8]!==b||i[9]!==j||i[10]!==T||i[11]!==C.api||i[12]!==D||i[13]!==P?(n=[x,b,j,T,C.api,D,P],i[7]=x,i[8]=b,i[9]=j,i[10]=T,i[11]=C.api,i[12]=D,i[13]=P,i[14]=n):n=i[14],(0,r.useEffect)(L,n),i[15]!==D?(a=()=>{D&&O(!1)},i[15]=D,i[16]=a):a=i[16],i[17]!==x?(o=[x],i[17]=x,i[18]=o):o=i[18],(0,r.useEffect)(a,o),i[19]!==A||i[20]!==w||i[21]!==y.admin.dateFormat||i[22]!==I||i[23]!==R||i[24]!==m||i[25]!==f||i[26]!==N||i[27]!==x||i[28]!==g||i[29]!==S){let e;i[31]!==A||i[32]!==w||i[33]!==y.admin.dateFormat||i[34]!==I||i[35]!==R||i[36]!==m||i[37]!==f||i[38]!==N.length?(e=(e,t)=>{let{relationTo:n,value:a}=e,o=A[n][a],l=w({collectionSlug:n}),i=aO({collectionConfig:l,data:o||null,dateFormat:y.admin.dateFormat,fallback:"".concat(I("general:untitled")," - ID: ").concat(a),i18n:R}),s=null;if("upload"===m.type){let e=!!l.upload.displayPreview;(m.displayPreview||e&&!1!==m.displayPreview)&&o&&(s=(0,u.jsx)(l9,{cellData:i,collectionConfig:l,customCellProps:f,field:m,rowData:o}))}return(0,u.jsxs)(r.Fragment,{children:[!1===o&&"".concat(I("general:untitled")," - ID: ").concat(a),null===o&&"".concat(I("general:loading"),"..."),o?s||i:null,N.length>t+1&&", "]},t)},i[31]=A,i[32]=w,i[33]=y.admin.dateFormat,i[34]=I,i[35]=R,i[36]=m,i[37]=f,i[38]=N.length,i[39]=e):e=i[39],l=(0,u.jsxs)("div",{className:"relationship-cell",ref:S,children:[N.map(e),Array.isArray(x)&&x.length>3&&I("fields:itemsAndMore",{count:x.length-3,items:""}),0===N.length&&I("general:noLabel",{label:(0,h.i0)(g||"",R)})]}),i[19]=A,i[20]=w,i[21]=y.admin.dateFormat,i[22]=I,i[23]=R,i[24]=m,i[25]=f,i[26]=N,i[27]=x,i[28]=g,i[29]=S,i[30]=l}else l=i[30];return l},re=e=>{let t,n=(0,p.c)(10),{cellData:a,field:o}=e,{options:l}=o,{i18n:r}=(0,c.d)(),i;n[0]!==l||n[1]!==r?(i=e=>e.map(e=>{var t,n;let a=null===(n=l.filter(t=>t.value===e))||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.label;return(0,h.i0)(a,r)}).join(", "),n[0]=l,n[1]=r,n[2]=i):i=n[2];let s=i,d;if((0,j.fn)(l)){let e;n[3]!==a||n[4]!==s?(e=s(Array.isArray(a)?a:[a]),n[3]=a,n[4]=s,n[5]=e):e=n[5],d=e}else{let e;n[6]!==a?(e=Array.isArray(a)?a.join(", "):a,n[6]=a,n[7]=e):e=n[7],d=e}return n[8]!==d?(t=(0,u.jsx)("span",{children:d}),n[8]=d,n[9]=t):t=n[9],t},rt={array:e=>{let t=(0,p.c)(2),{cellData:n,field:a}=e,{labels:o}=a,{i18n:l}=(0,c.d)(),r=null!=n?n:[],i=1===r.length?"".concat(r.length," ").concat((0,h.i0)((null==o?void 0:o.singular)||l.t("general:rows"),l)):"".concat(r.length," ").concat((0,h.i0)((null==o?void 0:o.plural)||l.t("general:rows"),l)),s;return t[0]!==i?(s=(0,u.jsx)("span",{children:i}),t[0]=i,t[1]=s):s=t[1],s},blocks:e=>{let t,n=(0,p.c)(2),{cellData:a,field:o}=e,{blocks:l,labels:r}=o,{i18n:i}=(0,c.d)(),s=Array.isArray(a)?a.map(l1):[],d=null==l?void 0:l.map(e=>({slug:e.slug,label:(0,h.i0)(e.labels.singular,i)})),f="0 ".concat((0,h.i0)(null==r?void 0:r.plural,i)),m=e=>e.map(e=>{var t,n;return null===(n=d.filter(t=>t.slug===e))||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.label}).join(", ");if(s.length>5){let e=s.length-5;f="".concat(s.length," ").concat((0,h.i0)(null==r?void 0:r.plural,i)," - ").concat(i.t("fields:itemsAndMore",{count:e,items:m(s.slice(0,5))}))}else s.length>0&&(f="".concat(s.length," ").concat((0,h.i0)(1===s.length?null==r?void 0:r.singular:null==r?void 0:r.plural,i)," - ").concat(m(s)));return n[0]!==f?(t=(0,u.jsx)("span",{children:f}),n[0]=f,n[1]=t):t=n[1],t},checkbox:e=>{let t=(0,p.c)(3),{cellData:n}=e,{t:a}=(0,c.d)(),o="general:".concat(n),l;return t[0]!==a||t[1]!==o?(l=(0,u.jsx)("code",{className:"bool-cell",children:(0,u.jsx)("span",{children:a(o).toLowerCase()})}),t[0]=a,t[1]=o,t[2]=l):l=t[2],l},code:l0,date:e=>{let t,n=(0,p.c)(8),{cellData:a,field:o}=e,{admin:l}=o,r;n[0]!==l?(r=void 0===l?{}:l,n[0]=l,n[1]=r):r=n[1];let{date:i}=r,{config:d}=(0,s.b)(),{admin:h}=d,{dateFormat:f}=h,m=(null==i?void 0:i.displayFormat)||f,{i18n:v}=(0,c.d)(),g;return n[2]!==a||n[3]!==v||n[4]!==m?(g=a&&aP({date:a,i18n:v,pattern:m}),n[2]=a,n[3]=v,n[4]=m,n[5]=g):g=n[5],n[6]!==g?(t=(0,u.jsx)("span",{children:g}),n[6]=g,n[7]=t):t=n[7],t},File:l9,join:l7,json:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("code",{className:"json-cell",children:(0,u.jsx)("span",{children:JSON.stringify(n)})})},radio:re,relationship:l7,select:re,textarea:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),""):t;return(0,u.jsx)("span",{children:n})},upload:l7},rn=f.default.default||f.default,ra=e=>{let t=(0,p.c)(19),{cellData:n,className:a,collectionConfig:o,field:l,field:r,link:i,onClick:d,rowData:f}=e,{admin:m}=r,{i18n:v}=(0,c.d)(),{config:g}=(0,s.b)(),{routes:b}=g,{admin:x}=b,y=m&&"className"in m?m.className:void 0,w=a||(l.admin&&"className"in l.admin?l.admin.className:null)||y,C="span",S,_;if(t[0]!==w||t[1]!==i||t[2]!==o||t[3]!==f||t[4]!==x||t[5]!==d||t[6]!==n||t[7]!==l||t[8]!==C||t[9]!==e||t[10]!==v){_=Symbol.for("react.early_return_sentinel");e:{let a={className:w};if(i&&(a.prefetch=!1,C=rn,a.href=(null==o?void 0:o.slug)?nB({adminRoute:x,path:"/collections/".concat(null==o?void 0:o.slug,"/").concat(f.id)}):""),"function"==typeof d){let e;C="button",a.type="button",t[14]!==d||t[15]!==n||t[16]!==o||t[17]!==f?(e=()=>{d({cellData:n,collectionSlug:null==o?void 0:o.slug,rowData:f})},t[14]=d,t[15]=n,t[16]=o,t[17]=f,t[18]=e):e=t[18],a.onClick=e}if("name"in l&&"id"===l.name){_=(0,u.jsx)(C,{...a,children:(0,u.jsx)(l0,{cellData:"ID: ".concat(n),collectionConfig:o,field:{...l,type:"code"},nowrap:!0,rowData:f})});break e}let r="u">typeof n&&rt[l.type],s=null;if(r)s=(0,u.jsx)(r,{cellData:n,rowData:f,...e});else if(!r){if((null==o?void 0:o.upload)&&(0,j.j7)(l)&&"filename"===l.name&&"text"===l.type){let t=rt.File;s=(0,u.jsx)(t,{cellData:n,rowData:f,...e,collectionConfig:o,field:l})}else{_=(0,u.jsxs)(C,{...a,children:[(""===n||typeof n>"u"||null===n)&&v.t("general:noLabel",{label:(0,h.i0)(("label"in l?l.label:null)||"data",v)}),"string"==typeof n&&n,"number"==typeof n&&n,"object"==typeof n&&null!==n&&JSON.stringify(n)]});break e}}S=(0,u.jsx)(C,{...a,children:s})}t[0]=w,t[1]=i,t[2]=o,t[3]=f,t[4]=x,t[5]=d,t[6]=n,t[7]=l,t[8]=C,t[9]=e,t[10]=v,t[11]=S,t[12]=_,t[13]=C}else S=t[11],_=t[12],C=t[13];return _!==Symbol.for("react.early_return_sentinel")?_:S},ro=r.createContext(null),rl=()=>r.useContext(ro),rr=e=>{let t=(0,p.c)(9),{clientProps:n,columnIndex:a,isLinkedColumn:o}=e,{drawerSlug:l,onSelect:r}=lp(),{LinkedCellOverride:i}=lC(),s;if(t[0]!==n||t[1]!==a||t[2]!==o||t[3]!==l||t[4]!==r||t[5]!==i){let e={...n,columnIndex:a};if(o&&l){let n;e.className="".concat("default-cell","__first-cell"),e.link=!1,t[7]!==r?(n=e=>{let{collectionSlug:t,rowData:n}=e;"function"==typeof r&&r({collectionSlug:t,docID:n.id})},t[7]=r,t[8]=n):n=t[8],e.onClick=n}s=(0,u.jsx)(ro.Provider,{value:e,children:o&&i?i:(0,u.jsx)(ra,{...e})}),t[0]=n,t[1]=a,t[2]=o,t[3]=l,t[4]=r,t[5]=i,t[6]=s}else s=t[6];return s},ri=e=>{let t=(0,p.c)(11),{onDrawerSave:n}=e,a=rl(),o=null==a?void 0:a.rowData.id,l=null==a?void 0:a.collectionConfig.slug,r;t[0]!==o||t[1]!==l?(r={id:o,collectionSlug:l},t[0]=o,t[1]=l,t[2]=r):r=t[2];let[i,s,c]=lG(r),{closeDrawer:d}=c,h;t[3]!==d||t[4]!==n?(h=e=>{d(),"function"==typeof n&&n(e)},t[3]=d,t[4]=n,t[5]=h):h=t[5];let f=h,m;return t[6]!==a||t[7]!==s||t[8]!==f||t[9]!==i?(m=(0,u.jsxs)("div",{className:"drawer-link",children:[(0,u.jsx)(ra,{...a,className:"drawer-link__cell",link:!1,onClick:null}),(0,u.jsx)(s,{children:(0,u.jsx)(eD,{})}),(0,u.jsx)(i,{onSave:f})]}),t[6]=a,t[7]=s,t[8]=f,t[9]=i,t[10]=m):m=t[10],m},rs="clickable-arrow",rc="paginator__page",rd=e=>{let{isCurrent:t,isFirstPage:n=!1,isLastPage:a=!1,page:o=1,updatePage:l}=e,r=[rc,t&&"".concat(rc,"--is-current"),n&&"".concat(rc,"--is-first-page"),a&&"".concat(rc,"--is-last-page")].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:r,onClick:()=>l(o),type:"button",children:o})},ru={ClickableArrow:e=>{let{direction:t="right",isDisabled:n=!1,updatePage:a}=e,o=[rs,n&&"".concat(rs,"--is-disabled"),t&&"".concat(rs,"--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:o,disabled:n,onClick:n?void 0:a,type:"button",children:(0,u.jsx)(eP,{})})},Page:rd,Separator:()=>(0,u.jsx)("span",{className:"paginator__separator",children:""})},rp=e=>{let{hasNextPage:t=!1,hasPrevPage:n=!1,nextPage:a=null,numberOfNeighbors:o=1,onChange:l,page:r,prevPage:i=null,totalPages:s=null}=e;if(!t&&!n)return null;let c=e=>{"function"==typeof l&&l(e)},d=Array.from({length:s},(e,t)=>t+1),p=r-1-o;p<=0&&(p=0);let h=r-1+o+1,f=d.slice(p,h);return r-o-1>=2&&f.unshift({type:"Separator"}),r>o+1&&f.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),r+o+1<s&&f.push({type:"Separator"}),h<s&&f.push({type:"Page",props:{isLastPage:!0,page:s,updatePage:c}}),f.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!t,updatePage:()=>c(a)}}),f.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!n,updatePage:()=>c(i)}}),(0,u.jsx)("div",{className:"paginator",children:f.map((e,t)=>{if("number"==typeof e)return(0,u.jsx)(rd,{isCurrent:r===e,page:e,updatePage:c},t);let n=ru[e.type];return(0,u.jsx)(n,{...e.props},t)})})},rh=()=>{let e=(0,p.c)(11),{data:t,handlePageChange:n}=lf(),a=t.nextPage||2,o;e[0]!==n?(o=e=>{n(e)},e[0]=n,e[1]=o):o=e[1];let l=t.page||1,r=t.prevPage||void 0,i;return e[2]!==t.hasNextPage||e[3]!==t.hasPrevPage||e[4]!==t.limit||e[5]!==t.totalPages||e[6]!==a||e[7]!==o||e[8]!==l||e[9]!==r?(i=(0,u.jsx)(rp,{hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,limit:t.limit,nextPage:a,numberOfNeighbors:1,onChange:o,page:l,prevPage:r,totalPages:t.totalPages}),e[2]=t.hasNextPage,e[3]=t.hasPrevPage,e[4]=t.limit,e[5]=t.totalPages,e[6]=a,e[7]=o,e[8]=l,e[9]=r,e[10]=i):i=e[10],i},rf=y.default||y,rm="relationship-table",rv=e=>{var t,n,a,o,l,i;let{allowCreate:d=!0,disableTable:p=!1,filterOptions:f,initialData:m,initialDrawerData:v,Label:g,relationTo:b}=e,[x,y]=(0,r.useState)(null),{getEntityConfig:w}=(0,s.b)(),{permissions:j}=nY(),[C]=(0,r.useState)(()=>{if(m)return{...m,docs:Array.isArray(m.docs)?m.docs.reduce((e,t)=>"string"==typeof t?[...e,{id:t}]:[...e,t],[]):[]}}),{i18n:S,t:_}=(0,c.d)(),[k,N]=(0,r.useState)(),[E,A]=(0,r.useState)(!1),[P]=(0,r.useState)(()=>w({collectionSlug:b})),[D,O]=(0,r.useState)(!0),[R,I]=(0,r.useState)(C),[T,L]=(0,r.useState)(),{getTableState:M}=lg(),F=(0,r.useCallback)(async e=>{let t={...k||{},where:{...(null==k?void 0:k.where)||{}}};f&&(t.where=ly(t.where,f));let{data:n,state:a,Table:o}=await M({collectionSlug:b,docs:e,enableRowSelections:!1,query:t,renderRowTypes:!0,tableAppearance:"condensed"});I(n),y(o),L(a),O(!1)},[M,b,f,k]);lc(()=>{p||x&&!k||F()},[k,p],[x,F]);let[B,V,{closeDrawer:z,openDrawer:U}]=lG({collectionSlug:b}),H=(0,r.useCallback)(e=>{var t;let n=null==R?void 0:null===(t=R.docs)||void 0===t?void 0:t.findIndex(t=>t.id===e.doc.id),a;if(-1!==n){let t=[...R.docs];t[n]=e.doc,a=t}else a=[e.doc,...R.docs];F(a)},[R.docs,F]),q=(0,r.useCallback)(e=>{z(),H(e)},[z,H]),W="".concat(b,"-list"),K=!1!==d&&(null==j?void 0:null===(n=j.collections)||void 0===n?void 0:null===(t=n[b])||void 0===t?void 0:t.create);return(0,u.jsxs)("div",{className:rm,children:[(0,u.jsxs)("div",{className:"".concat(rm,"__header"),children:[g,(0,u.jsxs)("div",{className:"".concat(rm,"__actions"),children:[K&&(0,u.jsx)(V,{children:S.t("fields:addNew")}),(0,u.jsx)(oj,{"aria-controls":"".concat(rm,"-columns"),"aria-expanded":E,className:"".concat(rm,"__toggle-columns ").concat(E?"".concat(rm,"__buttons-active"):""),icon:(0,u.jsx)(eP,{direction:E?"up":"down"}),onClick:()=>A(!E),pillStyle:"light",children:_("general:columns")})]})]}),D?(0,u.jsx)("p",{children:_("general:loading")}):(0,u.jsxs)(r.Fragment,{children:[R.docs&&0===R.docs.length&&(0,u.jsxs)("div",{className:"".concat(rm,"__no-results"),children:[(0,u.jsx)("p",{children:S.t("general:noResults",{label:(0,h.i0)(null==P?void 0:null===(a=P.labels)||void 0===a?void 0:a.plural,S)})}),K&&(0,u.jsx)(e1,{onClick:U,children:S.t("general:createNewLabel",{label:(0,h.i0)(null==P?void 0:null===(o=P.labels)||void 0===o?void 0:o.singular,S)})})]}),R.docs&&R.docs.length>0&&(0,u.jsx)(lZ,{children:(0,u.jsx)(lm,{collectionSlug:b,data:R,defaultLimit:null==P?void 0:null===(i=P.admin)||void 0===i?void 0:null===(l=i.pagination)||void 0===l?void 0:l.defaultLimit,modifySearchParams:!1,onQueryChange:N,preferenceKey:W,children:(0,u.jsxs)(l_,{collectionSlug:b,columnState:T,docs:R.docs,LinkedCellOverride:(0,u.jsx)(ri,{onDrawerSave:H}),preferenceKey:W,renderRowTypes:!0,setTable:y,sortColumnProps:{appearance:"condensed"},tableAppearance:"condensed",children:[(0,u.jsx)(rf,{className:"".concat(rm,"__columns"),height:E?"auto":0,id:"".concat(rm,"-columns"),children:(0,u.jsx)("div",{className:"".concat(rm,"__columns-inner"),children:(0,u.jsx)(lE,{collectionSlug:P.slug})})}),x,(0,u.jsx)(rh,{})]})})})]}),(0,u.jsx)(B,{initialData:v,onSave:q})]})},rg=aQ(e=>{let{field:t,field:{admin:{allowCreate:n},collection:a,label:o,localized:l,on:i,required:s},path:c}=e,{id:d}=aV(),{customComponents:{AfterInput:p,BeforeInput:h,Label:f}={},value:m}=aK({path:c}),v=(0,r.useMemo)(()=>{if(!d)return null;let e={[i]:{equals:d}};return t.where?{and:[e,t.where]}:e},[d,i,t.where]);return(0,u.jsxs)("div",{className:[aX,"join"].filter(Boolean).join(" "),children:[h,(0,u.jsx)(rv,{allowCreate:"u">typeof d&&n,disableTable:null===v,field:t,filterOptions:v,initialData:d&&m?m:{docs:[]},initialDrawerData:{[i]:d},Label:(0,u.jsx)("h4",{style:{margin:0},children:f||(0,u.jsx)(n4,{label:o,localized:l,path:c,required:s})}),relationTo:a}),p]})}),rb=aQ(e=>{let{field:t,field:{admin:{className:n,description:a,editorOptions:o,maxHeight:l}={},jsonSchema:i,label:s,localized:c,required:d},path:p,readOnly:h,validate:f}=e,[m,v]=(0,r.useState)(),[g,b]=(0,r.useState)(),[x,y]=(0,r.useState)(!1),{customComponents:{AfterInput:w,BeforeInput:j,Description:C,Error:S,Label:_}={},initialValue:k,setValue:N,showError:E,value:A}=aK({path:p,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof f)return f(e,{...t,jsonError:g,required:d})},[f,d,g])}),P=(0,r.useCallback)((e,t)=>{if(!i)return;let n=t.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],a=t.Uri.parse(i.uri),o=t.editor.createModel(JSON.stringify(A,null,2),"json",a);t.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...n,i],validate:!0}),e.setModel(o)},[i,A]),D=(0,r.useCallback)(e=>{if(!h){v(e);try{N(e?JSON.parse(e):null),b(void 0)}catch(t){N(e||null),b(t)}}},[h,N,v]);(0,r.useEffect)(()=>{x||void 0===A||(v(A||k?JSON.stringify(A||k,null,2):""),y(!0))},[k,A,x]);let O=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsxs)("div",{className:[aX,"json-field",n,E&&"error",h&&"read-only"].filter(Boolean).join(" "),style:O,children:[(0,u.jsx)($,{CustomComponent:_,Fallback:(0,u.jsx)(n4,{label:s,localized:c,path:p,required:d})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)($,{CustomComponent:S,Fallback:(0,u.jsx)(tx,{message:g,path:p,showError:E})}),j,(0,u.jsx)(oY,{defaultLanguage:"json",maxHeight:l,onChange:D,onMount:P,options:o,readOnly:h,value:m}),w]}),(0,u.jsx)($,{CustomComponent:C,Fallback:(0,u.jsx)(tb,{description:a,path:p})})]})});function rx(e){return(rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ry(e){var t=function(e,t){if("object"!=rx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=rx(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rx(t)?t:t+""}function rw(e,t,n){return(t=ry(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function rC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(t){rw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function r_(e,t){if(e){if("string"==typeof e)return rS(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rS(e,t):void 0}}function rk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,l,r,i=[],s=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=l.call(n)).done)&&(i.push(a.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return i}}(e,t)||r_(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rN(e,t){if(null==e)return{};var n,a,o=t_(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var rE=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function rA(e){var t=e.defaultInputValue,n=e.defaultMenuIsOpen,a=e.defaultValue,o=e.inputValue,l=e.menuIsOpen,i=e.onChange,s=e.onInputChange,c=e.onMenuClose,d=e.onMenuOpen,u=e.value,p=rN(e,rE),h=rk((0,r.useState)(void 0!==o?o:void 0===t?"":t),2),f=h[0],m=h[1],v=rk((0,r.useState)(void 0!==l?l:void 0!==n&&n),2),g=v[0],b=v[1],x=rk((0,r.useState)(void 0!==u?u:void 0===a?null:a),2),y=x[0],w=x[1],j=(0,r.useCallback)(function(e,t){"function"==typeof i&&i(e,t),w(e)},[i]),C=(0,r.useCallback)(function(e,t){var n;"function"==typeof s&&(n=s(e,t)),m(void 0!==n?n:e)},[s]),S=(0,r.useCallback)(function(){"function"==typeof d&&d(),b(!0)},[d]),_=(0,r.useCallback)(function(){"function"==typeof c&&c(),b(!1)},[c]),k=void 0!==o?o:f,N=void 0!==l?l:g,E=void 0!==u?u:y;return rC(rC({},p),{},{inputValue:k,menuIsOpen:N,onChange:j,onInputChange:C,onMenuClose:_,onMenuOpen:S,value:E})}function rP(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ry(a.key),a)}}function rD(e){return(rD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rO=function(){return!!e})()}function rR(e){return function(e){if(Array.isArray(e))return rS(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r_(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rI=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,n=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{a.insertRule(e,a.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),rT="-ms-",rL="-moz-",rM="-webkit-",rF="comm",rB="rule",rV="decl",rz="@keyframes",rU=Math.abs,rH=String.fromCharCode,rq=Object.assign;function rW(e,t,n){return e.replace(t,n)}function rK(e,t){return e.indexOf(t)}function rY(e,t){return 0|e.charCodeAt(t)}function rQ(e,t,n){return e.slice(t,n)}function rG(e){return e.length}function rX(e,t){return t.push(e),e}var rJ=1,rZ=1,r$=0,r0=0,r1=0,r2="";function r3(e,t,n,a,o,l,r){return{value:e,root:t,parent:n,type:a,props:o,children:l,line:rJ,column:rZ,length:r,return:""}}function r6(e,t){return rq(r3("",null,null,"",null,null,0),e,{length:-e.length},t)}function r5(){return r1=r0<r$?rY(r2,r0++):0,rZ++,10===r1&&(rZ=1,rJ++),r1}function r4(){return rY(r2,r0)}function r9(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function r8(e){return rJ=rZ=1,r$=rG(r2=e),r0=0,[]}function r7(e){var t,n;return(t=r0-1,n=function e(t){for(;r5();)switch(r1){case t:return r0;case 34:case 39:34!==t&&39!==t&&e(r1);break;case 40:41===t&&e(t);break;case 92:r5()}return r0}(91===e?e+2:40===e?e+1:e),rQ(r2,t,n)).trim()}function ie(e,t,n,a,o,l,r,i,s,c,d){for(var u=o-1,p=0===o?l:[""],h=p.length,f=0,m=0,v=0;f<a;++f)for(var g=0,b=rQ(e,u+1,u=rU(m=r[f])),x=e;g<h;++g)(x=(m>0?p[g]+" "+b:rW(b,/&\f/g,p[g])).trim())&&(s[v++]=x);return r3(e,t,n,0===o?rB:i,s,c,d)}function it(e,t,n,a){return r3(e,t,n,rV,rQ(e,0,a),rQ(e,a+1,-1),a)}function ia(e,t){for(var n="",a=e.length,o=0;o<a;o++)n+=t(e[o],o,e,t)||"";return n}function io(e,t,n,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case rV:return e.return=e.return||e.value;case rF:return"";case rz:return e.return=e.value+"{"+ia(e.children,a)+"}";case rB:e.value=e.props.join(",")}return rG(n=ia(e.children,a))?e.return=e.value+"{"+n+"}":""}var il=function(e,t,n){for(var a=0,o=0;a=o,o=r4(),38===a&&12===o&&(t[n]=1),!r9(o);)r5();return rQ(r2,e,r0)},ir=function(e,t){var n=-1,a=44;do switch(r9(a)){case 0:38===a&&12===r4()&&(t[n]=1),e[n]+=il(r0-1,t,n);break;case 2:e[n]+=r7(a);break;case 4:if(44===a){e[++n]=58===r4()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=rH(a)}while(a=r5());return e},ii=function(e,t){var n;return n=ir(r8(e),t),r2="",n},is=new WeakMap,ic=function(e){if(!("rule"!==e.type||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if(!(1===e.props.length&&58!==t.charCodeAt(0)&&!is.get(n))&&!a){is.set(e,!0);for(var o=[],l=ii(t,o),r=n.props,i=0,s=0;i<l.length;i++)for(var c=0;c<r.length;c++,s++)e.props[s]=o[i]?l[i].replace(/&\f/g,r[c]):r[c]+" "+l[i]}}},id=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},iu=[function(e,t,n,a){if(e.length>-1&&!e.return)switch(e.type){case rV:e.return=function e(t,n){switch(45^rY(t,0)?(((n<<2^rY(t,0))<<2^rY(t,1))<<2^rY(t,2))<<2^rY(t,3):0){case 5103:return rM+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rM+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rM+t+rL+t+rT+t+t;case 6828:case 4268:return rM+t+rT+t+t;case 6165:return rM+t+rT+"flex-"+t+t;case 5187:return rM+t+rW(t,/(\w+).+(:[^]+)/,rM+"box-$1$2"+rT+"flex-$1$2")+t;case 5443:return rM+t+rT+"flex-item-"+rW(t,/flex-|-self/,"")+t;case 4675:return rM+t+rT+"flex-line-pack"+rW(t,/align-content|flex-|-self/,"")+t;case 5548:return rM+t+rT+rW(t,"shrink","negative")+t;case 5292:return rM+t+rT+rW(t,"basis","preferred-size")+t;case 6060:return rM+"box-"+rW(t,"-grow","")+rM+t+rT+rW(t,"grow","positive")+t;case 4554:return rM+rW(t,/([^-])(transform)/g,"$1"+rM+"$2")+t;case 6187:return rW(rW(rW(t,/(zoom-|grab)/,rM+"$1"),/(image-set)/,rM+"$1"),t,"")+t;case 5495:case 3959:return rW(t,/(image-set\([^]*)/,rM+"$1$`$1");case 4968:return rW(rW(t,/(.+:)(flex-)?(.*)/,rM+"box-pack:$3"+rT+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rM+t+t;case 4095:case 3583:case 4068:case 2532:return rW(t,/(.+)-inline(.+)/,rM+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rG(t)-1-n>6)switch(rY(t,n+1)){case 109:if(45!==rY(t,n+4))break;case 102:return rW(t,/(.+:)(.+)-([^]+)/,"$1"+rM+"$2-$3$1"+rL+(108==rY(t,n+3)?"$3":"$2-$3"))+t;case 115:return~rK(t,"stretch")?e(rW(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==rY(t,n+1))break;case 6444:switch(rY(t,rG(t)-3-(~rK(t,"!important")&&10))){case 107:return rW(t,":",":"+rM)+t;case 101:return rW(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rM+(45===rY(t,14)?"inline-":"")+"box$3$1"+rM+"$2$3$1"+rT+"$2box$3")+t}break;case 5936:switch(rY(t,n+11)){case 114:return rM+t+rT+rW(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rM+t+rT+rW(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rM+t+rT+rW(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return rM+t+rT+t+t}return t}(e.value,e.length);break;case rz:return ia([r6(e,{value:rW(e.value,"@","@"+rM)})],a);case rB:if(e.length){var o,l;return o=e.props,l=function(t){var n;switch(n=t,(n=/(::plac\w+|:read-\w+)/.exec(n))?n[0]:n){case":read-only":case":read-write":return ia([r6(e,{props:[rW(t,/:(read-\w+)/,":"+rL+"$1")]})],a);case"::placeholder":return ia([r6(e,{props:[rW(t,/:(plac\w+)/,":"+rM+"input-$1")]}),r6(e,{props:[rW(t,/:(plac\w+)/,":"+rL+"$1")]}),r6(e,{props:[rW(t,/:(plac\w+)/,rT+"input-$1")]})],a)}return""},o.map(l).join("")}}}],ip=function(e,t,n){var a=e.key+"-"+t.name;!1===n&&void 0===e.registered[a]&&(e.registered[a]=t.styles)},ih=function(e,t,n){ip(e,t,n);var a=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do e.insert(t===o?"."+a:"",o,e.sheet,!0),o=o.next;while(void 0!==o)}},im={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iv=/[A-Z]|^ms/g,ig=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ib=function(e){return 45===e.charCodeAt(1)},ix=function(e){return null!=e&&"boolean"!=typeof e},iy=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return ib(e)?e:e.replace(iv,"-$&").toLowerCase()}),iw=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(ig,function(e,t,n){return iC={name:t,styles:n,next:iC},t})}return 1===im[e]||ib(e)||"number"!=typeof t||0===t?t:t+"px"};function ij(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return iC={name:n.name,styles:n.styles,next:iC},n.name;if(void 0!==n.styles){var a=n.next;if(void 0!==a)for(;void 0!==a;)iC={name:a.name,styles:a.styles,next:iC},a=a.next;return n.styles+";"}return function(e,t,n){var a="";if(Array.isArray(n))for(var o=0;o<n.length;o++)a+=ij(e,t,n[o])+";";else for(var l in n){var r=n[l];if("object"!=typeof r)null!=t&&void 0!==t[r]?a+=l+"{"+t[r]+"}":ix(r)&&(a+=iy(l)+":"+iw(l,r)+";");else if(Array.isArray(r)&&"string"==typeof r[0]&&(null==t||void 0===t[r[0]]))for(var i=0;i<r.length;i++)ix(r[i])&&(a+=iy(l)+":"+iw(l,r[i])+";");else{var s=ij(e,t,r);switch(l){case"animation":case"animationName":a+=iy(l)+":"+s+";";break;default:a+=l+"{"+s+"}"}}}return a}(e,t,n);case"function":if(void 0!==e){var o=iC,l=n(e);return iC=o,ij(e,t,l)}}if(null==t)return n;var r=t[n];return void 0!==r?r:n}var iC,iS=/label:\s*([^\s;{]+)\s*(;|$)/g;function i_(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,o="";iC=void 0;var l=e[0];null==l||void 0===l.raw?(a=!1,o+=ij(n,t,l)):o+=l[0];for(var r=1;r<e.length;r++)o+=ij(n,t,e[r]),a&&(o+=l[r]);iS.lastIndex=0;for(var i,s="";null!==(i=iS.exec(o));)s+="-"+i[1];return{name:function(e){for(var t,n=0,a=0,o=e.length;o>=4;++a,o-=4)t=(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*1540483477+((t>>>16)*59797<<16)^(65535&n)*1540483477+((n>>>16)*59797<<16);switch(o){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n^=255&e.charCodeAt(a),n=(65535&n)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*1540483477+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}(o)+s,styles:o,next:iC}}var ik=!!r.useInsertionEffect&&r.useInsertionEffect||function(e){return e()},iN=r.createContext("u">typeof HTMLElement?function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var a,o=e.stylisPlugins||iu,l={},r=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)l[t[n]]=!0;r.push(e)});var i,s,c,d,u,p=(s=(i=[ic,id].concat(o,[io,(d=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&d(e)})])).length,function(e,t,n,a){for(var o="",l=0;l<s;l++)o+=i[l](e,t,n,a)||"";return o}),h=function(e){var t,n;return ia((n=function e(t,n,a,o,l,r,i,s,c){for(var d,u=0,p=0,h=i,f=0,m=0,v=0,g=1,b=1,x=1,y=0,w="",j=l,C=r,S=o,_=w;b;)switch(v=y,y=r5()){case 40:if(108!=v&&58==rY(_,h-1)){-1!=rK(_+=rW(r7(y),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:_+=r7(y);break;case 9:case 10:case 13:case 32:_+=function(e){for(;(r1=r4())&&r1<33;)r5();return r9(e)>2||r9(r1)>3?"":" "}(v);break;case 92:_+=function(e,t){for(var n;--t&&r5()&&!(r1<48||r1>102||r1>57&&r1<65||r1>70&&r1<97););return n=r0+(t<6&&32==r4()&&32==r5()),rQ(r2,e,n)}(r0-1,7);continue;case 47:switch(r4()){case 42:case 47:rX(r3(d=function(e,t){for(;r5()&&e+r1!==57&&(e+r1!==84||47!==r4()););return"/*"+rQ(r2,t,r0-1)+"*"+rH(47===e?e:r5())}(r5(),r0),n,a,rF,rH(r1),rQ(d,2,-2),0),c);break;default:_+="/"}break;case 123*g:s[u++]=rG(_)*x;case 125*g:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+p:-1==x&&(_=rW(_,/\f/g,"")),m>0&&rG(_)-h&&rX(m>32?it(_+";",o,a,h-1):it(rW(_," ","")+";",o,a,h-2),c);break;case 59:_+=";";default:if(rX(S=ie(_,n,a,u,p,l,s,w,j=[],C=[],h),r),123===y){if(0===p)e(_,n,S,S,j,r,h,s,C);else switch(99===f&&110===rY(_,3)?100:f){case 100:case 108:case 109:case 115:e(t,S,S,o&&rX(ie(t,S,S,0,0,l,s,w,l,j=[],h),C),l,C,h,s,o?j:C);break;default:e(_,S,S,S,[""],C,0,s,C)}}}u=p=m=0,g=x=1,w=_="",h=i;break;case 58:h=1+rG(_),m=v;default:if(g<1){if(123==y)--g;else if(125==y&&0==g++&&125==(r1=r0>0?rY(r2,--r0):0,rZ--,10===r1&&(rZ=1,rJ--),r1))continue}switch(_+=rH(y),y*g){case 38:x=p>0?1:(_+="\f",-1);break;case 44:s[u++]=(rG(_)-1)*x,x=1;break;case 64:45===r4()&&(_+=r7(r5())),f=r4(),p=h=rG(w=_+=function(e){for(;!r9(r4());)r5();return rQ(r2,e,r0)}(r0)),y++;break;case 45:45===v&&2==rG(_)&&(g=0)}}return r}("",null,null,null,[""],t=r8(t=e),0,[0],t),r2="",n),p)};c=function(e,t,n,a){u=n,h(e?e+"{"+t.styles+"}":t.styles),a&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new rI({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:c};return f.sheet.hydrate(r),f}({key:"css"}):null);iN.Provider;var iE=r.createContext({}),iA={}.hasOwnProperty,iP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",iD=function(e,t){var n={};for(var a in t)iA.call(t,a)&&(n[a]=t[a]);return n[iP]=e,n},iO=function(e){var t=e.cache,n=e.serialized,a=e.isStringTag;return ip(t,n,a),ik(function(){return ih(t,n,a)}),null},iR=(i$=function(e,t,n){var a,o,l,i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var s=e[iP],c=[i],d="";"string"==typeof e.className?(a=t.registered,o=e.className,l="",o.split(" ").forEach(function(e){void 0!==a[e]?c.push(a[e]+";"):e&&(l+=e+" ")}),d=l):null!=e.className&&(d=e.className+" ");var u=i_(c,void 0,r.useContext(iE));d+=t.key+"-"+u.name;var p={};for(var h in e)iA.call(e,h)&&"css"!==h&&h!==iP&&(p[h]=e[h]);return p.className=d,n&&(p.ref=n),r.createElement(r.Fragment,null,r.createElement(iO,{cache:t,serialized:u,isStringTag:"string"==typeof s}),r.createElement(s,p))},(0,r.forwardRef)(function(e,t){return i$(e,(0,r.useContext)(iN),t)}));(0,d.e)(K());var iI=function(e,t){var n=arguments;if(null==t||!iA.call(t,"css"))return r.createElement.apply(void 0,n);var a=n.length,o=Array(a);o[0]=iR,o[1]=iD(e,t);for(var l=2;l<a;l++)o[l]=n[l];return r.createElement.apply(null,o)};function iT(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i_(t)}(0,c.l)();var iL=r.useLayoutEffect,iM=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],iF=function(){};function iB(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var l=[].concat(a);if(t&&e)for(var r in t)t.hasOwnProperty(r)&&t[r]&&l.push("".concat(r?"-"===r[0]?e+r:e+"__"+r:e));return l.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var iV=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===rx(e)&&null!==e?[e]:[]},iz=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,rC({},rN(e,iM))},iU=function(e,t,n){var a=e.cx,o=e.getStyles,l=e.getClassNames,r=e.className;return{css:o(t,e),className:a(null!=n?n:{},l(t,e),r)}};function iH(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function iq(e){return iH(e)?window.pageYOffset:e.scrollTop}function iW(e,t){if(iH(e)){window.scrollTo(0,t);return}e.scrollTop=t}function iK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:iF,o=iq(e),l=t-o,r=0;!function t(){var i;r+=10,iW(e,l*((i=(i=r)/n-1)*i*i+1)+o),r<n?window.requestAnimationFrame(t):a(e)}()}function iY(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=t.offsetHeight/3;a.bottom+o>n.bottom?iW(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):a.top-o<n.top&&iW(e,Math.max(t.offsetTop-o,0))}function iQ(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var iG=!1,iX="u">typeof window?window:{};iX.addEventListener&&iX.removeEventListener&&(iX.addEventListener("p",iF,{get passive(){return iG=!0}}),iX.removeEventListener("p",iF,!1));var iJ=iG;function iZ(e){return null!=e}var i$,i0,i1=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object.entries(e).filter(function(e){var t=rk(e,1)[0];return!n.includes(t)}).reduce(function(e,t){var n=rk(t,2),a=n[0],o=n[1];return e[a]=o,e},{})},i2=["children","innerProps"],i3=["children","innerProps"],i6=function(e){return"auto"===e?"bottom":e},i5=(0,r.createContext)(null),i4=function(e){var t=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,o=e.menuPlacement,l=e.menuPosition,i=e.menuShouldScrollIntoView,s=e.theme,c=((0,r.useContext)(i5)||{}).setPortalPlacement,d=(0,r.useRef)(null),u=rk((0,r.useState)(a),2),p=u[0],h=u[1],f=rk((0,r.useState)(null),2),m=f[0],v=f[1],g=s.spacing.controlHeight;return iL(function(){var e=d.current;if(e){var t="fixed"===l,r=function(e){var t=e.maxHeight,n=e.menuEl,a=e.minHeight,o=e.placement,l=e.shouldScroll,r=e.isFixedPosition,i=e.controlHeight,s=function(e){var t=getComputedStyle(e),n="absolute"===t.position,a=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),!(n&&"static"===t.position)&&a.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=s.getBoundingClientRect().height,u=n.getBoundingClientRect(),p=u.bottom,h=u.height,f=u.top,m=n.offsetParent.getBoundingClientRect().top,v=r?window.innerHeight:iH(s)?window.innerHeight:s.clientHeight,g=iq(s),b=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),y=m-x,w=v-f,j=y+g,C=d-g-f,S=p-v+g+b,_=g+f-x;switch(o){case"auto":case"bottom":if(w>=h)return{placement:"bottom",maxHeight:t};if(C>=h&&!r)return l&&iK(s,S,160),{placement:"bottom",maxHeight:t};if(!r&&C>=a||r&&w>=a)return l&&iK(s,S,160),{placement:"bottom",maxHeight:r?w-b:C-b};if("auto"===o||r){var k=t,N=r?y:j;return N>=a&&(k=Math.min(N-b-i,t)),{placement:"top",maxHeight:k}}if("bottom"===o)return l&&iW(s,S),{placement:"bottom",maxHeight:t};break;case"top":if(y>=h)return{placement:"top",maxHeight:t};if(j>=h&&!r)return l&&iK(s,_,160),{placement:"top",maxHeight:t};if(!r&&j>=a||r&&y>=a){var E=t;return(!r&&j>=a||r&&y>=a)&&(E=r?y-x:j-x),l&&iK(s,_,160),{placement:"top",maxHeight:E}}return{placement:"bottom",maxHeight:t};default:throw Error('Invalid placement provided "'.concat(o,'".'))}return c}({maxHeight:a,menuEl:e,minHeight:n,placement:o,shouldScroll:i&&!t,isFixedPosition:t,controlHeight:g});h(r.maxHeight),v(r.placement),null==c||c(r.placement)}},[a,o,l,i,n,c,g]),t({ref:d,placerProps:rC(rC({},e),{},{placement:m||i6(o),maxHeight:p})})},i9=function(e,t){var n=e.theme,a=n.spacing.baseUnit,o=n.colors;return rC({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(2*a,"px ").concat(3*a,"px")})},i8=["size"],i7=["innerProps","isRtl","size"],se={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},st=function(e){var t=e.size,n=rN(e,i8);return iI("svg",tS({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:se},n))},sn=function(e){return iI(st,tS({size:20},e),iI("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},sa=function(e){return iI(st,tS({size:20},e),iI("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},so=function(e,t){var n=e.isFocused,a=e.theme,o=a.spacing.baseUnit,l=a.colors;return rC({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?l.neutral60:l.neutral20,padding:2*o,":hover":{color:n?l.neutral80:l.neutral40}})},sl=function(){var e=iT.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(i0||(i0=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),sr=function(e){var t=e.delay,n=e.offset;return iI("span",{css:iT({animation:"".concat(sl," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},si=["data"],ss=["innerRef","isDisabled","isHidden","inputClassName"],sc={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},sd={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":rC({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},sc)},su=function(e){var t=e.children;return iI("div",e.innerProps,t)},sp={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return iI("div",tS({},iU(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||iI(sn,null))},Control:function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,o=e.innerRef,l=e.innerProps,r=e.menuIsOpen;return iI("div",tS({ref:o},iU(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":r}),l,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return iI("div",tS({},iU(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||iI(sa,null))},DownChevron:sa,CrossIcon:sn,Group:function(e){var t=e.children,n=e.cx,a=e.getStyles,o=e.getClassNames,l=e.Heading,r=e.headingProps,i=e.innerProps,s=e.label,c=e.theme,d=e.selectProps;return iI("div",tS({},iU(e,"group",{group:!0}),i),iI(l,tS({},r,{selectProps:d,theme:c,getStyles:a,getClassNames:o,cx:n}),s),iI("div",null,t))},GroupHeading:function(e){var t=iz(e);t.data;var n=rN(t,si);return iI("div",tS({},iU(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return iI("div",tS({},iU(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return iI("span",tS({},t,iU(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,a=iz(e),o=a.innerRef,l=a.isDisabled,r=a.isHidden,i=a.inputClassName,s=rN(a,ss);return iI("div",tS({},iU(e,"input",{"input-container":!0}),{"data-value":n||""}),iI("input",tS({className:t({input:!0},i),ref:o,style:rC({label:"input",color:"inherit",background:0,opacity:r?0:1,width:"100%"},sc),disabled:l},s)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,a=e.size,o=rN(e,i7);return iI("div",tS({},iU(rC(rC({},o),{},{innerProps:t,isRtl:n,size:void 0===a?4:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),iI(sr,{delay:0,offset:n}),iI(sr,{delay:160,offset:!0}),iI(sr,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,a=e.innerProps;return iI("div",tS({},iU(e,"menu",{menu:!0}),{ref:n},a),t)},MenuList:function(e){var t=e.children,n=e.innerProps,a=e.innerRef,o=e.isMulti;return iI("div",tS({},iU(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:a},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,a=e.controlElement,o=e.innerProps,l=e.menuPlacement,s=e.menuPosition,d=(0,r.useRef)(null),u=(0,r.useRef)(null),p=rk((0,r.useState)(i6(l)),2),h=p[0],f=p[1],m=(0,r.useMemo)(function(){return{setPortalPlacement:f}},[]),v=rk((0,r.useState)(null),2),g=v[0],b=v[1],x=(0,r.useCallback)(function(){if(a){var e,t={bottom:(e=a.getBoundingClientRect()).bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width},n="fixed"===s?0:window.pageYOffset,o=t[h]+n;(o!==(null==g?void 0:g.offset)||t.left!==(null==g?void 0:g.rect.left)||t.width!==(null==g?void 0:g.rect.width))&&b({offset:o,rect:t})}},[a,s,h,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);iL(function(){x()},[x]);var y=(0,r.useCallback)(function(){"function"==typeof u.current&&(u.current(),u.current=null),a&&d.current&&(u.current=(0,c.k)(a,d.current,x,{elementResize:"ResizeObserver"in window}))},[a,x]);iL(function(){y()},[y]);var w=(0,r.useCallback)(function(e){d.current=e,y()},[y]);if(!t&&"fixed"!==s||!g)return null;var j=iI("div",tS({ref:w},iU(rC(rC({},e),{},{offset:g.offset,position:s,rect:g.rect}),"menuPortal",{"menu-portal":!0}),o),n);return iI(i5.Provider,{value:m},t?(0,i.createPortal)(j,t):j)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,a=e.innerProps,o=rN(e,i3);return iI("div",tS({},iU(rC(rC({},o),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,a=e.innerProps,o=rN(e,i2);return iI("div",tS({},iU(rC(rC({},o),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},MultiValue:function(e){var t=e.children,n=e.components,a=e.data,o=e.innerProps,l=e.isDisabled,r=e.removeProps,i=e.selectProps,s=n.Container,c=n.Label,d=n.Remove;return iI(s,{data:a,innerProps:rC(rC({},iU(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),o),selectProps:i},iI(c,{data:a,innerProps:rC({},iU(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:i},t),iI(d,{data:a,innerProps:rC(rC({},iU(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},r),selectProps:i}))},MultiValueContainer:su,MultiValueLabel:su,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return iI("div",tS({role:"button"},n),t||iI(sn,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,o=e.isSelected,l=e.innerRef,r=e.innerProps;return iI("div",tS({},iU(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":o}),{ref:l,"aria-disabled":n},r),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return iI("div",tS({},iU(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,a=e.isDisabled,o=e.isRtl;return iI("div",tS({},iU(e,"container",{"--is-disabled":a,"--is-rtl":o}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,a=e.innerProps;return iI("div",tS({},iU(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,a=e.isMulti,o=e.hasValue;return iI("div",tS({},iU(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":o}),n),t)}},sh=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function sf(e,t){if(e.length!==t.length)return!1;for(var n,a,o=0;o<e.length;o++)if(!((n=e[o])===(a=t[o])||sh(n)&&sh(a)))return!1;return!0}var sm={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},sv=function(e){return iI("span",tS({css:sm},e))},sg={guidance:function(e){var t=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,o=e.context,l=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,a=void 0===n?"":n,o=e.labels,l=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return l?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,a=e.options,o=e.label,l=void 0===o?"":o,r=e.selectValue,i=e.isDisabled,s=e.isSelected,c=e.isAppleDevice,d=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&r)return"value ".concat(l," focused, ").concat(d(r,n),".");if("menu"===t&&c){var u="".concat(s?" selected":"").concat(i?" disabled":"");return"".concat(l).concat(u,", ").concat(d(a,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},sb=function(e){var t=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,o=e.focusableOptions,l=e.isFocused,i=e.selectValue,s=e.selectProps,c=e.id,d=e.isAppleDevice,u=s.ariaLiveMessages,p=s.getOptionLabel,h=s.inputValue,f=s.isMulti,m=s.isOptionDisabled,v=s.isSearchable,g=s.menuIsOpen,b=s.options,x=s.screenReaderStatus,y=s.tabSelectsValue,w=s.isLoading,j=s["aria-label"],C=s["aria-live"],S=(0,r.useMemo)(function(){return rC(rC({},sg),u||{})},[u]),_=(0,r.useMemo)(function(){var e="";if(t&&S.onChange){var n=t.option,a=t.options,o=t.removedValue,l=t.removedValues,r=t.value,s=o||n||(Array.isArray(r)?null:r),c=s?p(s):"",d=a||l||void 0,u=d?d.map(p):[],h=rC({isDisabled:s&&m(s,i),label:c,labels:u},t);e=S.onChange(h)}return e},[t,S,m,i,p]),k=(0,r.useMemo)(function(){var e="",t=n||a,l=!!(n&&i&&i.includes(n));if(t&&S.onFocus){var r={focused:t,label:p(t),isDisabled:m(t,i),isSelected:l,options:o,context:t===n?"menu":"value",selectValue:i,isAppleDevice:d};e=S.onFocus(r)}return e},[n,a,p,m,S,o,i,d]),N=(0,r.useMemo)(function(){var e="";if(g&&b.length&&!w&&S.onFilter){var t=x({count:o.length});e=S.onFilter({inputValue:h,resultsMessage:t})}return e},[o,h,g,S,b,x,w]),E=(null==t?void 0:t.action)==="initial-input-focus",A=(0,r.useMemo)(function(){var e="";if(S.guidance){var t=a?"value":g?"menu":"input";e=S.guidance({"aria-label":j,context:t,isDisabled:n&&m(n,i),isMulti:f,isSearchable:v,tabSelectsValue:y,isInitialFocus:E})}return e},[j,n,a,f,m,v,g,S,i,y,E]),P=iI(r.Fragment,null,iI("span",{id:"aria-selection"},_),iI("span",{id:"aria-focused"},k),iI("span",{id:"aria-results"},N),iI("span",{id:"aria-guidance"},A));return iI(r.Fragment,null,iI(sv,{id:c},E&&P),iI(sv,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!E&&P))},sx=[{base:"A",letters:"A\xc0\xc1\xc2\xc3\xc4\xc5"},{base:"AA",letters:""},{base:"AE",letters:"\xc6"},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C\xc7"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E\xc8\xc9\xca\xcb"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I\xcc\xcd\xce\xcf"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N\xd1"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O\xd2\xd3\xd4\xd5\xd6\xd8"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U\xd9\xda\xdb\xdc"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y\xdd"},{base:"Z",letters:"Z"},{base:"a",letters:"a\xe0\xe1\xe2\xe3\xe4\xe5"},{base:"aa",letters:""},{base:"ae",letters:"\xe6"},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c\xe7"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e\xe8\xe9\xea\xeb"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i\xec\xed\xee\xef"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n\xf1"},{base:"nj",letters:""},{base:"o",letters:"o\xf2\xf3\xf4\xf5\xf6\xf8"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s\xdf"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u\xf9\xfa\xfb\xfc"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y\xfd\xff"},{base:"z",letters:"z"}],sy=RegExp("["+sx.map(function(e){return e.letters}).join("")+"]","g"),sw={};for(sS=0;sS<sx.length;sS++)for(sj=sx[sS],sC=0;sC<sj.letters.length;sC++)sw[sj.letters[sC]]=sj.base;var sj,sC,sS,s_=function(e){return e.replace(sy,function(e){return sw[e]})},sk=function(e,t){void 0===t&&(t=sf);var n=null;function a(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var l=e.apply(this,a);return n={lastResult:l,lastArgs:a,lastThis:this},l}return a.clear=function(){n=null},a}(s_),sN=function(e){return e.replace(/^\s+|\s+$/g,"")},sE=function(e){return"".concat(e.label," ").concat(e.value)},sA=["innerRef"];function sP(e){var t=e.innerRef,n=i1(rN(e,sA),"onExited","in","enter","exit","appear");return iI("input",tS({ref:t},n,{css:iT({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var sD=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()},sO=["boxSizing","height","overflow","paddingRight","position"],sR={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function sI(e){e.preventDefault()}function sT(e){e.stopPropagation()}function sL(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function sM(){return"ontouchstart"in window||navigator.maxTouchPoints}var sF=!!("u">typeof window&&window.document&&window.document.createElement),sB=0,sV={capture:!1,passive:!1},sz=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},sU={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function sH(e){var t,n,a,o,l,i,s,c,d,u,p,h,f,m,v,g,b,x,y,w,j,C,S,_,k=e.children,N=e.lockEnabled,E=e.captureEnabled,A=(n=(t={isEnabled:void 0===E||E,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}).isEnabled,a=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,i=t.onTopLeave,s=(0,r.useRef)(!1),c=(0,r.useRef)(!1),d=(0,r.useRef)(0),u=(0,r.useRef)(null),p=(0,r.useCallback)(function(e,t){if(null!==u.current){var n=u.current,r=n.scrollTop,d=n.scrollHeight,p=n.clientHeight,h=u.current,f=t>0,m=d-p-r,v=!1;m>t&&s.current&&(o&&o(e),s.current=!1),f&&c.current&&(i&&i(e),c.current=!1),f&&t>m?(a&&!s.current&&a(e),h.scrollTop=d,v=!0,s.current=!0):!f&&-t>r&&(l&&!c.current&&l(e),h.scrollTop=0,v=!0,c.current=!0),v&&sD(e)}},[a,o,l,i]),h=(0,r.useCallback)(function(e){p(e,e.deltaY)},[p]),f=(0,r.useCallback)(function(e){d.current=e.changedTouches[0].clientY},[]),m=(0,r.useCallback)(function(e){var t=d.current-e.changedTouches[0].clientY;p(e,t)},[p]),v=(0,r.useCallback)(function(e){if(e){var t=!!iJ&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",m,t)}},[m,f,h]),g=(0,r.useCallback)(function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",m,!1))},[m,f,h]),(0,r.useEffect)(function(){if(n){var e=u.current;return v(e),function(){g(e)}}},[n,v,g]),function(e){u.current=e}),P=(x=(b={isEnabled:N}).isEnabled,w=void 0===(y=b.accountForScrollbars)||y,j=(0,r.useRef)({}),C=(0,r.useRef)(null),S=(0,r.useCallback)(function(e){if(sF){var t=document.body,n=t&&t.style;if(w&&sO.forEach(function(e){var t=n&&n[e];j.current[e]=t}),w&&sB<1){var a=parseInt(j.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,l=window.innerWidth-o+a||0;Object.keys(sR).forEach(function(e){var t=sR[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(l,"px"))}t&&sM()&&(t.addEventListener("touchmove",sI,sV),e&&(e.addEventListener("touchstart",sL,sV),e.addEventListener("touchmove",sT,sV))),sB+=1}},[w]),_=(0,r.useCallback)(function(e){if(sF){var t=document.body,n=t&&t.style;sB=Math.max(sB-1,0),w&&sB<1&&sO.forEach(function(e){var t=j.current[e];n&&(n[e]=t)}),t&&sM()&&(t.removeEventListener("touchmove",sI,sV),e&&(e.removeEventListener("touchstart",sL,sV),e.removeEventListener("touchmove",sT,sV)))}},[w]),(0,r.useEffect)(function(){if(x){var e=C.current;return S(e),function(){_(e)}}},[x,S,_]),function(e){C.current=e});return iI(r.Fragment,null,N&&iI("div",{onClick:sz,css:sU}),k(function(e){A(e),P(e)}))}var sq={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},sW=function(e){return iI("input",{required:!0,name:e.name,tabIndex:-1,"aria-hidden":"true",onFocus:e.onFocus,css:sq,value:"",onChange:function(){}})};function sK(e){var t;return"u">typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}var sY=function(e){return e.label},sQ=function(e){return e.value},sG={clearIndicator:so,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,a=e.isFocused,o=e.theme,l=o.colors,r=o.borderRadius;return rC({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?l.neutral5:l.neutral0,borderColor:n?l.neutral10:a?l.primary:l.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:a?l.primary:l.neutral30}})},dropdownIndicator:so,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,a=n.colors,o=n.spacing;return rC({label:"group",cursor:"default",display:"block"},t?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*o.baseUnit,paddingRight:3*o.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,a=e.theme,o=a.spacing.baseUnit,l=a.colors;return rC({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?l.neutral10:l.neutral20,marginBottom:2*o,marginTop:2*o})},input:function(e,t){var n=e.isDisabled,a=e.value,o=e.theme,l=o.spacing,r=o.colors;return rC(rC({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},sd),t?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:r.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,a=e.size,o=e.theme,l=o.colors,r=o.spacing.baseUnit;return rC({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?l.neutral60:l.neutral20,padding:2*r})},loadingMessage:i9,menu:function(e,t){var n,a=e.placement,o=e.theme,l=o.borderRadius,r=o.spacing,i=o.colors;return rC((rw(n={label:"menu"},a?({bottom:"top",top:"bottom"})[a]:"bottom","100%"),rw(n,"position","absolute"),rw(n,"width","100%"),rw(n,"zIndex",1),n),t?{}:{backgroundColor:i.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:r.menuGutter,marginTop:r.menuGutter})},menuList:function(e,t){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return rC({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:a,paddingTop:a})},menuPortal:function(e){var t=e.rect,n=e.offset,a=e.position;return{left:t.left,position:a,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,a=n.spacing,o=n.borderRadius,l=n.colors;return rC({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:l.neutral10,borderRadius:o/2,margin:a.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,a=n.borderRadius,o=n.colors,l=e.cropWithEllipsis;return rC({overflow:"hidden",textOverflow:l||void 0===l?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:a/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,a=n.spacing,o=n.borderRadius,l=n.colors,r=e.isFocused;return rC({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:r?l.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},noOptionsMessage:i9,option:function(e,t){var n=e.isDisabled,a=e.isFocused,o=e.isSelected,l=e.theme,r=l.spacing,i=l.colors;return rC({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?i.primary:a?i.primary25:"transparent",color:n?i.neutral20:o?i.neutral0:"inherit",padding:"".concat(2*r.baseUnit,"px ").concat(3*r.baseUnit,"px"),":active":{backgroundColor:n?void 0:o?i.primary:i.primary50}})},placeholder:function(e,t){var n=e.theme,a=n.spacing,o=n.colors;return rC({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,a=e.theme,o=a.spacing,l=a.colors;return rC({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?l.neutral40:l.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,a=e.isMulti,o=e.hasValue,l=e.selectProps.controlShouldRenderValue;return rC({alignItems:"center",display:a&&o&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},sX={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},sJ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:iQ(),captureMenuScroll:!iQ(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=rC({ignoreCase:!0,ignoreAccents:!0,stringify:sE,trim:!0,matchFrom:"any"},void 0),a=n.ignoreCase,o=n.ignoreAccents,l=n.stringify,r=n.trim,i=n.matchFrom,s=r?sN(t):t,c=r?sN(l(e)):l(e);return a&&(s=s.toLowerCase(),c=c.toLowerCase()),o&&(s=sk(s),c=s_(c)),"start"===i?c.substr(0,s.length)===s:c.indexOf(s)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:sY,getOptionValue:sQ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function sZ(e,t,n,a){var o=s4(e,t,n),l=s9(e,t,n),r=s6(e,t),i=s5(e,t);return{type:"option",data:t,isDisabled:o,isSelected:l,label:r,value:i,index:a}}function s$(e,t){return e.options.map(function(n,a){if("options"in n){var o=n.options.map(function(n,a){return sZ(e,n,t,a)}).filter(function(t){return s2(e,t)});return o.length>0?{type:"group",data:n,options:o,index:a}:void 0}var l=sZ(e,n,t,a);return s2(e,l)?l:void 0}).filter(iZ)}function s0(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,rR(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function s1(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,rR(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function s2(e,t){var n=e.inputValue,a=t.data,o=t.isSelected,l=t.label,r=t.value;return(!s7(e)||!o)&&s8(e,{label:l,value:r,data:a},void 0===n?"":n)}var s3=function(e,t){var n;return(null===(n=e.find(function(e){return e.data===t}))||void 0===n?void 0:n.id)||null},s6=function(e,t){return e.getOptionLabel(t)},s5=function(e,t){return e.getOptionValue(t)};function s4(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function s9(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var a=s5(e,t);return n.some(function(t){return s5(e,t)===a})}function s8(e,t,n){return!e.filterOption||e.filterOption(t,n)}var s7=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},ce=1,ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tk(e,t)}(l,e);var t,n,a,o=(t=rO(),function(){var e,n=rD(l);return e=t?Reflect.construct(n,arguments,rD(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==rx(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=sK(/^Mac/i)||sK(/^iPhone/i)||sK(/^iPad/i)||sK(/^Mac/i)&&navigator.maxTouchPoints>1,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var a=t.props,o=a.onChange,l=a.name;n.name=l,t.ariaOnChange(e,n),o(e,n)},t.setValue=function(e,n,a){var o=t.props,l=o.closeMenuOnSelect,r=o.isMulti,i=o.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:i}),l&&(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:a})},t.selectOption=function(e){var n=t.props,a=n.blurInputOnSelect,o=n.isMulti,l=n.name,r=t.state.selectValue,i=o&&t.isOptionSelected(e,r),s=t.isOptionDisabled(e,r);if(i){var c=t.getOptionValue(e);t.setValue(r.filter(function(e){return t.getOptionValue(e)!==c}),"deselect-option",e)}else if(s){t.ariaOnChange(e,{action:"select-option",option:e,name:l});return}else o?t.setValue([].concat(rR(r),[e]),"select-option",e):t.setValue(e,"select-option");a&&t.blurInput()},t.removeValue=function(e){var n,a=t.props.isMulti,o=t.state.selectValue,l=t.getOptionValue(e),r=o.filter(function(e){return t.getOptionValue(e)!==l}),i=(n=r[0]||null,a?r:n);t.onChange(i,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e,n,a=t.state.selectValue;t.onChange((e=t.props.isMulti,n=[],e?n:null),{action:"clear",removedValues:a})},t.popValue=function(){var e,n=t.props.isMulti,a=t.state.selectValue,o=a[a.length-1],l=a.slice(0,a.length-1),r=(e=l[0]||null,n?l:e);t.onChange(r,{action:"pop-value",removedValue:o})},t.getFocusedOptionId=function(e){return s3(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return s1(s$(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return iB.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return s6(t.props,e)},t.getOptionValue=function(e){return s5(t.props,e)},t.getStyles=function(e,n){var a=t.props.unstyled,o=sG[e](n,a);o.boxSizing="border-box";var l=t.props.styles[e];return l?l(o,n):o},t.getClassNames=function(e,n){var a,o;return null===(a=(o=t.props.classNames)[e])||void 0===a?void 0:a.call(o,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){var e;return e=t.props,rC(rC({},sp),e.components)},t.buildCategorizedOptions=function(){return s$(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return s0(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:rC({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button)&&!t.props.isDisabled){var n=t.props,a=n.isMulti,o=n.menuIsOpen;t.focusInput(),o?(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout(function(){return t.focusInput()}))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&iH(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,a=n&&n.item(0);a&&(t.initialTouchX=a.clientX,t.initialTouchY=a.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,a=n&&n.item(0);if(a){var o=Math.abs(a.clientX-t.initialTouchX),l=Math.abs(a.clientY-t.initialTouchY);t.userIsDragging=o>5||l>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,a=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(a,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;if(t.menuListRef&&t.menuListRef.contains(document.activeElement)){t.inputRef.focus();return}t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1})},t.onOptionHover=function(e){if(!(t.blockOptionHover||t.state.focusedOption===e)){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return s7(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,a=n.isMulti,o=n.backspaceRemovesValue,l=n.escapeClearsValue,r=n.inputValue,i=n.isClearable,s=n.isDisabled,c=n.menuIsOpen,d=n.onKeyDown,u=n.tabSelectsValue,p=n.openMenuOnFocus,h=t.state,f=h.focusedOption,m=h.focusedValue,v=h.selectValue;if(!s&&!("function"==typeof d&&(d(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!a||r)return;t.focusValue("previous");break;case"ArrowRight":if(!a||r)return;t.focusValue("next");break;case"Delete":case"Backspace":if(r)return;if(m)t.removeValue(m);else{if(!o)return;a?t.popValue():i&&t.clearValue()}break;case"Tab":if(t.isComposing||e.shiftKey||!c||!u||!f||p&&t.isOptionSelected(f,v))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f||t.isComposing)return;t.selectOption(f);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:r}),t.onMenuClose()):i&&l&&t.clearValue();break;case" ":if(r)return;if(!c){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++ce),t.state.selectValue=iV(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),a=t.buildFocusableOptions(),r=a.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=a[r],t.state.focusedOptionId=s3(n,a[r])}return t}return n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&iY(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,a=t.menuIsOpen,o=this.state.isFocused;(o&&!n&&e.isDisabled||o&&a&&!e.menuIsOpen)&&this.focusInput(),o&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):o||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(iY(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,a=n.selectValue,o=n.isFocused,l=this.buildFocusableOptions(),r="first"===e?0:l.length-1;if(!this.props.isMulti){var i=l.indexOf(a[0]);i>-1&&(r=i)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:l[r],focusedOptionId:this.getFocusedOptionId(l[r])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,a=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=n.indexOf(a);a||(o=-1);var l=n.length-1,r=-1;if(n.length){switch(e){case"previous":r=0===o?0:-1===o?l:o-1;break;case"next":o>-1&&o<l&&(r=o+1)}this.setState({inputIsHidden:-1!==r,focusedValue:n[r]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var o=0,l=a.indexOf(n);n||(l=-1),"up"===e?o=l>0?l-1:a.length-1:"down"===e?o=(l+1)%a.length:"pageup"===e?(o=l-t)<0&&(o=0):"pagedown"===e?(o=l+t)>a.length-1&&(o=a.length-1):"last"===e&&(o=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[o],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[o])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(sX):rC(rC({},sX),this.props.theme):sX}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,a=this.getClassNames,o=this.getValue,l=this.selectOption,r=this.setValue,i=this.props,s=i.isMulti,c=i.isRtl,d=i.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:a,getValue:o,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:d,selectOption:l,selectProps:i,setValue:r,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return s4(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return s9(this.props,e,t)}},{key:"filterOption",value:function(e,t){return s8(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"!=typeof this.props.formatOptionLabel)return this.getOptionLabel(e);var n=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:a})}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,a=e.inputId,o=e.inputValue,l=e.tabIndex,i=e.form,s=e.menuIsOpen,c=e.required,d=this.getComponents().Input,u=this.state,p=u.inputIsHidden,h=u.ariaSelection,f=this.commonProps,m=a||this.getElementId("input"),v=rC(rC(rC({"aria-autocomplete":"list","aria-expanded":s,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},s&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?(null==h?void 0:h.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?r.createElement(d,tS({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,form:i,type:"text",value:o},v)):r.createElement(sP,tS({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:iF,onFocus:this.onInputFocus,disabled:t,tabIndex:l,inputMode:"none",form:i,value:""},v))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,a=t.MultiValueContainer,o=t.MultiValueLabel,l=t.MultiValueRemove,i=t.SingleValue,s=t.Placeholder,c=this.commonProps,d=this.props,u=d.controlShouldRenderValue,p=d.isDisabled,h=d.isMulti,f=d.inputValue,m=d.placeholder,v=this.state,g=v.selectValue,b=v.focusedValue,x=v.isFocused;if(!this.hasValue()||!u)return f?null:r.createElement(s,tS({},c,{key:"placeholder",isDisabled:p,isFocused:x,innerProps:{id:this.getElementId("placeholder")}}),m);if(h)return g.map(function(t,i){var s=t===b,d="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return r.createElement(n,tS({},c,{components:{Container:a,Label:o,Remove:l},isFocused:s,isDisabled:p,key:d,index:i,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(f)return null;var y=g[0];return r.createElement(i,tS({},c,{data:y,isDisabled:p}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,o=n.isLoading,l=this.state.isFocused;if(!this.isClearable()||!e||a||!this.hasValue()||o)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,tS({},t,{innerProps:i,isFocused:l}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,o=n.isLoading,l=this.state.isFocused;return e&&o?r.createElement(e,tS({},t,{innerProps:{"aria-hidden":"true"},isDisabled:a,isFocused:l})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var a=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused;return r.createElement(n,tS({},a,{isDisabled:o,isFocused:l}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,a=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,tS({},t,{innerProps:o,isDisabled:n,isFocused:a}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,a=t.GroupHeading,o=t.Menu,l=t.MenuList,i=t.MenuPortal,s=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,u=this.commonProps,p=this.state.focusedOption,h=this.props,f=h.captureMenuScroll,m=h.inputValue,v=h.isLoading,g=h.loadingMessage,b=h.minMenuHeight,x=h.maxMenuHeight,y=h.menuIsOpen,w=h.menuPlacement,j=h.menuPosition,C=h.menuPortalTarget,S=h.menuShouldBlockScroll,_=h.menuShouldScrollIntoView,k=h.noOptionsMessage,N=h.onMenuScrollToTop,E=h.onMenuScrollToBottom;if(!y)return null;var A,P=function(t,n){var a=t.type,o=t.data,l=t.isDisabled,i=t.isSelected,s=t.label,c=t.value,h=p===o,f=l?void 0:function(){return e.onOptionHover(o)},m=l?void 0:function(){return e.selectOption(o)},v="".concat(e.getElementId("option"),"-").concat(n),g={id:v,onClick:m,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:i};return r.createElement(d,tS({},u,{innerProps:g,data:o,isDisabled:l,isSelected:i,key:v,label:s,type:a,value:c,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())A=this.getCategorizedOptions().map(function(t){if("group"===t.type){var o=t.data,l=t.options,i=t.index,s="".concat(e.getElementId("group"),"-").concat(i),c="".concat(s,"-heading");return r.createElement(n,tS({},u,{key:s,data:o,options:l,Heading:a,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return P(e,"".concat(i,"-").concat(e.index))}))}if("option"===t.type)return P(t,"".concat(t.index))});else if(v){var D=g({inputValue:m});if(null===D)return null;A=r.createElement(s,u,D)}else{var O=k({inputValue:m});if(null===O)return null;A=r.createElement(c,u,O)}var R={minMenuHeight:b,maxMenuHeight:x,menuPlacement:w,menuPosition:j,menuShouldScrollIntoView:_},I=r.createElement(i4,tS({},u,R),function(t){var n=t.ref,a=t.placerProps,i=a.placement,s=a.maxHeight;return r.createElement(o,tS({},u,R,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:v,placement:i}),r.createElement(sH,{captureEnabled:f,onTopArrive:N,onBottomArrive:E,lockEnabled:S},function(t){return r.createElement(l,tS({},u,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":u.isMulti,id:e.getElementId("listbox")},isLoading:v,maxHeight:s,focusedOption:p}),A)}))});return C||"fixed"===j?r.createElement(i,tS({},u,{appendTo:C,controlElement:this.controlRef,menuPlacement:w,menuPosition:j}),I):I}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,a=t.isDisabled,o=t.isMulti,l=t.name,i=t.required,s=this.state.selectValue;if(i&&!this.hasValue()&&!a)return r.createElement(sW,{name:l,onFocus:this.onValueInputFocus});if(!(!l||a)){if(o){if(n){var c=s.map(function(t){return e.getOptionValue(t)}).join(n);return r.createElement("input",{name:l,type:"hidden",value:c})}var d=s.length>0?s.map(function(t,n){return r.createElement("input",{key:"i-".concat(n),name:l,type:"hidden",value:e.getOptionValue(t)})}):r.createElement("input",{name:l,type:"hidden",value:""});return r.createElement("div",null,d)}var u=s[0]?this.getOptionValue(s[0]):"";return r.createElement("input",{name:l,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,a=t.focusedOption,o=t.focusedValue,l=t.isFocused,i=t.selectValue,s=this.getFocusableOptions();return r.createElement(sb,tS({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:a,focusedValue:o,isFocused:l,selectValue:i,focusableOptions:s,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,a=e.SelectContainer,o=e.ValueContainer,l=this.props,i=l.className,s=l.id,c=l.isDisabled,d=l.menuIsOpen,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();return r.createElement(a,tS({},p,{className:i,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),r.createElement(t,tS({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:d}),r.createElement(o,tS({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),r.createElement(n,tS({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){var n,a=t.prevProps,o=t.clearFocusValueOnUpdate,l=t.inputIsHiddenAfterUpdate,r=t.ariaSelection,i=t.isFocused,s=t.prevWasFocused,c=t.instancePrefix,d=e.options,u=e.value,p=e.menuIsOpen,h=e.inputValue,f=e.isMulti,m=iV(u),v={};if(a&&(u!==a.value||d!==a.options||p!==a.menuIsOpen||h!==a.inputValue)){var g,b=p?s0(s$(e,m)):[],x=p?s1(s$(e,m),"".concat(c,"-option")):[],y=o?function(e,t){var n=e.focusedValue,a=e.selectValue.indexOf(n);if(a>-1){if(t.indexOf(n)>-1)return n;if(a<t.length)return t[a]}return null}(t,m):null,w=(g=t.focusedOption)&&b.indexOf(g)>-1?g:b[0],j=s3(x,w);v={selectValue:m,focusedOption:w,focusedOptionId:j,focusableOptionsWithIds:x,focusedValue:y,clearFocusValueOnUpdate:!1}}var C=null!=l&&e!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},S=r,_=i&&s;return i&&!_&&(S={value:(n=m[0]||null,f?m:n),options:m,action:"initial-input-focus"},_=!s),(null==r?void 0:r.action)==="initial-input-focus"&&(S=null),rC(rC(rC({},v),C),{},{prevProps:e,ariaSelection:S,prevWasFocused:_})}}],n&&rP(l.prototype,n),a&&rP(l,a),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);ct.defaultProps=sJ;var cn=(0,r.forwardRef)(function(e,t){var n=rA(e);return r.createElement(ct,tS({ref:t},n))}),ca=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),o=String(n.getOptionValue(t)).toLowerCase(),l=String(n.getOptionLabel(t)).toLowerCase();return o===a||l===a},cl={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,a){return!(!e||t.some(function(t){return co(e,t,a)})||n.some(function(t){return co(e,t,a)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},cr=(0,r.forwardRef)(function(e,t){var n,a,o,l,i,s,c,d,u,p,h,f,m,v,g,b,x,y,w,j,C,S,_,k,N,E,A,P,D=(o=void 0!==(a=(n=rA(e)).allowCreateWhileLoading)&&a,i=void 0===(l=n.createOptionPosition)?"last":l,c=void 0===(s=n.formatCreateLabel)?cl.formatCreateLabel:s,u=void 0===(d=n.isValidNewOption)?cl.isValidNewOption:d,h=void 0===(p=n.getNewOptionData)?cl.getNewOptionData:p,f=n.onCreateOption,v=void 0===(m=n.options)?[]:m,g=n.onChange,y=void 0===(x=(b=rN(n,ca)).getOptionValue)?sQ:x,j=void 0===(w=b.getOptionLabel)?sY:w,C=b.inputValue,S=b.isLoading,_=b.isMulti,k=b.value,N=b.name,E=(0,r.useMemo)(function(){return u(C,iV(k),v,{getOptionValue:y,getOptionLabel:j})?h(C,c(C)):void 0},[c,h,j,y,C,u,v,k]),A=(0,r.useMemo)(function(){return(o||!S)&&E?"first"===i?[E].concat(rR(v)):[].concat(rR(v),[E]):v},[o,i,S,E,v]),P=(0,r.useCallback)(function(e,t){if("select-option"!==t.action)return g(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]===E){if(f)f(C);else{var a,o=h(C,C);g((a=[].concat(rR(iV(k)),[o]),_?a:o),{action:"create-option",name:N,option:o})}return}g(e,t)},[h,C,_,N,E,f,g,k]),rC(rC({},b),{},{options:A,onChange:P}));return r.createElement(ct,tS({ref:t},D))}),ci="clear-indicator",cs=e=>{let{clearValue:t,innerProps:{ref:n,...a}}=e;return(0,u.jsx)("div",{className:ci,ref:"string"==typeof n?null:n,...a,onKeyDown:e=>{"Enter"===e.key&&(t(),e.stopPropagation())},role:"button",tabIndex:0,children:(0,u.jsx)(c.a,{className:"".concat(ci,"__icon")})})},cc=e=>{let{children:t,innerProps:n,selectProps:{customProps:{disableKeyDown:a,disableMouseDown:o}={}}={}}=e;return(0,u.jsx)(r.Fragment,{children:(0,u.jsx)(sp.Control,{...e,innerProps:{...n,onKeyDown:e=>{if(a){e.stopPropagation();let t=new CustomEvent("bypassKeyDown",{detail:e});document.dispatchEvent(t)}},onMouseDown:e=>{o||n.onMouseDown(e)}},children:t})})},cd="dropdown-indicator",cu=e=>{let{innerProps:{ref:t,...n}}=e;return(0,u.jsx)("button",{className:cd,ref:t,...n,onKeyDown:e=>{"Enter"===e.key&&(e.key=" ")},type:"button",children:(0,u.jsx)(eP,{className:"".concat(cd,"__icon")})})},cp=e=>(0,u.jsx)(r.Fragment,{children:(0,u.jsx)(sp.Input,{...e,"aria-activedescendant":void 0})}),ch="multi-value";function cf(e,t){return"function"==typeof t?t(e):e.value}var cm=e=>{let t=(0,p.c)(26),{className:n,data:a,innerProps:o,isDisabled:l,selectProps:i}=e,s;t[0]!==i?(s=void 0===i?{}:i,t[0]=i,t[1]=s):s=t[1];let{customProps:c,getOptionValue:d,isSortable:h}=s,f;t[2]!==c?(f=void 0===c?{}:c,t[2]=c,t[3]=f):f=t[3];let{disableMouseDown:m}=f,v;t[4]!==a||t[5]!==d?(v=cf(a,d),t[4]=a,t[5]=d,t[6]=v):v=t[6];let g=!h,b;t[7]!==v||t[8]!==g?(b={id:v,disabled:g},t[7]=v,t[8]=g,t[9]=b):b=t[9];let{attributes:x,isDragging:y,listeners:w,setNodeRef:j,transform:C}=tp(b),S=!l&&h&&"draggable",_=y&&"".concat(ch,"--is-dragging"),k;t[10]!==n||t[11]!==S||t[12]!==_?(k=[ch,n,S,_].filter(Boolean),t[10]=n,t[11]=S,t[12]=_,t[13]=k):k=t[13];let N=k.join(" "),E;if(t[14]!==h||t[15]!==x||t[16]!==w||t[17]!==m||t[18]!==C||t[19]!==o||t[20]!==j||t[21]!==e||t[22]!==N){let n;t[24]!==m?(n=e=>{m||e.stopPropagation()},t[24]=m,t[25]=n):n=t[25],E=(0,u.jsx)(r.Fragment,{children:(0,u.jsx)(sp.MultiValue,{...e,className:N,innerProps:{...h?{...x,...w}:{},...o,onMouseDown:n,ref:j,style:h?{transform:C,...null==x?void 0:x.style}:{}}})}),t[14]=h,t[15]=x,t[16]=w,t[17]=m,t[18]=C,t[19]=o,t[20]=j,t[21]=e,t[22]=N,t[23]=E}else E=t[23];return E},cv="multi-value-label",cg=e=>{let{selectProps:{customProps:{draggableProps:t}={}}={}}=e;return(0,u.jsx)("div",{className:cv,children:(0,u.jsx)(sp.MultiValueLabel,{...e,innerProps:{className:"".concat(cv,"__text"),...t||{}}})})},cb="multi-value-remove",cx=e=>{let t=(0,p.c)(12),{innerProps:n}=e,{className:a,onClick:o,onTouchEnd:l}=n,[i,s]=r.useState(!1),{t:d}=(0,c.d)(),h;if(t[0]!==d||t[1]!==a||t[2]!==o||t[3]!==i||t[4]!==l){let e,n,r,p=d("general:remove"),f;t[6]!==a?(f=[cb,a].filter(Boolean),t[6]=a,t[7]=f):f=t[7],t[8]!==o?(e=e=>{s(!1),o(e)},t[8]=o,t[9]=e):e=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(n=()=>s(!0),r=()=>s(!1),t[10]=n,t[11]=r):(n=t[10],r=t[11]),h=(0,u.jsxs)("button",{"aria-label":p,className:f.join(" "),onClick:e,onKeyDown:cy,onMouseDown:cw,onMouseEnter:n,onMouseLeave:r,onTouchEnd:l,type:"button",children:[(0,u.jsx)(eZ,{className:"".concat(cb,"__tooltip"),show:i,children:d("general:remove")}),(0,u.jsx)(c.a,{className:"".concat(cb,"__icon")})]}),t[0]=d,t[1]=a,t[2]=o,t[3]=i,t[4]=l,t[5]=h}else h=t[5];return h};function cy(e){"Enter"===e.key&&e.stopPropagation()}function cw(e){return e.stopPropagation()}var cj=e=>{let{children:t,className:n}=e;return(0,u.jsx)(r.Fragment,{children:(0,u.jsx)(sp.SingleValue,{...e,className:["react-select--single-value",n].filter(Boolean).join(" "),children:t})})},cC=e=>{let{selectProps:{customProps:t}={}}=e;return(0,u.jsx)("div",{className:"value-container",ref:null==t?void 0:t.droppableRef,children:(0,u.jsx)(sp.ValueContainer,{...e})})},cS=e=>({label:e,value:e}),c_=e=>{let{i18n:t,t:n}=(0,c.d)(),[a,o]=r.useState(""),l=(0,r.useId)(),[i,d]=r.useState(!1);(0,r.useEffect)(()=>{d(!0)},[]);let{className:p,components:f,customProps:m,disabled:v=!1,filterOption:g,getOptionValue:b,isClearable:x=!0,isCreatable:y,isLoading:w,isSearchable:j=!0,noOptionsMessage:C=()=>n("general:noOptions"),numberOnly:S=!1,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,placeholder:A=n("general:selectValue"),showError:P,value:D}=e,O=()=>n("general:loading")+"...",R=[p,"react-select",P&&"react-select--error"].filter(Boolean).join(" ");return i?y?(0,u.jsx)(cr,{captureMenuScroll:!0,isLoading:w,placeholder:(0,h.i0)(A,t),...e,className:R,classNamePrefix:"rs",components:{ClearIndicator:cs,Control:cc,DropdownIndicator:cu,Input:cp,MultiValue:cm,MultiValueLabel:cg,MultiValueRemove:cx,SingleValue:cj,ValueContainer:cC,...f},filterOption:g,inputValue:a,instanceId:l,isClearable:x,isDisabled:v,isSearchable:j,loadingMessage:O,menuPlacement:"auto",noOptionsMessage:C,onChange:_,onInputChange:e=>o(e),onKeyDown:e=>{if(!0===S){let t=!/\D/.test(e.key),n=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key);if(!t&&!n){e.preventDefault();return}}if(!(!D||!a||""===a.trim())&&!(g&&!g(null,a)))switch(e.key){case"Enter":case"Tab":_([...D,cS(a)]),o(""),e.preventDefault()}},onMenuClose:k,onMenuOpen:N,options:E,unstyled:!0,value:D}):(0,u.jsx)(cn,{captureMenuScroll:!0,customProps:m,isLoading:w,placeholder:(0,h.i0)(A,t),...e,className:R,classNamePrefix:"rs",components:{ClearIndicator:cs,Control:cc,DropdownIndicator:cu,Input:cp,MultiValue:cm,MultiValueLabel:cg,MultiValueRemove:cx,SingleValue:cj,ValueContainer:cC,...f},filterOption:g,getOptionValue:b,instanceId:l,isClearable:x,isDisabled:v,isSearchable:j,loadingMessage:O,menuPlacement:"auto",noOptionsMessage:C,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,unstyled:!0,value:D}):(0,u.jsx)(s.d,{height:"calc(var(--base) * 2 + 2px)"})},ck=e=>{let{getOptionValue:t,onChange:n,value:a}=e,o=[];return a&&(o=(Array.isArray(a)?a:[a]).map(e=>cf(e,t))),(0,u.jsx)(tf,{className:"react-select-container",ids:o,onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:o}=e,l=a;a&&Array.isArray(a)&&(l=e4(a,t,o)),n(l)},children:(0,u.jsx)(c_,{...e})})},cN=e=>{let{isMulti:t,isSortable:n}=e;return t&&n?(0,u.jsx)(ck,{...e}):(0,u.jsx)(c_,{...e})},cE=aQ(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:o,step:l=1}={},hasMany:i=!1,label:s,localized:d,max:p=1/0,maxRows:f=1/0,min:m=-1/0,required:v},onChange:g,path:b,readOnly:x,validate:y}=e,{i18n:w,t:j}=(0,c.d)(),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},setValue:A,showError:P,value:D}=aK({path:b,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,max:p,min:m,required:v})},[y,m,p,v])}),O=(0,r.useCallback)(e=>{let t=parseFloat(e.target.value),n=t;Number.isNaN(t)&&(n=null),"function"==typeof g&&g(n),A(n)},[g,A]),[R,I]=(0,r.useState)([]),T=(0,r.useCallback)(e=>{if(!x){var t;A(e?Array.isArray(e)?e.map(e=>{var t;return Number((null===(t=e.value)||void 0===t?void 0:t.value)||e.value)}):[Number((null===(t=e.value)||void 0===t?void 0:t.value)||e.value)]:[])}},[x,A]);(0,r.useEffect)(()=>{i&&Array.isArray(D)&&I(D.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[D,i]);let L=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsxs)("div",{className:[aX,"number",n,P&&"error",x&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:L,children:[(0,u.jsx)($,{CustomComponent:E,Fallback:(0,u.jsx)(n4,{label:s,localized:d,path:b,required:v})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)($,{CustomComponent:N,Fallback:(0,u.jsx)(tx,{path:b,showError:P})}),i?(0,u.jsx)(cN,{className:"field-".concat(b.replace(/\./g,"__")),disabled:x,filterOption:(e,t)=>{let n=Array.isArray(D)&&D.length>=f;return(0,C.h)(t)&&!n},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(D)&&D.length>=f?j("validation:limitReached",{max:f,value:D.length+1}):null,onChange:T,options:[],placeholder:j("general:enterAValue"),showError:P,value:R}):(0,u.jsxs)("div",{children:[_,(0,u.jsx)("input",{disabled:x,id:"field-".concat(b.replace(/\./g,"__")),max:p,min:m,name:b,onChange:O,onWheel:e=>{e.target.blur()},placeholder:(0,h.i0)(o,w),step:l,type:"number",value:"number"==typeof D?D:""}),S]}),(0,u.jsx)($,{CustomComponent:k,Fallback:(0,u.jsx)(tb,{description:a,path:b})})]})]})}),cA="point",cP=aQ(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:o,step:l}={},label:i,localized:s,required:d},path:p,readOnly:f,validate:m}=e,{i18n:v,t:g}=(0,c.d)(),{customComponents:{AfterInput:b,BeforeInput:x,Description:y,Error:w,Label:j}={},setValue:C,showError:S,value:_=[null,null]}=aK({path:p,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:d})},[m,d])}),k=(0,r.useCallback)((e,t)=>{let n=parseFloat(e.target.value);Number.isNaN(n)&&(n=e.target.value);let a=[..._];a[t]=n,C(a)},[C,_]),N=e=>{let t=g("longitude"===e?"fields:longitude":"fields:latitude"),n=i?(0,h.i0)(i,v):"";return"".concat(n).concat(n?" - ":"").concat(t)},E=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsxs)("div",{className:[aX,cA,n,S&&"error",f&&"read-only"].filter(Boolean).join(" "),style:E,children:[(0,u.jsxs)("ul",{className:"".concat(cA,"__wrap"),children:[(0,u.jsxs)("li",{children:[(0,u.jsx)($,{CustomComponent:j,Fallback:(0,u.jsx)(n4,{label:N("longitude"),localized:s,path:p,required:d})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[x,(0,u.jsx)("input",{disabled:f,id:"field-longitude-".concat(null==p?void 0:p.replace(/\./g,"__")),name:"".concat(p,".longitude"),onChange:e=>k(e,0),placeholder:(0,h.i0)(o,v),step:l,type:"number",value:_&&"number"==typeof _[0]?_[0]:""}),b]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)($,{CustomComponent:j,Fallback:(0,u.jsx)(n4,{label:N("latitude"),localized:s,path:p,required:d})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[(0,u.jsx)($,{CustomComponent:w,Fallback:(0,u.jsx)(tx,{path:p,showError:S})}),x,(0,u.jsx)("input",{disabled:f,id:"field-latitude-".concat(null==p?void 0:p.replace(/\./g,"__")),name:"".concat(p,".latitude"),onChange:e=>k(e,1),placeholder:(0,h.i0)(o,v),step:l,type:"number",value:_&&"number"==typeof _[1]?_[1]:""}),b]})]})]}),(0,u.jsx)($,{CustomComponent:y,Fallback:(0,u.jsx)(tb,{description:a,path:p})})]})}),cD="radio-input",cO=e=>{let t,n=(0,p.c)(16),{isSelected:a,onChange:o,option:l,path:r,readOnly:i,uuid:s}=e,{i18n:d}=(0,c.d)(),f=tj(),m="field-".concat(r,"-").concat(l.value).concat(f>1?"-".concat(f):"").concat(s?"-".concat(s):""),v=a&&"".concat(cD,"--is-selected"),g;n[0]!==v?(g=[cD,v].filter(Boolean),n[0]=v,n[1]=g):g=n[1];let b=g.join(" "),x;if(n[2]!==o||n[3]!==l.value?(x=()=>"function"==typeof o?o(l.value):null,n[2]=o,n[3]=l.value,n[4]=x):x=n[4],n[5]!==a||n[6]!==i||n[7]!==m||n[8]!==r||n[9]!==x||n[10]!==l.label||n[11]!==d||n[12]!==b){let e=(0,u.jsx)("input",{checked:a,disabled:i,id:m,name:r,onChange:x,type:"radio"}),o=i&&"".concat(cD,"__styled-radio--disabled"),s;n[14]!==o?(s=["".concat(cD,"__styled-radio"),o].filter(Boolean),n[14]=o,n[15]=s):s=n[15],t=(0,u.jsx)("label",{htmlFor:m,children:(0,u.jsxs)("div",{className:b,children:[e,(0,u.jsx)("span",{className:s.join(" ")}),(0,u.jsx)("span",{className:"".concat(cD,"__label"),children:(0,h.i0)(l.label,d)})]})}),n[5]=a,n[6]=i,n[7]=m,n[8]=r,n[9]=x,n[10]=l.label,n[11]=d,n[12]=b,n[13]=t}else t=n[13];return t},cR="radio-group",cI=aQ(e=>{let{disableModifyingForm:t,field:n,field:{admin:{className:a,description:o,layout:l="horizontal"}={},label:i,localized:s,options:c=[],required:d}={},onChange:p,path:h,readOnly:f,validate:m,value:v}=e,{uuid:g}=em(),{customComponents:{Description:b,Error:x,Label:y}={},setValue:w,showError:C,value:S}=aK({path:h,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,options:c,required:d})},[m,c,d])}),_=S||v,k=(0,r.useMemo)(()=>aG(n),[n]);return(0,u.jsxs)("div",{className:[aX,cR,a,"".concat(cR,"--layout-").concat(l),C&&"error",f&&"".concat(cR,"--read-only")].filter(Boolean).join(" "),style:k,children:[(0,u.jsx)($,{CustomComponent:x,Fallback:(0,u.jsx)(tx,{path:h,showError:C})}),(0,u.jsx)($,{CustomComponent:y,Fallback:(0,u.jsx)(n4,{label:i,localized:s,path:h,required:d})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)("ul",{className:"".concat(cR,"--group"),id:"field-".concat(h.replace(/\./g,"__")),children:c.map(e=>{let n="",a=String(n=(0,j.GN)(e)?e.value:e)===String(_),o="field-".concat(h,"-").concat(n).concat(g?"-".concat(g):"");return(0,u.jsx)("li",{children:(0,u.jsx)(cO,{id:o,isSelected:a,onChange:()=>{"function"==typeof p&&p(n),f||w(n,!!t)},option:(0,j.GN)(e)?e:{label:e,value:e},path:h,readOnly:f,uuid:g})},"".concat(h," - ").concat(n))})}),(0,u.jsx)($,{CustomComponent:b,Fallback:(0,u.jsx)(tb,{description:o,path:h})})]})]})}),cT="relationship-add-new",cL=e=>{let t,n,a,o,l,i,s=(0,p.c)(46),{Button:d,hasMany:f,path:m,relationTo:v,setValue:g,unstyled:b,value:x}=e,y=lP(v),{permissions:w}=nY(),[j,C]=(0,r.useState)(!1),[S,_]=(0,r.useState)(),k=y.length>1,N;s[0]!==k||s[1]!==y?(N=()=>k?void 0:y[0],s[0]=k,s[1]=y,s[2]=N):N=s[2];let[E,A]=(0,r.useState)(N),[P,D]=(0,r.useState)(!1),{i18n:O,t:R}=(0,c.d)(),[I,T]=(0,r.useState)(!1),L=null==E?void 0:E.slug,M;s[3]!==L?(M={collectionSlug:L},s[3]=L,s[4]=M):M=s[4];let[F,B,V]=lG(M),{isDrawerOpen:z,toggleDrawer:U}=V,H;s[5]!==v||s[6]!==E||s[7]!==x||s[8]!==f||s[9]!==g?(H=e=>{let{doc:t,operation:n}=e;if("create"===n){let e=Array.isArray(v)?{relationTo:null==E?void 0:E.slug,value:t.id}:t.id;(Array.isArray(v)&&Array.isArray(x)?x.some(e=>e&&"object"==typeof e&&e.value===t.id):x===t.id)||g(f?[...Array.isArray(x)?x:[],e]:e),_(void 0)}},s[5]=v,s[6]=E,s[7]=x,s[8]=f,s[9]=g,s[10]=H):H=s[10];let q=H,W;s[11]===Symbol.for("react.memo_cache_sentinel")?(W=e=>{D(e)},s[11]=W):W=s[11];let K=W,Y,Q;s[12]!==w||s[13]!==y?(Y=()=>{var e,t;w&&(1===y.length?C(null===(e=w.collections[null===(t=y[0])||void 0===t?void 0:t.slug])||void 0===e?void 0:e.create):C(y.some(e=>{var t;return null===(t=w.collections[null==e?void 0:e.slug])||void 0===t?void 0:t.create})))},Q=[w,y],s[12]=w,s[13]=y,s[14]=Y,s[15]=Q):(Y=s[14],Q=s[15]),(0,r.useEffect)(Y,Q),s[16]!==k||s[17]!==S||s[18]!==y?(t=()=>{k&&S&&A(y.find(e=>(null==e?void 0:e.slug)===S))},n=[S,k,y],s[16]=k,s[17]=S,s[18]=y,s[19]=t,s[20]=n):(t=s[19],n=s[20]),(0,r.useEffect)(t,n),s[21]!==k||s[22]!==E||s[23]!==U?(a=()=>{k&&E&&(U(),_(void 0))},o=[U,k,E],s[21]=k,s[22]=E,s[23]=U,s[24]=a,s[25]=o):(a=s[24],o=s[25]),(0,r.useEffect)(a,o),s[26]!==k||s[27]!==z?(l=()=>{k&&!z&&A(void 0)},i=[z,k],s[26]=k,s[27]=z,s[28]=l,s[29]=i):(l=s[28],i=s[29]),(0,r.useEffect)(l,i);let G=y[0],X=G.labels.singular,J;if(s[30]!==G.labels.singular||s[31]!==O||s[32]!==R||s[33]!==j||s[34]!==m||s[35]!==y||s[36]!==b||s[37]!==d||s[38]!==I||s[39]!==B||s[40]!==q||s[41]!==F||s[42]!==P||s[43]!==w||s[44]!==E){J=Symbol.for("react.early_return_sentinel");e:{let e=R("fields:addNewLabel",{label:(0,h.i0)(X,O)});if(j){var Z;J=(0,u.jsxs)("div",{className:cT,id:"".concat(m,"-add-new"),children:[1===y.length&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(B,{className:["".concat(cT,"__add-button"),b&&"".concat(cT,"__add-button--unstyled")].filter(Boolean).join(" "),onClick:()=>T(!1),onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:d||(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(eZ,{className:"".concat(cT,"__tooltip"),show:I,children:e}),(0,u.jsx)(eR,{})]})}),(0,u.jsx)(F,{onSave:q})]}),y.length>1&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(eJ,{button:d||(0,u.jsx)(e1,{buttonStyle:"none",className:"".concat(cT,"__add-button"),tooltip:P?void 0:R("fields:addNew"),children:(0,u.jsx)(eR,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:K,render:e=>{let{close:t}=e;return(0,u.jsx)(eF,{children:y.map(e=>{var n;return w.collections[null==e?void 0:e.slug].create?(0,u.jsx)(eB,{className:"".concat(cT,"__relation-button--").concat(null==e?void 0:e.slug),onClick:()=>{t(),_(null==e?void 0:e.slug)},children:(0,h.i0)(null==e?void 0:null===(n=e.labels)||void 0===n?void 0:n.singular,O)},null==e?void 0:e.slug):null})})},size:"medium"}),E&&(null===(Z=w.collections[null==E?void 0:E.slug])||void 0===Z?void 0:Z.create)&&(0,u.jsx)(F,{onSave:q})]})]});break e}}s[30]=G.labels.singular,s[31]=O,s[32]=R,s[33]=j,s[34]=m,s[35]=y,s[36]=b,s[37]=d,s[38]=I,s[39]=B,s[40]=q,s[41]=F,s[42]=P,s[43]=w,s[44]=E,s[45]=J}else J=s[45];return J!==Symbol.for("react.early_return_sentinel")?J:null},cM=(e,t)=>{let n=(0,p.c)(3),a=(0,r.useRef)(void 0),o;return n[0]!==e||n[1]!==t?(o=function(){for(var n=arguments.length,o=Array(n),l=0;l<n;l++)o[l]=arguments[l];clearTimeout(a.current),a.current=setTimeout(()=>{clearTimeout(a.current),e(...o)},t)},n[0]=e,n[1]=t,n[2]=o):o=n[2],o},cF=e=>{let{hasMany:t,relationTo:n,value:a}=e,o=Array.isArray(n),l;if(l=Array.isArray(n)?n.reduce((e,t)=>({...e,[t]:[]}),{}):{[n]:[]},null===a)return l;let r=(e,t)=>{("string"==typeof t||"number"==typeof t)&&"string"==typeof e&&(l[e]?l[e].push(t):l[e]=[t])};return t&&Array.isArray(a)?a.forEach(e=>{o&&"object"==typeof e&&"relationTo"in e&&"value"in e&&r(e.relationTo,e.value),o||"string"!=typeof n||r(n,e)}):o&&Array.isArray(n)?"object"==typeof a&&"relationTo"in a&&"value"in a&&r(a.relationTo,a.value):r(n,a),l},cB=e=>{let{allowEdit:t,options:n,value:a}=e;if(a||"number"==typeof a){let e;return Array.isArray(a)?a.map(e=>{let a;return n.forEach(t=>{a||(a=t.options.find(t=>"object"==typeof e?t.value===e.value&&t.relationTo===e.relationTo:e===t.value))}),a?{allowEdit:t,...a}:void 0}):(n.forEach(t=>{e||(e=t.options.find(e=>"object"==typeof a?e.value===a.value&&e.relationTo===a.relationTo:a===e.value))}),e?{allowEdit:t,...e}:void 0)}},cV=e=>e.reduce((e,t)=>t.options?[...e,...cV(t.options)]:[...e,{id:t.value,relationTo:t.relationTo}],[]),cz=e=>e.sort((e,t)=>{var n,a;return"function"==typeof(null==e?void 0:null===(n=e.label)||void 0===n?void 0:n.localeCompare)&&"function"==typeof(null==t?void 0:null===(a=t.label)||void 0===a?void 0:a.localeCompare)?e.label.localeCompare(t.label):0}),cU=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,config:a,docs:o,i18n:l,ids:r=[],sort:i}=t,s=n.slug,c=cV(e),d=[...e],u=d.find(e=>e.label===n.labels.plural),p=o.reduce((e,t)=>0===c.filter(e=>e.id===t.id&&e.relationTo===s).length?(c.push({id:t.id,relationTo:s}),[...e,{label:aO({collectionConfig:n,data:t,dateFormat:a.admin.dateFormat,fallback:"".concat(l.t("general:untitled")," - ID: ").concat(t.id),i18n:l}),relationTo:s,value:t.id}]):e,[]);if(r.forEach(e=>{0===c.filter(t=>t.id===e&&t.relationTo===s).length&&(c.push({id:e,relationTo:s}),p.push({label:"".concat(l.t("general:untitled")," - ID: ").concat(e),relationTo:s,value:e}))}),u){let e=[...u.options,...p];u.options=i?cz(e):e}else d.push({label:(0,h.i0)(n.labels.plural,l),options:i?cz(p):p});return d}case"CLEAR":{let n=t.exemptValues?Array.isArray(t.exemptValues)?t.exemptValues:[t.exemptValues]:[];return e.filter(e=>{let t=e.options.filter(e=>!!n&&n.some(t=>t&&e.value===("object"==typeof t?t.value:t)));return e.options=t,t.length>0})}case"REMOVE":{let{id:n,collection:a}=t,o=[...e],l=o.findIndex(e=>e.label===a.labels.plural);return -1===l||(o[l]={...o[l],options:o[l].options.filter(e=>e.value!==n)}),o}case"UPDATE":{var n,a;let{collection:o,config:l,doc:r,i18n:i}=t,s=o.slug,c=[...e],d=aO({collectionConfig:o,data:r,dateFormat:l.admin.dateFormat,fallback:"".concat(i.t("general:untitled")," - ID: ").concat(r.id),i18n:i}),u=null===(a=c.find(e=>e.label===o.labels.plural))||void 0===a?void 0:null===(n=a.options)||void 0===n?void 0:n.find(e=>e.value===r.id);return u&&(u.label=d,u.relationTo=s),c}default:return e}},cH="relationship--multi-value-label",cq=e=>{var t,n;let a;let o=(0,p.c)(26),{data:l,selectProps:i}=e,{allowEdit:s,label:d,relationTo:h,value:f}=l,m;o[0]!==i?(m=void 0===i?{}:i,o[0]=i,o[1]=m):m=o[1];let{customProps:v}=m,g;o[2]!==v?(g=void 0===v?{}:v,o[2]=v,o[3]=g):g=o[3];let{draggableProps:b,onDocumentDrawerOpen:x}=g,{permissions:y}=nY(),[w,j]=(0,r.useState)(!1),{t:C}=(0,c.d)(),S=!!(null==y?void 0:null===(n=y.collections)||void 0===n?void 0:null===(t=n[h])||void 0===t?void 0:t.read),_;if(o[4]!==b?(_=b||{},o[4]=b,o[5]=_):_=o[5],o[6]!==_||o[7]!==e||o[8]!==h||o[9]!==S||o[10]!==s||o[11]!==d||o[12]!==x||o[13]!==f||o[14]!==C||o[15]!==w){let t;o[17]!==h||o[18]!==S||o[19]!==s||o[20]!==d||o[21]!==x||o[22]!==f||o[23]!==C||o[24]!==w?(t=h&&S&&!1!==s&&(0,u.jsx)(r.Fragment,{children:(0,u.jsxs)("button",{"aria-label":"Edit ".concat(d),className:"".concat(cH,"__drawer-toggler"),onClick:()=>{j(!1),x({id:f,collectionSlug:h,hasReadPermission:S})},onKeyDown:cW,onMouseDown:cK,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),onTouchEnd:cY,type:"button",children:[(0,u.jsx)(eZ,{className:"".concat(cH,"__tooltip"),show:w,children:C("general:editLabel",{label:""})}),(0,u.jsx)(eD,{className:"".concat(cH,"__icon")})]})}),o[17]=h,o[18]=S,o[19]=s,o[20]=d,o[21]=x,o[22]=f,o[23]=C,o[24]=w,o[25]=t):t=o[25],a=(0,u.jsxs)("div",{className:cH,children:[(0,u.jsx)("div",{className:"".concat(cH,"__content"),children:(0,u.jsx)(sp.MultiValueLabel,{...e,innerProps:{className:"".concat(cH,"__text"),..._}})}),t]}),o[6]=_,o[7]=e,o[8]=h,o[9]=S,o[10]=s,o[11]=d,o[12]=x,o[13]=f,o[14]=C,o[15]=w,o[16]=a}else a=o[16];return a};function cW(e){"Enter"===e.key&&e.stopPropagation()}function cK(e){return e.stopPropagation()}function cY(e){return e.stopPropagation()}var cQ="relationship--single-value",cG=e=>{var t,n;let a=(0,p.c)(24),{children:o,data:l,selectProps:i}=e,{allowEdit:s,label:d,relationTo:h,value:f}=l,m;a[0]!==i?(m=void 0===i?{}:i,a[0]=i,a[1]=m):m=a[1];let{customProps:v}=m,g;a[2]!==v?(g=void 0===v?{}:v,a[2]=v,a[3]=g):g=a[3];let{onDocumentDrawerOpen:b}=g,[x,y]=(0,r.useState)(!1),{t:w}=(0,c.d)(),{permissions:j}=nY(),C=!!(null==j?void 0:null===(n=j.collections)||void 0===n?void 0:null===(t=n[h])||void 0===t?void 0:t.read),S;if(a[4]!==o||a[5]!==h||a[6]!==C||a[7]!==s||a[8]!==d||a[9]!==w||a[10]!==b||a[11]!==f||a[12]!==x||a[13]!==e){let t;a[15]!==h||a[16]!==C||a[17]!==s||a[18]!==d||a[19]!==w||a[20]!==b||a[21]!==f||a[22]!==x?(t=h&&C&&!1!==s&&(0,u.jsx)(r.Fragment,{children:(0,u.jsxs)("button",{"aria-label":w("general:editLabel",{label:d}),className:"".concat(cQ,"__drawer-toggler"),onClick:()=>{y(!1),b({id:f,collectionSlug:h,hasReadPermission:C})},onKeyDown:cX,onMouseDown:cJ,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onTouchEnd:cZ,type:"button",children:[(0,u.jsx)(eZ,{className:"".concat(cQ,"__tooltip"),show:x,children:w("general:edit")}),(0,u.jsx)(eD,{})]})}),a[15]=h,a[16]=C,a[17]=s,a[18]=d,a[19]=w,a[20]=b,a[21]=f,a[22]=x,a[23]=t):t=a[23],S=(0,u.jsx)(sp.SingleValue,{...e,className:cQ,children:(0,u.jsx)("div",{className:"".concat(cQ,"__label"),children:(0,u.jsxs)("div",{className:"".concat(cQ,"__label-text"),children:[(0,u.jsx)("div",{className:"".concat(cQ,"__text"),children:o}),t]})})}),a[4]=o,a[5]=h,a[6]=C,a[7]=s,a[8]=d,a[9]=w,a[10]=b,a[11]=f,a[12]=x,a[13]=e,a[14]=S}else S=a[14];return S};function cX(e){"Enter"===e.key&&e.stopPropagation()}function cJ(e){return e.stopPropagation()}function cZ(e){return e.stopPropagation()}var c$="relationship",c0=aQ(e=>{let{field:t,field:{admin:{allowCreate:n=!0,allowEdit:a=!0,className:o,description:l,isSortable:i=!0,sortOptions:d}={},hasMany:p,label:h,localized:f,relationTo:m,required:v},path:b,readOnly:x,validate:y}=e,{config:w}=(0,s.b)(),{collections:j,routes:{api:C},serverURL:_}=w,{i18n:k,t:N}=(0,c.d)(),{permissions:E}=nY(),{code:A}=n6(),P=Array.isArray(m),[D,O]=(0,r.useState)({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[R,I]=(0,r.useState)(-1),[T,L]=(0,r.useState)({}),[M,F]=(0,r.useState)(""),[B,V]=(0,r.useState)(""),[z,U]=(0,r.useState)(!1),[H,q]=(0,r.useState)(!1),[W,K]=(0,r.useState)(!1),Y=(0,r.useRef)(!1),{customComponents:{Description:Q,Error:G,Label:X}={},filterOptions:J,initialValue:Z,setValue:ee,showError:et,value:en}=aK({path:b,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,required:v})},[y,v])}),[ea,eo]=(0,r.useReducer)(cU,[]),el=(0,r.useRef)(en);el.current=en;let[er,,{isDrawerOpen:ei,openDrawer:es}]=lG({id:D.id,collectionSlug:D.collectionSlug}),ec=(0,r.useRef)(!1),ed=(0,r.useCallback)(async e=>{let{filterOptions:t,lastFullyLoadedRelation:n,lastLoadedPage:a,onSuccess:o,search:l,sort:r,value:i}=e;if(!E)return;let s="u">typeof n?n:-1,c=Array.isArray(m)?m:[m],u=-1===s?c:c.slice(s+1),h=0,f=cF({hasMany:p,relationTo:m,value:i});M||(await u.reduce(async(e,n)=>{let o=null==t?void 0:t[n],i;if(i=B!==l?1:a[n]+1,await e,!1===o)return I(c.indexOf(n)),Promise.resolve();if(h<10){var s;let e=j.find(e=>e.slug===n),t=(null==e?void 0:null===(s=e.admin)||void 0===s?void 0:s.useAsTitle)||"id",a=(null==e?void 0:e.defaultSort)||"id";"string"==typeof d?a=d:(null==d?void 0:d[n])&&(a=d[n]);let u={depth:0,draft:!0,limit:10,locale:A,page:i,sort:a,where:{and:[{id:{not_in:f[n]}}]}};l&&u.where.and.push({[t]:{like:l}}),o&&"boolean"!=typeof o&&u.where.and.push(o);let p=await fetch("".concat(_).concat(C,"/").concat(n),{body:g.P(u),credentials:"include",headers:{"Accept-Language":k.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"},method:"POST"});if(p.ok){let t=await p.json();L(e=>({...e,[n]:i})),t.nextPage||I(c.indexOf(n)),t.docs.length>0&&(h+=t.docs.length,eo({type:"ADD",collection:e,config:w,docs:t.docs,i18n:k,sort:r}))}else 403===p.status?(I(c.indexOf(n)),eo({type:"ADD",collection:e,config:w,docs:[],i18n:k,ids:f[n],sort:r})):F(N("error:unspecific"))}},Promise.resolve()),"function"==typeof o&&o())},[E,m,p,M,B,j,A,_,d,C,k,w,N]),eu=cM((e,t)=>{ed({filterOptions:J,lastLoadedPage:{},search:e,sort:!0,value:t}),V(e)},300),ep=(0,r.useCallback)((e,t)=>{B!==e&&(L({}),eu(e,t,""!==e))},[B,eu]);lc(()=>{Object.entries(cF({hasMany:p,relationTo:m,value:en})).reduce(async(e,t)=>{let[n,a]=t;await e;let o=a.filter(e=>!ea.find(t=>{var a;return null==t?void 0:null===(a=t.options)||void 0===a?void 0:a.find(t=>t.value===e&&t.relationTo===n)}));if(o.length>0){let e={depth:0,draft:!0,limit:o.length,locale:A,where:{id:{in:o}}};if(!M){let t=await fetch("".concat(_).concat(C,"/").concat(n),{body:g.P(e),credentials:"include",headers:{"Accept-Language":k.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"},method:"POST"}),a=j.find(e=>e.slug===n),l=[];t.ok&&(l=(await t.json()).docs),eo({type:"ADD",collection:a,config:w,docs:l,i18n:k,ids:o,sort:!0})}}},Promise.resolve())},[en],[ea,p,M,j,P,_,C,k,m,A,w]),(0,r.useEffect)(()=>{q(!(Array.isArray(m)?m:[m]).reduce((e,t)=>{var n,a;return"id"===((null===(a=j.find(e=>e.slug===t))||void 0===a?void 0:null===(n=a.admin)||void 0===n?void 0:n.useAsTitle)||"id")&&e},!0))},[m,j]),lc(()=>{Y.current&&W&&(U(!0),ed({filterOptions:J,lastLoadedPage:{},onSuccess:()=>{Y.current=!0,U(!1)},value:el.current})),eo({type:"CLEAR",exemptValues:el.current}),I(-1),L({})},[m,J,A,b,W],[ed]);let eh=(0,r.useCallback)(e=>{eo({type:"UPDATE",collection:e.collectionConfig,config:w,doc:e.doc,i18n:k});let t=el.current,n=e.doc.id;if(p){let a=t.some(e=>"string"==typeof e?e===n:e.value===n);ee(t.map(t=>t.value===n?{relationTo:e.collectionConfig.slug,value:n}:t),a)}else{let a=t===n;ee({relationTo:e.collectionConfig.slug,value:n},a)}},[k,w,p,ee]),ef=(0,r.useCallback)(e=>{eo({type:"ADD",collection:e.collectionConfig,config:w,docs:[e.doc],i18n:k,sort:!0}),ee(p?el.current?el.current.concat({relationTo:e.collectionConfig.slug,value:e.doc.id}):null:{relationTo:e.collectionConfig.slug,value:e.doc.id})},[k,w,p,ee]),em=(0,r.useCallback)(e=>{eo({id:e.id,type:"REMOVE",collection:e.collectionConfig,config:w,i18n:k}),ee(p&&el.current?el.current.filter(t=>t.value!==e.id):null)},[k,w,p,ee]),ev=(0,r.useCallback)((e,t)=>{if(!t)return!0;let n=(0,S.Z)(t||""),a=String(e.label);for(;a.length>250;){let e=a.indexOf(" ",t.length);if(n.test(a.slice(0,-1===e?t.length:e+1)))return!0;a=a.slice(-1===e?t.length:e+1)}return n.test(a.slice(-250))},[]),eg=(0,r.useCallback)(e=>{let{id:t,collectionSlug:n,hasReadPermission:a}=e;ec.current=!0,O({id:t,collectionSlug:n,hasReadPermission:a})},[]);(0,r.useEffect)(()=>{ec.current&&(es(),ec.current=!1)},[es,D]);let eb=cB({allowEdit:a,options:ea,value:en});Array.isArray(eb)||(null==eb?void 0:eb.value)!=="null"||(eb.value=null);let ex=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsxs)("div",{className:[aX,c$,o,et&&"error",M&&"error-loading",x&&"".concat(c$,"--read-only"),!x&&n&&"".concat(c$,"--allow-create")].filter(Boolean).join(" "),id:"field-".concat(b.replace(/\./g,"__")),style:ex,children:[(0,u.jsx)($,{CustomComponent:X,Fallback:(0,u.jsx)(n4,{label:h,localized:f,path:b,required:v})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)($,{CustomComponent:G,Fallback:(0,u.jsx)(tx,{path:b,showError:et})}),!M&&(0,u.jsxs)("div",{className:"".concat(c$,"__wrap"),children:[(0,u.jsx)(cN,{backspaceRemovesValue:!ei,components:{MultiValueLabel:cq,SingleValue:cG},customProps:{disableKeyDown:ei,disableMouseDown:ei,onDocumentDrawerOpen:eg,onSave:eh},disabled:x||ei,filterOption:H?ev:void 0,getOptionValue:e=>{if(e)return p&&Array.isArray(m)?"".concat(e.relationTo,"_").concat(e.value):e.value},isLoading:z,isMulti:p,isSortable:i,onChange:x?void 0:e=>{null===e?ee(p?[]:null):p&&Array.isArray(e)?ee(e?e.map(e=>P?{relationTo:e.relationTo,value:e.value}:e.value):null):P&&!Array.isArray(e)?ee({relationTo:e.relationTo,value:e.value}):Array.isArray(e)||ee(e.value)},onInputChange:e=>ep(e,en),onMenuClose:()=>{K(!1)},onMenuOpen:()=>{K(!0),Y.current||(U(!0),ed({filterOptions:J,lastLoadedPage:{},onSuccess:()=>{Y.current=!0,U(!1)},value:Z}))},onMenuScrollToBottom:()=>{ed({filterOptions:J,lastFullyLoadedRelation:R,lastLoadedPage:T,search:B,sort:!1,value:Z})},options:ea,showError:et,value:null!=eb?eb:null}),!x&&n&&(0,u.jsx)(cL,{hasMany:p,path:b,relationTo:m,setValue:ee,value:en})]}),M&&(0,u.jsx)("div",{className:"".concat(c$,"__error-loading"),children:M}),(0,u.jsx)($,{CustomComponent:Q,Fallback:(0,u.jsx)(tb,{description:l,path:b})})]}),D.collectionSlug&&D.hasReadPermission&&(0,u.jsx)(er,{onDelete:em,onDuplicate:ef,onSave:eh})]})}),c1=()=>null,c2=aQ(e=>{let{field:{admin:{className:t}={},fields:n},forceRender:a=!1,indexPath:o="",parentPath:l="",parentSchemaPath:r="",permissions:i,readOnly:s}=e;return(0,u.jsx)(o9,{children:(0,u.jsx)("div",{className:[aX,"row",t].filter(Boolean).join(" "),children:(0,u.jsx)(uX,{className:"".concat("row","__fields"),fields:n,forceRender:a,margins:!1,parentIndexPath:o,parentPath:l,parentSchemaPath:r,permissions:i,readOnly:s})})})}),c3=e=>{let t=(0,p.c)(37),{AfterInput:n,BeforeInput:a,className:o,Description:l,description:r,Error:i,hasMany:s,isClearable:d,isSortable:f,label:m,Label:v,localized:g,onChange:b,options:x,path:y,readOnly:w,showError:j,style:C,value:S}=e,_=void 0!==s&&s,k=void 0===d||d,N=void 0===f||f,{i18n:E}=(0,c.d)(),A;if(t[0]!==_||t[1]!==S||t[2]!==x||t[3]!==E||t[4]!==j||t[5]!==w||t[6]!==o||t[7]!==y||t[8]!==m||t[9]!==g||t[10]!==v||t[11]!==i||t[12]!==k||t[13]!==N||t[14]!==b||t[15]!==a||t[16]!==n||t[17]!==r||t[18]!==l||t[19]!==C){let e,s;if(_&&Array.isArray(S)){let n;t[21]!==x||t[22]!==E?(n=e=>{var t;let n=x.find(t=>t.value===e);return{label:n?(0,h.i0)(n.label,E):e,value:null!==(t=null==n?void 0:n.value)&&void 0!==t?t:e}},t[21]=x,t[22]=E,t[23]=n):n=t[23],e=S.map(n)}else if(S){var P;let n,a;if(t[24]!==S||t[25]!==x||t[26]!==E){let e;t[29]!==S?(e=e=>e.value===S,t[29]=S,t[30]=e):e=t[30],a=(n=x.find(e))?(0,h.i0)(n.label,E):S,t[24]=S,t[25]=x,t[26]=E,t[27]=n,t[28]=a}else n=t[27],a=t[28];e={label:a,value:null!==(P=null==n?void 0:n.value)&&void 0!==P?P:S}}let c=j&&"error",d=w&&"read-only",p;t[31]!==o||t[32]!==c||t[33]!==d?(p=[aX,"select",o,c,d].filter(Boolean),t[31]=o,t[32]=c,t[33]=d,t[34]=p):p=t[34],t[35]!==E?(s=e=>({...e,label:(0,h.i0)(e.label,E)}),t[35]=E,t[36]=s):s=t[36],A=(0,u.jsxs)("div",{className:p.join(" "),id:"field-".concat(y.replace(/\./g,"__")),style:C,children:[(0,u.jsx)($,{CustomComponent:v,Fallback:(0,u.jsx)(n4,{label:m,localized:g,path:y,required:!1})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)($,{CustomComponent:i,Fallback:(0,u.jsx)(tx,{path:y,showError:j})}),a,(0,u.jsx)(cN,{disabled:w,isClearable:k,isMulti:_,isSortable:N,onChange:b,options:x.map(s),showError:j,value:e}),n]}),(0,u.jsx)($,{CustomComponent:l,Fallback:(0,u.jsx)(tb,{description:r,path:y})})]}),t[0]=_,t[1]=S,t[2]=x,t[3]=E,t[4]=j,t[5]=w,t[6]=o,t[7]=y,t[8]=m,t[9]=g,t[10]=v,t[11]=i,t[12]=k,t[13]=N,t[14]=b,t[15]=a,t[16]=n,t[17]=r,t[18]=l,t[19]=C,t[20]=A}else A=t[20];return A},c6=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),c5=aQ(e=>{let{field:t,field:{name:n,admin:{className:a,description:o,isClearable:l=!0,isSortable:i=!0}={},hasMany:s=!1,label:c,localized:d,options:p=[],required:h},onChange:f,path:m,readOnly:v,validate:g}=e,b=r.useMemo(()=>c6(p),[p]),{customComponents:{AfterInput:x,BeforeInput:y,Description:w,Error:j,Label:C}={},setValue:S,showError:_,value:k}=aK({path:m,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof g)return g(e,{...t,hasMany:s,options:b,required:h})},[g,h,s,b])}),N=(0,r.useCallback)(e=>{if(!v){let t=null;e&&s?t=Array.isArray(e)?e.map(e=>e.value):[]:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof f&&f(t),S(t)}},[v,s,S,f]),E=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsx)(c3,{AfterInput:x,BeforeInput:y,className:a,Description:w,description:o,Error:j,hasMany:s,isClearable:l,isSortable:i,Label:C,label:c,localized:d,name:n,onChange:N,options:b,path:m,readOnly:v,showError:_,style:E,value:k})}),c4="tabs-field__tab-button",c9=e=>{let t,n,a=(0,p.c)(21),{isActive:o,parentPath:l,setIsActive:i,tab:s}=e,{i18n:d}=(0,c.d)(),[f,m]=(0,r.useState)(void 0),v;a[0]!==l?(v=l?l.split("."):[],a[0]=l,a[1]=v):v=a[1],a[2]!==s?(t=(0,j.JC)(s)?[s.name]:[],a[2]=s,a[3]=t):t=a[3],a[4]!==v||a[5]!==t?(n=[...v,...t],a[4]=v,a[5]=t,a[6]=n):n=a[6];let g=n.join("."),b=f>0,x;if(a[7]!==g||a[8]!==s||a[9]!==b||a[10]!==o||a[11]!==d||a[12]!==f||a[13]!==i){let e,t=(0,u.jsx)(oZ,{fields:s.fields,path:g.split("."),setErrorCount:m}),n=b&&"".concat(c4,"--has-error"),l=o&&"".concat(c4,"--active"),c;a[15]!==n||a[16]!==l?(c=[c4,n,l].filter(Boolean),a[15]=n,a[16]=l,a[17]=c):c=a[17],a[18]!==s||a[19]!==d?(e=s.label?(0,h.i0)(s.label,d):(0,j.JC)(s)?s.name:"",a[18]=s,a[19]=d,a[20]=e):e=a[20],x=(0,u.jsxs)(r.Fragment,{children:[t,(0,u.jsxs)("button",{className:c.join(" "),onClick:i,type:"button",children:[e,b&&(0,u.jsx)(tv,{count:f,i18n:d})]})]}),a[7]=g,a[8]=s,a[9]=b,a[10]=o,a[11]=d,a[12]=f,a[13]=i,a[14]=x}else x=a[14];return x},c8="tabs-field";function c7(e){let{activeTabConfig:t,path:n}=e,a=n;return(0,j.JC)(t)&&t.name&&(a=n?"".concat(n,".").concat(t.name):t.name),a}var de=aQ(e=>{let t,n=(0,p.c)(75),{field:a,forceRender:o,indexPath:l,parentPath:i,parentSchemaPath:s,path:d,permissions:h,readOnly:f}=e,{admin:m,tabs:v}=a,g;n[0]!==m?(g=void 0===m?{}:m,n[0]=m,n[1]=g):g=n[1];let{className:b}=g,x;n[2]!==v?(x=void 0===v?[]:v,n[2]=v,n[3]=x):x=n[3];let y=x,w=void 0!==o&&o,C=void 0===l?"":l,S=void 0===i?"":i,_=void 0===s?"":s,k=void 0===d?"":d,{getPreference:N,setPreference:E}=nJ(),{preferencesKey:A}=aV(),{i18n:P}=(0,c.d)(),{isWithinCollapsible:D}=oa(),[O,R]=(0,r.useState)(0),I="tabs-".concat(C),T;n[4]!==y||n[5]!==O||n[6]!==S?(T=()=>c7({activeTabConfig:y[O],path:S}),n[4]=y,n[5]=O,n[6]=S,n[7]=T):T=n[7];let[L,M]=(0,r.useState)(T),F;n[8]!==y||n[9]!==O||n[10]!==L||n[11]!==S?(F=(0,j.JC)(y[O])?L:S,n[8]=y,n[9]=O,n[10]=L,n[11]=S,n[12]=F):F=n[12];let B=F,V;n[13]!==y||n[14]!==_?(V=()=>c7({activeTabConfig:y[0],path:_}),n[13]=y,n[14]=_,n[15]=V):V=n[15];let[z,U]=(0,r.useState)(V),H;n[16]!==y||n[17]!==O||n[18]!==z||n[19]!==_?(H=(0,j.JC)(y[O])?z:_,n[16]=y,n[17]=O,n[18]=z,n[19]=_,n[20]=H):H=n[20];let q=H,W,K;n[21]!==A||n[22]!==N||n[23]!==k||n[24]!==I||n[25]!==y||n[26]!==S||n[27]!==_?(W=()=>{A&&(async()=>{var e,t,n,a;let o=await N(A),l=(k?null==o?void 0:null===(t=o.fields)||void 0===t?void 0:null===(e=t[k])||void 0===e?void 0:e.tabIndex:null==o?void 0:null===(a=o.fields)||void 0===a?void 0:null===(n=a[I])||void 0===n?void 0:n.tabIndex)||0;R(l),M(c7({activeTabConfig:y[l],path:S})),U(c7({activeTabConfig:y[l],path:_}))})()},K=[k,N,A,I,y,S,_],n[21]=A,n[22]=N,n[23]=k,n[24]=I,n[25]=y,n[26]=S,n[27]=_,n[28]=W,n[29]=K):(W=n[28],K=n[29]),(0,r.useEffect)(W,K),n[30]!==y||n[31]!==S||n[32]!==_||n[33]!==N||n[34]!==A||n[35]!==E||n[36]!==k||n[37]!==I?(t=async e=>{var t,n;R(e),M(c7({activeTabConfig:y[e],path:S})),U(c7({activeTabConfig:y[e],path:_}));let a=await N(A);A&&E(A,{...a,...k?{fields:{...(null==a?void 0:a.fields)||{},[k]:{...null==a?void 0:null===(t=a.fields)||void 0===t?void 0:t[k],tabIndex:e}}}:{fields:{...null==a?void 0:a.fields,[I]:{...null==a?void 0:null===(n=a.fields)||void 0===n?void 0:n[I],tabIndex:e}}}})},n[30]=y,n[31]=S,n[32]=_,n[33]=N,n[34]=A,n[35]=E,n[36]=k,n[37]=I,n[38]=t):t=n[38];let Y=t,Q=y[O],G=Q.description,X;n[39]!==G||n[40]!==P?(X="function"==typeof G?G({t:P.t}):G,n[39]=G,n[40]=P,n[41]=X):X=n[41];let J=X,Z=D&&"".concat(c8,"--within-collapsible"),$;n[42]!==b||n[43]!==Z?($=[aX,b,c8,Z].filter(Boolean),n[42]=b,n[43]=Z,n[44]=$):$=n[44];let ee=$.join(" "),et;if(n[45]!==O||n[46]!==k||n[47]!==Y||n[48]!==y||n[49]!==Q||n[50]!==C||n[51]!==h||n[52]!==J||n[53]!==w||n[54]!==B||n[55]!==q||n[56]!==L||n[57]!==f||n[58]!==ee){var en;let e,t;n[60]!==O||n[61]!==k||n[62]!==Y?(e=(e,t)=>(0,u.jsx)(c9,{isActive:O===t,parentPath:k,setIsActive:()=>{Y(t)},tab:e},t),n[60]=O,n[61]=k,n[62]=Y,n[63]=e):e=n[63],n[64]!==Q||n[65]!==C||n[66]!==O||n[67]!==h||n[68]!==J||n[69]!==w||n[70]!==B||n[71]!==q||n[72]!==L||n[73]!==f?(t=Q&&(0,u.jsx)(dt,{description:J,fields:Q.fields,forceRender:w,parentIndexPath:(0,j.JC)(Q)?"":"".concat(C?C+"-":"")+String(O),parentPath:B,parentSchemaPath:q,path:L,permissions:"name"in Q&&(null==h?void 0:null===(en=h[Q.name])||void 0===en?void 0:en.fields)?h[Q.name].fields:h,readOnly:f}),n[64]=Q,n[65]=C,n[66]=O,n[67]=h,n[68]=J,n[69]=w,n[70]=B,n[71]=q,n[72]=L,n[73]=f,n[74]=t):t=n[74],et=(0,u.jsx)("div",{className:ee,children:(0,u.jsxs)(le,{children:[(0,u.jsx)("div",{className:"".concat(c8,"__tabs-wrap"),children:(0,u.jsx)("div",{className:"".concat(c8,"__tabs"),children:y.map(e)})}),(0,u.jsx)("div",{className:"".concat(c8,"__content-wrap"),children:t})]})}),n[45]=O,n[46]=k,n[47]=Y,n[48]=y,n[49]=Q,n[50]=C,n[51]=h,n[52]=J,n[53]=w,n[54]=B,n[55]=q,n[56]=L,n[57]=f,n[58]=ee,n[59]=et}else et=n[59];return et});function dt(e){let t=(0,p.c)(20),{description:n,fields:a,forceRender:o,label:l,parentIndexPath:r,parentPath:i,parentSchemaPath:s,path:d,permissions:f,readOnly:m}=e,{i18n:v}=(0,c.d)(),g;t[0]!==d?(g={path:d},t[0]=d,t[1]=g):g=t[1];let{customComponents:b}=aK(g),x;t[2]!==b?(x=void 0===b?{}:b,t[2]=b,t[3]=x):x=t[3];let{AfterInput:y,BeforeInput:w,Description:j,Field:C}=x;if(C)return C;let S=l&&"".concat(c8,"__tabConfigLabel-").concat((0,_.Z)((0,h.i0)(l,v))),k;t[4]!==S?(k=["".concat(c8,"__tab"),S].filter(Boolean),t[4]=S,t[5]=k):k=t[5];let N=k.join(" "),E;return t[6]!==n||t[7]!==d||t[8]!==j||t[9]!==a||t[10]!==o||t[11]!==r||t[12]!==i||t[13]!==s||t[14]!==f||t[15]!==m||t[16]!==w||t[17]!==y||t[18]!==N?(E=(0,u.jsxs)("div",{className:N,children:[(0,u.jsx)($,{CustomComponent:j,Fallback:(0,u.jsx)(tb,{description:n,path:d})}),w,(0,u.jsx)(uX,{fields:a,forceRender:o,parentIndexPath:r,parentPath:i,parentSchemaPath:s,permissions:f,readOnly:m}),y]}),t[6]=n,t[7]=d,t[8]=j,t[9]=a,t[10]=o,t[11]=r,t[12]=i,t[13]=s,t[14]=f,t[15]=m,t[16]=w,t[17]=y,t[18]=N,t[19]=E):E=t[19],E}var dn=e=>{let t=(0,p.c)(31),{AfterInput:n,BeforeInput:a,className:o,Description:l,description:r,Error:i,hasMany:s,inputRef:d,Label:f,label:m,localized:v,maxRows:g,onChange:b,onKeyDown:x,path:y,placeholder:w,readOnly:j,required:C,rtl:S,showError:_,style:k,value:N,valueToRender:E}=e,{i18n:A,t:P}=(0,c.d)(),D=_&&"error",O=j&&"read-only",R=s&&"has-many",I;t[0]!==o||t[1]!==D||t[2]!==O||t[3]!==R?(I=[aX,"text",o,D,O,R].filter(Boolean),t[0]=o,t[1]=D,t[2]=O,t[3]=R,t[4]=I):I=t[4];let T=I.join(" "),L;return t[5]!==m||t[6]!==v||t[7]!==y||t[8]!==C||t[9]!==f||t[10]!==_||t[11]!==i||t[12]!==s||t[13]!==g||t[14]!==N||t[15]!==P||t[16]!==j||t[17]!==b||t[18]!==E||t[19]!==w||t[20]!==A||t[21]!==S||t[22]!==x||t[23]!==d||t[24]!==r||t[25]!==l||t[26]!==a||t[27]!==n||t[28]!==T||t[29]!==k?(L=(0,u.jsxs)("div",{className:T,style:k,children:[(0,u.jsx)($,{CustomComponent:f,Fallback:(0,u.jsx)(n4,{label:m,localized:v,path:y,required:C})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)($,{CustomComponent:i,Fallback:(0,u.jsx)(tx,{path:y,showError:_})}),a,s?(0,u.jsx)(cN,{className:"field-".concat(y.replace(/\./g,"__")),disabled:j,filterOption:()=>!g||!(Array.isArray(N)&&g&&N.length>=g),isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(N)&&N.length>=g?P("validation:limitReached",{max:g,value:N.length+1}):null,onChange:b,options:[],placeholder:P("general:enterAValue"),showError:_,value:E}):(0,u.jsx)("input",{"data-rtl":S,disabled:j,id:"field-".concat(null==y?void 0:y.replace(/\./g,"__")),name:y,onChange:b,onKeyDown:x,placeholder:(0,h.i0)(w,A),ref:d,type:"text",value:N||""}),n,(0,u.jsx)($,{CustomComponent:l,Fallback:(0,u.jsx)(tb,{description:r,path:y})})]})]}),t[5]=m,t[6]=v,t[7]=y,t[8]=C,t[9]=f,t[10]=_,t[11]=i,t[12]=s,t[13]=g,t[14]=N,t[15]=P,t[16]=j,t[17]=b,t[18]=E,t[19]=w,t[20]=A,t[21]=S,t[22]=x,t[23]=d,t[24]=r,t[25]=l,t[26]=a,t[27]=n,t[28]=T,t[29]=k,t[30]=L):L=t[30],L},da=aQ(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:o,rtl:l}={},hasMany:i,label:c,localized:d,maxLength:p,maxRows:h,minLength:f,minRows:m,required:v},inputRef:g,path:b,readOnly:x,validate:y}=e,w=n6(),{config:{localization:j}}=(0,s.b)(),{customComponents:{AfterInput:C,BeforeInput:S,Description:_,Error:k,Label:N}={},setValue:E,showError:A,value:P}=aK({path:b,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,maxLength:p,minLength:f,required:v})},[y,f,p,v])}),D=aJ({fieldLocalized:d,fieldRTL:l,locale:w,localizationConfig:j||void 0}),[O,R]=(0,r.useState)([]),I=(0,r.useCallback)(e=>{if(!x){var t;E(e?Array.isArray(e)?e.map(e=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.value)||e.value}):[(null===(t=e.value)||void 0===t?void 0:t.value)||e.value]:[])}},[x,E]);(0,r.useEffect)(()=>{i&&Array.isArray(P)&&R(P.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[P,i]);let T=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsx)(dn,{AfterInput:C,BeforeInput:S,className:n,Description:_,description:a,Error:k,hasMany:i,inputRef:g,Label:N,label:c,localized:d,maxRows:h,minRows:m,onChange:i?I:e=>{E(e.target.value)},path:b,placeholder:o,readOnly:x,required:v,rtl:D,showError:A,style:T,value:P||"",valueToRender:O})}),dl=e=>{let t=(0,p.c)(25),{AfterInput:n,BeforeInput:a,className:o,Description:l,description:r,Error:i,Label:s,label:d,localized:f,onChange:m,path:v,placeholder:g,readOnly:b,required:x,rows:y,rtl:w,showError:j,style:C,value:S}=e,{i18n:_}=(0,c.d)(),k=j&&"error",N=b&&"read-only",E;t[0]!==o||t[1]!==k||t[2]!==N?(E=[aX,"textarea",o,k,N].filter(Boolean),t[0]=o,t[1]=k,t[2]=N,t[3]=E):E=t[3];let A=E.join(" "),P;return t[4]!==d||t[5]!==f||t[6]!==v||t[7]!==x||t[8]!==s||t[9]!==j||t[10]!==i||t[11]!==S||t[12]!==g||t[13]!==_||t[14]!==w||t[15]!==b||t[16]!==m||t[17]!==y||t[18]!==r||t[19]!==l||t[20]!==a||t[21]!==n||t[22]!==A||t[23]!==C?(P=(0,u.jsxs)("div",{className:A,style:C,children:[(0,u.jsx)($,{CustomComponent:s,Fallback:(0,u.jsx)(n4,{label:d,localized:f,path:v,required:x})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)($,{CustomComponent:i,Fallback:(0,u.jsx)(tx,{path:v,showError:j})}),a,(0,u.jsx)("label",{className:"textarea-outer",htmlFor:"field-".concat(v.replace(/\./g,"__")),children:(0,u.jsxs)("div",{className:"textarea-inner",children:[(0,u.jsx)("div",{className:"textarea-clone","data-value":S||g||""}),(0,u.jsx)("textarea",{className:"textarea-element","data-rtl":w,disabled:b,id:"field-".concat(v.replace(/\./g,"__")),name:v,onChange:m,placeholder:(0,h.i0)(g,_),rows:y,value:S||""})]})}),n,(0,u.jsx)($,{CustomComponent:l,Fallback:(0,u.jsx)(tb,{description:r,path:v})})]})]}),t[4]=d,t[5]=f,t[6]=v,t[7]=x,t[8]=s,t[9]=j,t[10]=i,t[11]=S,t[12]=g,t[13]=_,t[14]=w,t[15]=b,t[16]=m,t[17]=y,t[18]=r,t[19]=l,t[20]=a,t[21]=n,t[22]=A,t[23]=C,t[24]=P):P=t[24],P},dr=aQ(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:o,rows:l,rtl:i}={},label:d,localized:p,maxLength:f,minLength:m,required:v},path:g,readOnly:b,validate:x}=e,{i18n:y}=(0,c.d)(),{config:{localization:w}}=(0,s.b)(),j=aJ({fieldLocalized:p,fieldRTL:i,locale:n6(),localizationConfig:w||void 0}),{customComponents:{AfterInput:C,BeforeInput:S,Description:_,Error:k,Label:N}={},setValue:E,showError:A,value:P}=aK({path:g,validate:(0,r.useCallback)((e,t)=>{if("function"==typeof x)return x(e,{...t,maxLength:f,minLength:m,required:v})},[x,v,f,m])}),D=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsx)(dl,{AfterInput:C,BeforeInput:S,className:n,Description:_,description:a,Error:k,Label:N,label:d,localized:p,onChange:e=>{E(e.target.value)},path:g,placeholder:(0,h.i0)(o,y),readOnly:b,required:v,rows:l,rtl:j,showError:A,style:D,value:P})}),di=()=>null,ds=e=>{e.preventDefault(),e.stopPropagation()};function dc(e){let{children:t,className:n,disabled:a=!1,dropzoneStyle:o="default",multipleFiles:l,onChange:i}=e,s=r.useRef(null),[c,d]=r.useState(!1),p=r.useCallback(e=>{if(!l&&e.length>1){let t=new DataTransfer;t.items.add(e[0]),i(t.files)}else i(e)},[l,i]),h=r.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.clipboardData.files&&e.clipboardData.files.length>0&&p(e.clipboardData.files)},[p]),f=r.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!0)},[]),m=r.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1)},[]),v=r.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(p(e.dataTransfer.files),d(!1),e.dataTransfer.clearData())},[p]);r.useEffect(()=>{let e=s.current;return e&&!a?(e.addEventListener("dragenter",f),e.addEventListener("dragleave",m),e.addEventListener("dragover",ds),e.addEventListener("drop",v),e.addEventListener("paste",h),()=>{e.removeEventListener("dragenter",f),e.removeEventListener("dragleave",m),e.removeEventListener("dragover",ds),e.removeEventListener("drop",v),e.removeEventListener("paste",h)}):()=>null},[a,f,m,v,h]);let g=["dropzone",n,c?"dragging":"","dropzoneStyle--".concat(o)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:g,ref:s,children:t})}function dd(e){let t=(0,p.c)(3),{onClick:n}=e,{t:a}=(0,c.d)(),o;return t[0]!==a||t[1]!==n?(o=(0,u.jsx)("button",{"aria-label":a("general:close"),className:"drawer-close-button",onClick:n,type:"button",children:(0,u.jsx)(c.a,{})}),t[0]=a,t[1]=n,t[2]=o):o=t[2],o}function du(e){let{onClose:t,title:n}=e;return(0,u.jsxs)("div",{className:"bulk-upload--drawer-header",children:[(0,u.jsx)("h2",{title:n,children:n}),(0,u.jsx)(dd,{onClick:t})]})}var dp="bulk-upload--add-files";function dh(e){let{acceptMimeTypes:t,onCancel:n,onDrop:a}=e,{t:o}=(0,c.d)(),l=r.useRef(null);return(0,u.jsxs)("div",{className:dp,children:[(0,u.jsx)(du,{onClose:n,title:o("upload:addFiles")}),(0,u.jsx)("div",{className:"".concat(dp,"__dropArea"),children:(0,u.jsxs)(dc,{multipleFiles:!0,onChange:a,children:[(0,u.jsx)(e1,{buttonStyle:"pill",iconPosition:"left",onClick:()=>{l.current&&l.current.click()},size:"small",children:o("upload:selectFile")}),(0,u.jsx)("input",{accept:t,"aria-hidden":"true",className:"".concat(dp,"__hidden-input"),hidden:!0,multiple:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&a(e.target.files)},ref:l,type:"file"}),(0,u.jsxs)("p",{className:"".concat(dp,"__dragAndDropText"),children:[o("general:or")," ",o("upload:dragAndDrop")]})]})})]})}var df=(0,d.e)(Y(),1),dm=(e,t)=>{let n={},a=Object.entries(t).reduce((t,a)=>{let[o,l]=a;if(0===o.indexOf("".concat(e,"."))){let[n]=o.replace("".concat(e,"."),"").split(".");t[n]||(t[n]={}),t[n][o.replace("".concat(e,".").concat(String(n),"."),"")]={...l}}else n[o]=l;return t},[]);return{remainingFields:n,rows:a}},dv=(e,t)=>t.reduce((t,n,a)=>({...t,...Object.entries(n).reduce((t,n)=>{let[o,l]=n;return{...t,["".concat(e,".").concat(a,".").concat(o)]:{...l}}},{})}),{}),dg=df.default.default||df.default;function db(e,t){var n,a,o,l,r,i,s;switch(t.type){case"ADD_ROW":{let{blockType:r,path:i,rowIndex:s,subFieldState:c={}}=t,d="number"==typeof s?s:(null===(a=e[i])||void 0===a?void 0:null===(n=a.rows)||void 0===n?void 0:n.length)||0,u=[...(null===(o=e[i])||void 0===o?void 0:o.rows)||[]],p={id:(null==c?void 0:null===(l=c.id)||void 0===l?void 0:l.value)||new dg().toHexString(),blockType:r||void 0,collapsed:!1};u.splice(d,0,p),r&&(c.blockType={initialValue:r,valid:!0,value:r});let{remainingFields:h,rows:f}=dm(i,e);return f.splice(d,0,c),{...h,...dv(i,f),["".concat(i,".").concat(d,".id")]:{initialValue:p.id,passesCondition:!0,requiresRender:!0,valid:!0,value:p.id},[i]:{...e[i],disableFormData:!0,requiresRender:!0,rows:u,value:f.length}}}case"ADD_SERVER_ERRORS":{let n={...e},a=[];return t.errors.forEach(e=>{let{message:t,path:o}=e;n[o]={...n[o]||{initialValue:null,value:null},errorMessage:t,valid:!1};let l=o.split(".");l.length>1&&a.push({fieldErrorPath:o,parentPath:l.slice(0,l.length-1).join(".")})}),n=Object.entries(n).reduce((e,t)=>{let[n,o]=t,l=a.reduce((e,t)=>{let{fieldErrorPath:a,parentPath:o}=t;return o.startsWith(n)&&e.push(a),e},[]),r=!1;if(l.length>0){let t=Array.isArray(o.errorPaths)?o.errorPaths:[];l.forEach(e=>{t.includes(e)||(t.push(e),r=!0)}),r&&(e[n]={...o,errorPaths:t})}return r||(e[n]=o),e},{})}case"DUPLICATE_ROW":{let{path:n,rowIndex:a}=t,{remainingFields:o,rows:l}=dm(n,e),r=[...e[n].rows||[]],i=(0,E.Ee)(r[a]);i.id&&(i.id=new dg().toHexString());let s=(0,E.Kz)(l[a]);for(let e of(s.id&&(s.id.value=new dg().toHexString(),s.id.initialValue=new dg().toHexString()),Object.keys(s).filter(e=>e.endsWith(".id")))){let t=s[e];t&&"string"==typeof t.value&&dg.isValid(t.value)&&(s[e].value=new dg().toHexString(),s[e].initialValue=new dg().toHexString())}return Object.keys(s).length>0&&(l.splice(a+1,0,s),r.splice(a+1,0,i)),{...o,...dv(n,l),[n]:{...e[n],disableFormData:!0,requiresRender:!0,rows:r,value:l.length}}}case"MOVE_ROW":{let{moveFromIndex:n,moveToIndex:a,path:o}=t,{remainingFields:l,rows:i}=dm(o,e),s=i[n];i.splice(n,1),i.splice(a,0,s);let c=[...(null===(r=e[o])||void 0===r?void 0:r.rows)||[]],d={...c[n]};return c.splice(n,1),c.splice(a,0,d),{...l,...dv(o,i),[o]:{...e[o],rows:c}}}case"REMOVE":{let n={...e};return n[t.path]&&delete n[t.path],n}case"REMOVE_ROW":{let{path:n,rowIndex:a}=t,{remainingFields:o,rows:l}=dm(n,e),r=[...(null===(i=e[n])||void 0===i?void 0:i.rows)||[]];return l.splice(a,1),r.splice(a,1),{...o,[n]:{...e[n],disableFormData:l.length>0,requiresRender:!0,rows:r,value:l.length},...dv(n,l)}}case"REPLACE_ROW":{let{blockType:n,path:a,rowIndex:o,subFieldState:l={}}=t,{remainingFields:r,rows:i}=dm(a,e),c=Math.max(0,Math.min(o,(null==i?void 0:i.length)-1||0)),d=[...(null===(s=e[a])||void 0===s?void 0:s.rows)||[]];return d[c]={id:new dg().toHexString(),blockType:n||void 0,collapsed:!1},n&&(l.blockType={initialValue:n,valid:!0,value:n}),i[c]=l,{...r,...dv(a,i),[a]:{...e[a],disableFormData:!0,rows:d,value:i.length}}}case"REPLACE_STATE":if(!1!==t.optimize){let n={};return Object.entries(t.state).forEach(t=>{let[a,o]=t,l=e[a];(0,b.J)(l,o)?l&&(n[a]=l):n[a]=o}),n}return t.state;case"SET_ALL_ROWS_COLLAPSED":{let{path:n,updatedRows:a}=t;return{...e,[n]:{...e[n],rows:a}}}case"SET_ROW_COLLAPSED":{let{path:n,updatedRows:a}=t;return{...e,[n]:{...e[n],rows:a}}}case"UPDATE":{let n=Object.entries(t).reduce((e,t)=>{let[n,a]=t;return["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(n)?{...e,[n]:a}:e},e[t.path]||{});return{...e,[t.path]:n}}case"UPDATE_MANY":{let n={...e};return Object.entries(t.formState).forEach(e=>{let[t,a]=e;n[t]=a}),n}default:return e}}var dx=e=>new Promise((t,n)=>{let a=new Image;a.src=URL.createObjectURL(e),a.onload=()=>{let e,o,l=a.width/a.height;l>1?(o=280,e=280/l):(o=280*l,e=280);let r=new OffscreenCanvas(o,e);r.getContext("2d").drawImage(a,0,0,o,e),r.convertToBlob({type:"image/jpeg",quality:.25}).then(e=>{URL.revokeObjectURL(a.src);let o=new FileReader;o.onload=()=>t(o.result),o.onerror=n,o.readAsDataURL(e)}).catch(n)},a.onerror=e=>{URL.revokeObjectURL(a.src),n(e)}}),dy=(0,d.e)(Q(),1);function dw(e,t){switch(t.type){case"ADD_FORMS":{let n=[];for(let e=0;e<t.files.length;e++)n[e]={errorCount:0,formState:{...t.initialState||{},file:{initialValue:t.files[e],valid:!0,value:t.files[e]}}};return{...e,activeIndex:0,forms:[...n,...e.forms]}}case"REMOVE_FORM":{let n=[...e.forms],[a]=n.splice(t.index,1),o=e.activeIndex>=t.index,l=Math.min(n.length-1,e.activeIndex===t.index?t.index:o?e.activeIndex-1:e.activeIndex);return{...e,activeIndex:o?l:e.activeIndex,forms:n,totalErrorCount:e.totalErrorCount-a.errorCount}}case"REPLACE":return{...e,...t.state};case"SET_ACTIVE_INDEX":return{...e,activeIndex:t.index};case"UPDATE_ERROR_COUNT":{let n=[...e.forms];return n[t.index].errorCount=t.count,{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}default:return e}}var dj=r.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},thumbnailUrls:[],totalErrorCount:0}),dC={activeIndex:0,forms:[],totalErrorCount:0};function dS(e){let{children:t}=e,{config:n}=(0,s.b)(),{routes:{api:a},serverURL:o}=n,{code:l}=n6(),{i18n:i,t:d}=(0,c.d)(),{getDocumentSlots:p,getFormState:h}=lg(),[f,m]=r.useState({}),[v,b]=r.useState(!1),[x,y]=r.useState(),[w,j]=r.useState(!1),[C,S]=r.useState(!1),[_,k]=r.useState(!1),[E,A]=r.useState(!1),[P,D]=r.useState(!1),[O,R]=r.useReducer(dw,dC),{activeIndex:I,forms:T,totalErrorCount:L}=O,M=r.useRef(T);M.current=T;let F=T.length,B=r.useRef([]),V=r.useRef(new Set),[z,U]=r.useState([]);r.useEffect(()=>{(async()=>{let e=[...B.current];for(let t=0;t<F;t++){let n=M.current[t].formState.file.value;if(V.current.has(n)||!n)continue;V.current.add(n);let a=await dx(n);e[t]=a,B.current=e,U([...e]),await new Promise(e=>setTimeout(e,100))}})()},[F]);let{toggleLoadingOverlay:H}=lL(),{closeModal:q}=tU(),{collectionSlug:W,drawerSlug:K,initialFiles:Y,onSuccess:Q}=uE(),[G,X]=r.useState(!1),[J,Z]=r.useState(""),$=r.useRef(!1),ee=r.useRef(null),et=r.useRef(()=>({})),en="".concat(a,"/").concat(W),ea=r.useCallback(async()=>{let e={locale:l||void 0},t="/".concat(W,"/access"),n=await (await fetch("".concat(o).concat(a).concat(t,"?").concat(g.P(e)),{credentials:"include",headers:{"Accept-Language":i.language,"Content-Type":"application/json"},method:"post"})).json(),r=await fetch("".concat(o).concat(a).concat(t,"?").concat(g.P(e)),{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":i.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());y(n),j(aL({collectionSlug:W,docPermissions:n,isEditing:!1})),S(null==r?void 0:r.update),A(!0)},[a,l,W,i.language,o]),eo=r.useCallback(async e=>{(null==e?void 0:e.signal)&&e.abort("aborting previous fetch for initial form state without files"),m(await p({collectionSlug:W}));try{let{state:e}=await h({collectionSlug:W,docPermissions:x,docPreferences:{fields:{}},locale:l,operation:"create",renderAllFields:!0,schemaPath:W});ee.current=e,k(!0)}catch(e){}},[p,W,h,x,l]),el=r.useCallback(e=>{let t=et.current();R({type:"REPLACE",state:{activeIndex:e,forms:T.map((e,n)=>n===I?{errorCount:e.errorCount,formState:t}:e)}})},[T,I]),er=r.useCallback(async e=>{H({isLoading:!0,key:"addingDocs"}),_||await eo(),R({type:"ADD_FORMS",files:e,initialState:ee.current}),H({isLoading:!1,key:"addingDocs"})},[eo,_,H]),ei=r.useCallback(e=>{R({type:"REMOVE_FORM",index:e})},[]),es=r.useCallback(e=>{let{errorCount:t,index:n}=e;R({type:"UPDATE_ERROR_COUNT",count:t,index:n})},[]),ec=r.useCallback(async function(){let{overrides:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=et.current(),n=[...T];n[I]={errorCount:n[I].errorCount,formState:t};let a=[];X(!0);for(let t=0;t<n.length;t++)try{var o,l;let r=n[t];Z(d("general:uploadingBulk",{current:t+1,total:n.length}));let i=await fetch(en,{body:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,N.Q)(e,!0),a=null==n?void 0:n.file;a&&delete n.file;let o={_payload:JSON.stringify({...n,...t}),file:a};return(0,dy.serialize)(o,{indices:!0,nullsAsUndefineds:!1})}(r.formState,e),method:"POST"}),s=await i.json();if(201===i.status&&(null==s?void 0:s.doc)&&a.push(s.doc),null==s?void 0:null===(o=s.errors)||void 0===o?void 0:o.length){let[e,a]=s.errors.reduce((e,t)=>{var n,a;let[o,l]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.errors)&&(null===(a=t.data)||void 0===a||a.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...o,...r],[...l,...i]]},[[],[]]);n[t]={errorCount:e.length,formState:db(n[t].formState,{type:"ADD_SERVER_ERRORS",errors:e})},413===i.status&&(n[t]={...n[t],errorCount:n[t].errorCount+1},nR.error(null===(l=a[0])||void 0===l?void 0:l.message))}}catch(e){}b(!0),Z(""),X(!1);let r=n.filter(e=>{let{errorCount:t}=e;return t>0}),i=Math.max(0,n.length-r.length),s=n.length-i;i&&(nR.success("Successfully saved ".concat(i," files")),"function"==typeof Q&&Q(a,s)),s?nR.error("Failed to save ".concat(s," files")):q(K),R({type:"REPLACE",state:{activeIndex:0,forms:r,totalErrorCount:r.reduce((e,t)=>{let{errorCount:n}=t;return e+n},0)}})},[en,I,T,Q,d,q,K]);return r.useEffect(()=>{W&&(_||eo(),E||ea(),Y&&D(!_||!E),_&&Y&&!$.current&&(er(Y),$.current=!0))},[er,Y,eo,ea,W,_,E]),(0,u.jsxs)(dj.Provider,{value:{activeIndex:O.activeIndex,addFiles:er,collectionSlug:W,docPermissions:x,documentSlots:f,forms:T,getFormDataRef:et,hasPublishPermission:C,hasSavePermission:w,hasSubmitted:v,isInitializing:P,removeFile:ei,saveAllDocs:ec,setActiveIndex:el,setFormTotalErrorCount:es,thumbnailUrls:z,totalErrorCount:L},children:[G&&(0,u.jsx)(lF,{animationDuration:"250ms",loadingText:J,overlayType:"fullscreen",show:!0}),t]})}function d_(){return r.useContext(dj)}var dk="bulk-upload--actions-bar";function dN(){let e=(0,p.c)(14),{activeIndex:t,forms:n,setActiveIndex:a}=d_(),{t:o}=(0,c.d)(),l=t+1,r;if(e[0]!==l||e[1]!==n.length||e[2]!==o||e[3]!==t||e[4]!==a){let i,s;e[6]!==t||e[7]!==a||e[8]!==n.length?(i=()=>{let e=t-1;e<0?a(n.length-1):a(e)},e[6]=t,e[7]=a,e[8]=n.length,e[9]=i):i=e[9],e[10]!==t||e[11]!==n.length||e[12]!==a?(s=()=>{let e=t+1;e===n.length?a(0):a(e)},e[10]=t,e[11]=n.length,e[12]=a,e[13]=s):s=e[13],r=(0,u.jsxs)("div",{className:dk,children:[(0,u.jsxs)("div",{className:"".concat(dk,"__navigation"),children:[(0,u.jsxs)("p",{className:"".concat(dk,"__locationText"),children:[(0,u.jsx)("strong",{children:l})," of ",(0,u.jsx)("strong",{children:n.length})]}),(0,u.jsxs)("div",{className:"".concat(dk,"__controls"),children:[(0,u.jsx)(e1,{"aria-label":o("general:previous"),buttonStyle:"none",onClick:i,type:"button",children:(0,u.jsx)(eP,{direction:"left"})}),(0,u.jsx)(e1,{"aria-label":o("general:next"),buttonStyle:"none",onClick:s,type:"button",children:(0,u.jsx)(eP,{direction:"right"})})]})]}),(0,u.jsx)(dE,{className:"".concat(dk,"__saveButtons")})]}),e[0]=l,e[1]=n.length,e[2]=o,e[3]=t,e[4]=a,e[5]=r}else r=e[5];return r}function dE(e){var t,n,a,o,l;let r=(0,p.c)(12),{className:i}=e,{getEntityConfig:d}=(0,s.b)(),{t:h}=(0,c.d)(),{collectionSlug:f,hasPublishPermission:m,hasSavePermission:v,saveAllDocs:g}=d_(),b;r[0]!==f||r[1]!==d?(b=d({collectionSlug:f}),r[0]=f,r[1]=d,r[2]=b):b=r[2];let x=b,y;r[3]!==i?(y=["".concat(dk,"__buttons"),i].filter(Boolean),r[3]=i,r[4]=y):y=r[4];let w=y.join(" "),j;return r[5]!==(null==x?void 0:null===(t=x.versions)||void 0===t?void 0:t.drafts)||r[6]!==v||r[7]!==g||r[8]!==h||r[9]!==m||r[10]!==w?(j=(0,u.jsxs)("div",{className:w,children:[(null==x?void 0:null===(n=x.versions)||void 0===n?void 0:n.drafts)&&v?(0,u.jsx)(e1,{buttonStyle:"secondary",onClick:()=>void g({overrides:{_status:"draft"}}),children:h("version:saveDraft")}):null,(null==x?void 0:null===(a=x.versions)||void 0===a?void 0:a.drafts)&&m?(0,u.jsx)(e1,{onClick:()=>void g({overrides:{_status:"published"}}),children:h("version:publish")}):null,(null==x?void 0:null===(o=x.versions)||void 0===o?void 0:o.drafts)||!v?null:(0,u.jsx)(e1,{onClick:()=>void g(),children:h("general:save")})]}),r[5]=null==x?void 0:null===(l=x.versions)||void 0===l?void 0:l.drafts,r[6]=v,r[7]=g,r[8]=h,r[9]=m,r[10]=w,r[11]=j):j=r[11],j}function dA(e){let t=(0,p.c)(6),n=tj(),a;t[0]!==e.style?(a=e.style||{},t[0]=e.style,t[1]=a):a=t[1];let o="calc(100 + ".concat(n||0," + 1)"),l;return t[2]!==a||t[3]!==o||t[4]!==e?(l=(0,u.jsx)(t6,{...e,style:{...a,zIndex:o}}),t[2]=a,t[3]=o,t[4]=e,t[5]=l):l=t[5],l}var dP="bulk-upload--discard-without-saving",dD="leave-without-saving";function dO(){let e=(0,p.c)(9),{t:t}=(0,c.d)(),{closeModal:n}=tU(),{drawerSlug:a}=uE(),o;e[0]!==n?(o=()=>{n(dP)},e[0]=n,e[1]=o):o=e[1];let l=o,r;e[2]!==n||e[3]!==a?(r=()=>{n(a),n(dP)},e[2]=n,e[3]=a,e[4]=r):r=e[4];let i=r,s;return e[5]!==t||e[6]!==l||e[7]!==i?(s=(0,u.jsx)(dA,{className:dD,slug:dP,children:(0,u.jsxs)("div",{className:"".concat(dD,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(dD,"__content"),children:[(0,u.jsx)("h1",{children:t("general:leaveWithoutSaving")}),(0,u.jsx)("p",{children:t("general:changesNotSaved")})]}),(0,u.jsxs)("div",{className:"".concat(dD,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",onClick:l,size:"large",children:t("general:stayOnThisPage")}),(0,u.jsx)(e1,{onClick:i,size:"large",children:t("general:leaveAnyway")})]})]})}),e[5]=t,e[6]=l,e[7]=i,e[8]=s):s=e[8],s}var dR=(0,d.e)(Q(),1),dI={413:"Your request was too large to submit successfully."},dT={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:()=>{},disabled:!1,dispatchFields:()=>{},fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:()=>{},initializing:void 0,removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:()=>{},setDisabled:()=>{},setModified:()=>{},setProcessing:()=>{},setSubmitted:()=>{},submit:()=>{},validateForm:()=>{}},dL=(e,t)=>{if(!e)return{changed:!1,result:void 0};let n=[],a=[];return Array.isArray(t)&&(null==t?void 0:t.length)&&t.forEach(e=>a.push(e)),Array.isArray(e)&&(null==e?void 0:e.length)&&e.forEach(e=>n.push(e)),!function(e,t){if(e.length!==t.length)return!1;let n=e.slice().sort(),a=t.slice().sort();for(let e=0;e<n.length;e++)if(n[e]!==a[e])return!1;return!0}(n,a)?{changed:!0,result:a}:{changed:!1,result:e}},dM=["passesCondition","valid","errorMessage","rows","customComponents","requiresRender"],dF=(e,t)=>{let n=!1,a={};if(e)for(let[o,l]of(Object.entries(e).forEach(e=>{var o,l;let[r,i]=e;if(!t[r])return;let s=dL(i.errorPaths,t[r].errorPaths);s.result&&(s.changed&&(n=s.changed),i.errorPaths=s.result),((null===(o=t[r])||void 0===o?void 0:o.filterOptions)||i.filterOptions)&&((0,b.J)(null===(l=t[r])||void 0===l?void 0:l.filterOptions,i.filterOptions)||(n=!0,i.filterOptions=t[r].filterOptions)),dM.forEach(e=>{var a;(0,b.J)(null===(a=t[r])||void 0===a?void 0:a[e],i[e])||(n=!0,e in t[r]?i[e]=t[r][e]:"customComponents"!==e&&delete i[e])}),a[r]={...i}}),Object.entries(t)))e[o]||(n=!0,a[o]=l);return{changed:n,newState:a}},dB=e=>{let{id:t,collectionSlug:n,docPermissions:a,getDocPreferences:o,globalSlug:l}=aV(),{action:i,beforeSubmit:d,children:p,className:h,disabled:f,disableSuccessStatus:m,disableValidationOnSubmit:g,handleResponse:x,initialState:y,isInitializing:w,onChange:j,onSubmit:C,onSuccess:S,redirect:_,submitted:k,uuid:O,waitForAutocomplete:R}=e,I="method"in e?null==e?void 0:e.method:void 0,T=(0,v.useRouter)(),{code:L}=n6(),{i18n:M,t:F}=(0,c.d)(),{refreshCookie:B,user:V}=nY(),z=aW(),{getFormState:U}=lg(),{config:H}=(0,s.b)(),[q,W]=(0,r.useState)(f||!1),[K,Y]=(0,r.useState)(!1),[Q,G]=(0,r.useState)(!1),[X,J]=(0,r.useState)(w),[Z,$]=(0,r.useState)(!1),[ee,et]=(0,r.useState)(!1),en=(0,r.useRef)(null),ea=(0,r.useRef)({}),eo=(0,r.useRef)(null),el=(0,r.useReducer)(db,{},()=>y),[er,ei]=el;ea.current.fields=er;let em=(0,r.useCallback)(async()=>{let e={},a=!0,o=ea.current.getData(),l=Object.entries(ea.current.fields).map(async l=>{let[r,i]=l;if(!1!==i.passesCondition){let e=i.valid;if("validate"in i&&"function"==typeof i.validate){let a=i.value;(null==i?void 0:i.rows)&&Array.isArray(i.rows)&&(a=ea.current.getDataByPath(r)),"string"==typeof(e=await i.validate(a,{...i,id:t,collectionSlug:n,data:o,operation:z,preferences:{},req:{payload:{config:H},t:F,user:V},siblingData:ea.current.getSiblingData(r)}))?(i.errorMessage=e,i.valid=!1):(i.valid=!0,i.errorMessage=void 0)}!1===i.valid&&(a=!1)}e[r]=i});return await Promise.all(l),(0,b.J)(ea.current.fields,e)||ei({type:"REPLACE_STATE",state:e}),a},[n,H,ei,t,z,F,V]),ev=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{action:n=i,method:a=I,overrides:o={},skipValidation:l}=e;if(q){t&&t.preventDefault();return}let r,s,c=new Promise((e,t)=>{s=e,r=t}),u=n||"string"==typeof i||"function"==typeof i;if(_||m||!u?(s=e=>nR.success(e),r=e=>nR.error(e)):nR.promise(c,{error:e=>e,loading:F("general:submitting"),success:e=>e}),t&&(t.stopPropagation(),t.preventDefault()),$(!0),W(!0),R&&await (0,A.D)(100),Array.isArray(d)){let e,t=(0,E.Kz)(ea.current.fields);if(await d.reduce(async(n,a)=>{await n,e=await a({formState:t})},Promise.resolve()),!Object.entries(e).every(e=>{let[,t]=e;return t.valid}))return $(!1),et(!0),W(!1),ei({type:"REPLACE_STATE",state:e})}if(!(l||g||await ea.current.validateForm())){r(F("error:correctInvalidFields")),$(!1),et(!0),W(!1);return}if(C){let e=(0,E.Kz)(ea.current.fields),t=(0,N.Q)(e,!0);if(o)for(let[e,n]of Object.entries(o))t[e]=n;C(e,t)}if(!u){$(!1),et(!0),W(!1);return}let p=ea.current.createFormData(o);try{let e;if("string"==typeof n?e=await nq[a.toLowerCase()](n,{body:p,headers:{"Accept-Language":M.language}}):"function"==typeof i&&(e=await i(p)),G(!1),W(!1),"function"==typeof x){x(e,s,r);return}let t=e.headers.get("content-type"),o=t&&-1!==t.indexOf("application/json"),l={};if(o&&(l=await e.json()),e.status<400)"function"==typeof S&&await S(l),et(!1),$(!1),_?T.push(_):m||s(l.message||F("general:submissionSuccessful"));else{if($(!1),et(!0),ea.current={...ea.current},l.message){r(l.message);return}if(Array.isArray(l.errors)){let[e,t]=l.errors.reduce((e,t)=>{var n,a;let[o,l]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.errors)&&(null===(a=t.data)||void 0===a||a.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...o,...r],[...l,...i]]},[[],[]]);ei({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{r(e.message||F("error:unknown"))});return}let t=(null==dI?void 0:dI[e.status])||(null==e?void 0:e.statusText)||F("error:unknown");r(t)}}catch(e){console.error("Error submitting form",e),$(!1),et(!0),W(!1),r(e.message)}},[d,i,m,g,q,ei,x,I,C,S,_,T,F,M,R]),eg=(0,r.useCallback)(()=>ea.current.fields,[]),eb=(0,r.useCallback)(e=>ea.current.fields[e],[]),ex=(0,r.useCallback)(()=>(0,N.Q)(ea.current.fields,!0),[]),ey=(0,r.useCallback)(e=>(0,P.j)(ea.current.fields,e),[]),ew=(0,r.useCallback)(e=>(0,D.B)(ea.current.fields,e),[]),ej=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,N.Q)(ea.current.fields,!0),n=null==t?void 0:t.file;n&&delete t.file;let a={_payload:JSON.stringify({...t,...e}),file:n};return(0,dR.serialize)(a,{indices:!0,nullsAsUndefineds:!1})},[]),eC=(0,r.useCallback)(async e=>{lw(eo.current);let r=new AbortController;eo.current=r;let i=await o(),{state:s}=await U({id:t,collectionSlug:n,data:e,docPermissions:a,docPreferences:i,globalSlug:l,operation:z,renderAllFields:!0,schemaPath:n||l,signal:r.signal});ea.current={...dT},G(!1),ei({type:"REPLACE_STATE",state:s})},[n,ei,l,t,z,U,a,o]),eS=(0,r.useCallback)(e=>{ea.current={...dT},G(!1),ei({type:"REPLACE_STATE",state:e})},[ei]),e_=(0,r.useCallback)(e=>{let{blockType:t,path:n,rowIndex:a,subFieldState:o}=e,l=ew(n)||[];ei({type:"ADD_ROW",blockType:t,path:n,rowIndex:void 0===a?l.length:a,subFieldState:o})},[ei,ew]),ek=(0,r.useCallback)(e=>{let{path:t,rowIndex:n}=e;ei({type:"REMOVE_ROW",path:t,rowIndex:n})},[ei]),eN=(0,r.useCallback)(e=>{let{blockType:t,path:n,rowIndex:a,subFieldState:o}=e,l=ew(n);ei({type:"REPLACE_ROW",blockType:t,path:n,rowIndex:void 0===a?l.length:a,subFieldState:o})},[ei,ew]);(0,r.useEffect)(()=>()=>{lw(eo.current)},[]),(0,r.useEffect)(()=>{void 0!==w&&J(w)},[w]),ea.current.submit=ev,ea.current.getFields=eg,ea.current.getField=eb,ea.current.getData=ex,ea.current.getSiblingData=ey,ea.current.getDataByPath=ew,ea.current.validateForm=em,ea.current.createFormData=ej,ea.current.setModified=G,ea.current.setProcessing=$,ea.current.setSubmitted=et,ea.current.disabled=q,ea.current.setDisabled=W,ea.current.formRef=en,ea.current.reset=eC,ea.current.replaceState=eS,ea.current.dispatchFields=ei,ea.current.addFieldRow=e_,ea.current.removeFieldRow=ek,ea.current.replaceFieldRow=eN,ea.current.uuid=O,ea.current.initializing=X,(0,r.useEffect)(()=>{Y(!0)},[]),(0,r.useEffect)(()=>{"boolean"==typeof f&&W(f)},[f]),(0,r.useEffect)(()=>{"boolean"==typeof k&&et(k)},[k]),(0,r.useEffect)(()=>{y&&(ea.current={...dT},ei({type:"REPLACE_STATE",optimize:!1,state:y}))},[y,ei]),n7(()=>{B()},15e3,[er]),(0,r.useEffect)(()=>{ea.current={...ea.current},G(!1)},[L]);let eE=[h,"form"].filter(Boolean).join(" ");return function(e,t,n,a){let o=(0,r.useRef)("u">typeof(null==a?void 0:a.runOnFirstRender)&&!(null==a?void 0:a.runOnFirstRender)),l=(0,r.useRef)(t);ls(()=>{(t.some((e,t)=>!n.includes(e)&&!(0,b.J)(e,l.current[t]))||!o.current)&&e(),l.current=t,o.current=!0},t,(null==a?void 0:a.delay)||0)}(()=>{Q&&(async()=>{if(Array.isArray(j)){let e=ea.current.fields;for(let t of j)e=await t({formState:(0,E.Kz)(ea.current.fields)});if(!e)return;let{changed:t,newState:n}=dF(ea.current.fields||{},e);t&&ei({type:"REPLACE_STATE",optimize:!1,state:n})}})()},[ea.current.fields,Q],[ei,j],{delay:250}),(0,u.jsx)("form",{action:"function"==typeof i?void 0:i,className:eE,method:I,noValidate:!0,onSubmit:e=>void ea.current.submit({},e),ref:en,children:(0,u.jsx)(es.Provider,{value:ea.current,children:(0,u.jsx)(ec.Provider,{value:{fields:er,...ea.current},children:(0,u.jsx)(ed.Provider,{value:ee,children:(0,u.jsx)(eh.Provider,{value:!K||K&&X,children:(0,u.jsx)(eu.Provider,{value:Z,children:(0,u.jsx)(ep.Provider,{value:Q,children:(0,u.jsx)(ef.Provider,{value:el,children:p})})})})})})})})},dV=(0,r.createContext)({mostRecentUpdate:null,reportUpdate:e=>null}),dz=e=>{let t=(0,p.c)(3),{children:n}=e,[a,o]=(0,r.useState)(null),l;return t[0]!==a||t[1]!==n?(l=(0,u.jsx)(dV.Provider,{value:{mostRecentUpdate:a,reportUpdate:o},children:n}),t[0]=a,t[1]=n,t[2]=l):l=t[2],l},dU=()=>(0,r.useContext)(dV),dH="document-fields",dq=e=>{let t=(0,p.c)(16),{AfterFields:n,BeforeFields:a,Description:o,docPermissions:l,fields:i,forceSidebarWrap:s,readOnly:c,schemaPathSegments:d}=e,h;t[0]!==i?(h=()=>i.reduce((e,t)=>((0,j.Gc)(t)?(e.sidebarFields.push(t),e.mainFields.push(null),e.hasSidebarFields=!0):(e.mainFields.push(t),e.sidebarFields.push(null)),e),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),t[0]=i,t[1]=h):h=t[1];let[f]=r.useState(h),{hasSidebarFields:m,mainFields:v,sidebarFields:g}=f,b=ey(),x=eb(),y=c||b||x,w=m?"".concat(dH,"--has-sidebar"):"".concat(dH,"--no-sidebar"),C=s&&"".concat(dH,"--force-sidebar-wrap"),S;t[2]!==w||t[3]!==C?(S=[dH,w,C].filter(Boolean),t[2]=w,t[3]=C,t[4]=S):S=t[4];let _=S.join(" "),k;return t[5]!==o||t[6]!==d||t[7]!==(null==l?void 0:l.fields)||t[8]!==v||t[9]!==y||t[10]!==a||t[11]!==n||t[12]!==m||t[13]!==g||t[14]!==_?(k=(0,u.jsxs)("div",{className:_,children:[(0,u.jsx)("div",{className:"".concat(dH,"__main"),children:(0,u.jsxs)(oc,{className:"".concat(dH,"__edit"),children:[o?(0,u.jsx)("header",{className:"".concat(dH,"__header"),children:(0,u.jsx)("div",{className:"".concat(dH,"__sub-header"),children:o})}):null,a,(0,u.jsx)(uX,{className:"".concat(dH,"__fields"),fields:v,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:d.join("."),permissions:null==l?void 0:l.fields,readOnly:y}),n]})}),m?(0,u.jsx)("div",{className:"".concat(dH,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(dH,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(dH,"__sidebar-fields"),children:(0,u.jsx)(uX,{fields:g,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:d.join("."),permissions:null==l?void 0:l.fields,readOnly:y})})})}):null]}),t[5]=o,t[6]=d,t[7]=null==l?void 0:l.fields,t[8]=v,t[9]=y,t[10]=a,t[11]=n,t[12]=m,t[13]=g,t[14]=_,t[15]=k):k=t[15],k},dW={x:0,y:0,width:0,height:0,unit:"px"},dK=(e,t,n)=>Math.min(Math.max(e,t),n),dY=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>e&&"string"==typeof e).join(" ")},dQ=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function dG(e,t,n){return"%"===e.unit?{...dW,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function dX(e,t,n){return e.unit?"px"===e.unit?{...dW,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...dW,...e,unit:"px"}}function dJ(e,t,n,a,o){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:o,c={...e},d=Math.min(l,a),u=Math.min(r,o),p=Math.min(i,a),h=Math.min(s,o);t&&(t>1?(u=(d=r?r*t:d)/t,p=i*t):(d=(u=l?l/t:u)*t,h=s/t)),c.y<0&&(c.height=Math.max(c.height+c.y,u),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,d),c.x=0);let f=a-(c.x+c.width);f<0&&(c.x=Math.min(c.x,a-d),c.width+=f);let m=o-(c.y+c.height);if(m<0&&(c.y=Math.min(c.y,o-u),c.height+=m),c.width<d&&(("sw"===n||"nw"==n)&&(c.x-=d-c.width),c.width=d),c.height<u&&(("nw"===n||"ne"==n)&&(c.y-=u-c.height),c.height=u),c.width>p&&(("sw"===n||"nw"==n)&&(c.x-=p-c.width),c.width=p),c.height>h&&(("nw"===n||"ne"==n)&&(c.y-=h-c.height),c.height=h),t){let e=c.width/c.height;if(e<t){let e=Math.max(c.width/t,u);("nw"===n||"ne"==n)&&(c.y-=e-c.height),c.height=e}else if(e>t){let e=Math.max(c.height*t,d);("sw"===n||"nw"==n)&&(c.x-=e-c.width),c.width=e}}return c}var dZ={capture:!0,passive:!1},d$=class e extends r.PureComponent{get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:n,width:a,height:o}=e.getBoundingClientRect();return{x:t,y:n,width:a,height:o}}componentDidUpdate(e){let{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){let{width:e,height:a}=this.getBox();e&&a&&n(dX(t,e,a),dG(t,e,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,dZ),this.document.addEventListener("pointerup",this.onDocPointerDone,dZ),this.document.addEventListener("pointercancel",this.onDocPointerDone,dZ),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,dZ),this.document.removeEventListener("pointerup",this.onDocPointerDone,dZ),this.document.removeEventListener("pointercancel",this.onDocPointerDone,dZ),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}dragCrop(){let{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),a=e.clientX-e.startClientX,o=e.clientY-e.startClientY;return n.x=dK(e.startCropX+a,0,t.width-n.width),n.y=dK(e.startCropY+o,0,t.height-n.height),n}getPointRegion(e,t,n,a){let{evData:o}=this,l=o.clientX-e.x,r=o.clientY-e.y,i;return i=a&&t?"nw"===t||"n"===t||"ne"===t:r<o.startCropY,(n&&t?"nw"===t||"w"===t||"sw"===t:l<o.startCropX)?i?"nw":"sw":i?"ne":"se"}resolveMinDimensions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=Math.min(n,e.width),l=Math.min(a,e.height);return t&&(o||l)?t>1?o?[o,o/t]:[l*t,l]:l?[l*t,l]:[o,o/t]:[o,l]}resizeCrop(){let{evData:t}=this,{aspect:n=0,maxWidth:a,maxHeight:o}=this.props,l=this.getBox(),[r,i]=this.resolveMinDimensions(l,n,this.props.minWidth,this.props.minHeight),s=this.makePixelCrop(l),c=this.getPointRegion(l,t.ord,r,i),d=t.ord||c,u=t.clientX-t.startClientX,p=t.clientY-t.startClientY;(r&&"nw"===d||"w"===d||"sw"===d)&&(u=Math.min(u,-r)),(i&&"nw"===d||"n"===d||"ne"===d)&&(p=Math.min(p,-i));let h={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(h.x=t.startCropX,h.width=u,n?h.height=h.width/n:h.height=Math.abs(p),h.y=t.startCropY-h.height):"se"===c?(h.x=t.startCropX,h.y=t.startCropY,h.width=u,n?h.height=h.width/n:h.height=p):"sw"===c?(h.x=t.startCropX+u,h.y=t.startCropY,h.width=Math.abs(u),n?h.height=h.width/n:h.height=p):"nw"===c&&(h.x=t.startCropX+u,h.width=Math.abs(u),n?(h.height=h.width/n,h.y=t.startCropY-h.height):(h.height=Math.abs(p),h.y=t.startCropY+p));let f=dJ(h,n,c,l.width,l.height,r,i,a,o);return n||e.xyOrds.indexOf(d)>-1?s=f:e.xOrds.indexOf(d)>-1?(s.x=f.x,s.width=f.width):e.yOrds.indexOf(d)>-1&&(s.y=f.y,s.height=f.height),s.x=dK(s.x,0,l.width-s.width),s.y=dK(s.y,0,l.height-s.height),s}createCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:a,renderSelectionAddon:o,ruleOfThirds:l,crop:i}=this.props,s=this.getCropStyle();if(i)return r.createElement("div",{style:s,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!a&&r.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},r.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),o&&r.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},o(this.state)),l&&r.createElement(r.Fragment,null,r.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),r.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return dX({...dW,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:n,className:a,crop:o,disabled:l,locked:i,style:s,ruleOfThirds:c}=this.props,{cropIsActive:d,newCropIsBeingDrawn:u}=this.state,p=o?this.createCropSelection():null,h=dY("ReactCrop",a,d&&"ReactCrop--active",l&&"ReactCrop--disabled",i&&"ReactCrop--locked",u&&"ReactCrop--new-crop",o&&e&&"ReactCrop--fixed-aspect",o&&n&&"ReactCrop--circular-crop",o&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return r.createElement("div",{ref:this.componentRef,className:h,style:s},r.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),p)}constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,r.createRef)(),this.mediaRef=(0,r.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:n}=this.props,a=this.getBox();if(!t)return;let o=dX(t,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let l=e.target.dataset.ord,r=e.clientX,i=e.clientY,s=o.x,c=o.y;if(l){let t=e.clientX-a.x,n=e.clientY-a.y,d=0,u=0;"ne"===l||"e"==l?(d=t-(o.x+o.width),u=n-o.y,s=o.x,c=o.y+o.height):"se"===l||"s"===l?(d=t-(o.x+o.width),u=n-(o.y+o.height),s=o.x,c=o.y):"sw"===l||"w"==l?(d=t-o.x,u=n-(o.y+o.height),s=o.x+o.width,c=o.y):("nw"===l||"n"==l)&&(d=t-o.x,u=n-o.y,s=o.x+o.width,c=o.y+o.height),r=s+a.x+d,i=c+a.y+u}this.evData={startClientX:r,startClientY:i,startCropX:s,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!!l,ord:l},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:n,locked:a,keepSelection:o,onChange:l}=this.props,r=this.getBox();if(n||a||o&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.clientX-r.x,s=e.clientY-r.y,c={unit:"px",x:i,y:s,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:i,startCropY:s,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,l(dX(c,r.width,r.height),dG(c,r.width,r.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t,{crop:n,disabled:a,onChange:o,onDragStart:l}=this.props,r=this.getBox();if(a||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,l&&l(e));let{evData:i}=this;i.clientX=e.clientX,i.clientY=e.clientY,dQ(n,t=i.isResize?this.resizeCrop():this.dragCrop())||o(dX(t,r.width,r.height),dG(t,r.width,r.height))},this.onComponentKeyDown=t=>{let{crop:n,disabled:a,onChange:o,onComplete:l}=this.props;if(a)return;let r=t.key,i=!1;if(!n)return;let s=this.getBox(),c=this.makePixelCrop(s),d=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===r?(c.x-=d,i=!0):"ArrowRight"===r?(c.x+=d,i=!0):"ArrowUp"===r?(c.y-=d,i=!0):"ArrowDown"===r&&(c.y+=d,i=!0),i){t.cancelable&&t.preventDefault(),c.x=dK(c.x,0,s.width-c.width),c.y=dK(c.y,0,s.height-c.height);let e=dX(c,s.width,s.height),n=dG(c,s.width,s.height);o(e,n),l&&l(e,n)}},this.onHandlerKeyDown=(t,n)=>{let{aspect:a=0,crop:o,disabled:l,minWidth:r=0,minHeight:i=0,maxWidth:s,maxHeight:c,onChange:d,onComplete:u}=this.props,p=this.getBox();if(l||!o||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,f=dJ(function(e,t,n,a){let o={...e};return"ArrowLeft"===t?"nw"===a?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):"w"===a?(o.x-=n,o.width+=n):"sw"===a?(o.x-=n,o.width+=n,o.height+=n):"ne"===a?(o.y+=n,o.width-=n,o.height-=n):"e"===a?o.width-=n:"se"===a&&(o.width-=n,o.height-=n):"ArrowRight"===t&&("nw"===a?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):"w"===a?(o.x+=n,o.width-=n):"sw"===a?(o.x+=n,o.width-=n,o.height-=n):"ne"===a?(o.y-=n,o.width+=n,o.height+=n):"e"===a?o.width+=n:"se"===a&&(o.width+=n,o.height+=n)),"ArrowUp"===t?"nw"===a?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):"n"===a?(o.y-=n,o.height+=n):"ne"===a?(o.y-=n,o.width+=n,o.height+=n):"sw"===a?(o.x+=n,o.width-=n,o.height-=n):"s"===a?o.height-=n:"se"===a&&(o.width-=n,o.height-=n):"ArrowDown"===t&&("nw"===a?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):"n"===a?(o.y+=n,o.height-=n):"ne"===a?(o.y+=n,o.width-=n,o.height-=n):"sw"===a?(o.x-=n,o.width+=n,o.height+=n):"s"===a?o.height+=n:"se"===a&&(o.width+=n,o.height+=n)),o}(dX(o,p.width,p.height),t.key,h,n),a,n,p.width,p.height,r,i,s,c);if(!dQ(o,f)){let e=dG(f,p.width,p.height);d(f,e),u&&u(f,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:n,onComplete:a,onDragEnd:o}=this.props,l=this.getBox();this.unbindDocMove(),!(n||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(e),a&&a(dX(t,l.width,l.height),dG(t,l.width,l.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null==(t=this.componentRef.current)||t.scrollTo(0,0)}}};d$.xOrds=["e","w"],d$.yOrds=["n","s"],d$.xyOrds=["nw","ne","se","sw"],d$.nudgeStep=1,d$.nudgeStepMedium=10,d$.nudgeStepLarge=100,d$.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var d0="edit-upload",d1=(0,r.forwardRef)((e,t)=>{let{name:n,onChange:a,value:o}=e;return(0,u.jsxs)("div",{className:"".concat(d0,"__input"),children:[n,(0,u.jsx)("input",{name:n,onChange:e=>a(e.target.value),ref:t,type:"number",value:o})]})}),d2={height:100,unit:"%",width:100,x:0,y:0},d3=e=>{let{fileName:t,fileSrc:n,imageCacheTag:a,initialCrop:o,initialFocalPoint:l,onSave:i,showCrop:s,showFocalPoint:d}=e,{closeModal:p}=tU(),{t:h}=(0,c.d)(),[f,m]=(0,r.useState)(()=>({...d2,...o||{}})),v={x:50,y:50},[g,b]=(0,r.useState)(()=>({...v,...l})),[x,y]=(0,r.useState)(!1),[w,j]=(0,r.useState)(0),[C,S]=(0,r.useState)(0),_=(0,r.useRef)(void 0),k=(0,r.useRef)(void 0),N=(0,r.useRef)(void 0),E=(0,r.useRef)(null),A=(0,r.useRef)(null),[P,D]=(0,r.useState)(!1),O=e=>{j(e.currentTarget.naturalHeight),S(e.currentTarget.naturalWidth),D(!0)},R=e=>{let{dimension:t,value:n}=e,a=parseInt(n);if("width"===t&&a>=C||"height"===t&&a>=w)return null;let o=a/("width"===t?C:w)*100;if(100===o||0===o)return null;m({...f,[t]:o})},I=e=>{let{coordinate:t,value:n}=e,a=parseInt(n);a>=0&&a<=100&&b(e=>({...e,[t]:a}))},T=r.useCallback(e=>{let{x:t,y:n}=e;b({x:t,y:n}),y(!1)},[]),L=a?"".concat(n,"?").concat(a):n;return(0,u.jsxs)("div",{className:d0,children:[(0,u.jsxs)("div",{className:"".concat(d0,"__header"),children:[(0,u.jsxs)("h2",{title:"".concat(h("general:editing")," ").concat(t),children:[h("general:editing")," ",t]}),(0,u.jsxs)("div",{className:"".concat(d0,"__actions"),children:[(0,u.jsx)(e1,{"aria-label":h("general:cancel"),buttonStyle:"secondary",className:"".concat(d0,"__cancel"),onClick:()=>p(us),children:h("general:cancel")}),(0,u.jsx)(e1,{"aria-label":h("general:applyChanges"),buttonStyle:"primary",className:"".concat(d0,"__save"),disabled:!P,onClick:()=>{var e,t,n,a;"function"==typeof i&&i({crop:f||void 0,focalPoint:g,heightInPixels:Number(null!==(n=null==E?void 0:null===(e=E.current)||void 0===e?void 0:e.value)&&void 0!==n?n:w),widthInPixels:Number(null!==(a=null==A?void 0:null===(t=A.current)||void 0===t?void 0:t.value)&&void 0!==a?a:C)}),p(us)},children:h("general:applyChanges")})]})]}),(0,u.jsxs)("div",{className:"".concat(d0,"__toolWrap"),children:[(0,u.jsx)("div",{className:"".concat(d0,"__crop"),children:(0,u.jsxs)("div",{className:"".concat(d0,"__focal-wrapper"),ref:_,style:{aspectRatio:"".concat(C/w)},children:[s?(0,u.jsx)(d$,{className:"".concat(d0,"__reactCrop"),crop:f,onChange:(e,t)=>m(t),onComplete:()=>y(!0),renderSelectionAddon:()=>(0,u.jsx)("div",{className:"".concat(d0,"__crop-window"),ref:N}),children:(0,u.jsx)("img",{alt:h("upload:setCropArea"),onLoad:O,ref:k,src:L})}):(0,u.jsx)("img",{alt:h("upload:setFocalPoint"),onLoad:O,ref:k,src:L}),d&&(0,u.jsx)(d6,{boundsRef:s?N:k,checkBounds:!!s&&x,className:"".concat(d0,"__focalPoint"),containerRef:_,initialPosition:g,onDragEnd:T,setCheckBounds:!!s&&y,children:(0,u.jsx)(eR,{})})]})}),(s||d)&&(0,u.jsxs)("div",{className:"".concat(d0,"__sidebar"),children:[s&&(0,u.jsxs)("div",{className:"".concat(d0,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(d0,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:crop")}),(0,u.jsx)(e1,{buttonStyle:"none",className:"".concat(d0,"__reset"),onClick:()=>m({height:100,unit:"%",width:100,x:0,y:0}),children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(d0,"__description"),children:h("upload:cropToolDescription")}),(0,u.jsxs)("div",{className:"".concat(d0,"__inputsWrap"),children:[(0,u.jsx)(d1,{name:"".concat(h("upload:width")," (px)"),onChange:e=>R({dimension:"width",value:e}),ref:A,value:(f.width/100*C).toFixed(0)}),(0,u.jsx)(d1,{name:"".concat(h("upload:height")," (px)"),onChange:e=>R({dimension:"height",value:e}),ref:E,value:(f.height/100*w).toFixed(0)})]})]}),d&&(0,u.jsxs)("div",{className:"".concat(d0,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(d0,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:focalPoint")}),(0,u.jsx)(e1,{buttonStyle:"none",className:"".concat(d0,"__reset"),onClick:()=>{let e=_.current.getBoundingClientRect(),t=s?N.current.getBoundingClientRect():k.current.getBoundingClientRect();b({x:(t.left-e.left+t.width/2)/e.width*100,y:(t.top-e.top+t.height/2)/e.height*100})},children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(d0,"__description"),children:h("upload:focalPointDescription")}),(0,u.jsxs)("div",{className:"".concat(d0,"__inputsWrap"),children:[(0,u.jsx)(d1,{name:"X %",onChange:e=>I({coordinate:"x",value:e}),value:g.x.toFixed(0)}),(0,u.jsx)(d1,{name:"Y %",onChange:e=>I({coordinate:"y",value:e}),value:g.y.toFixed(0)})]})]})]})]})]})},d6=e=>{let{boundsRef:t,checkBounds:n,children:a,className:o,containerRef:l,initialPosition:i={x:50,y:50},onDragEnd:s,setCheckBounds:c}=e,[d,p]=(0,r.useState)({x:i.x,y:i.y}),[h,f]=(0,r.useState)(!1),m=(0,r.useRef)(void 0),v=r.useCallback((e,n,a)=>{let o=l.current.getBoundingClientRect(),r=t.current.getBoundingClientRect(),i=null!=e?e:r.left,s=null!=n?n:r.top,c=i<r.left||i>r.right,d=s<r.top||s>r.bottom,u=(i-o.left)/o.width*100,p=(s-o.top)/o.height*100,h=(r.left-o.left+r.width/2)/o.width*100,m=(r.top-o.top+r.height/2)/o.height*100;return(c||d)&&(f(!1),i<r.left?u=(r.left-o.left)/o.width*100:i>r.right&&(u=(o.width-(o.right-r.right))/o.width*100),s<r.top?p=(r.top-o.top)/o.height*100:s>r.bottom&&(p=(o.height-(o.bottom-r.bottom))/o.height*100),a&&(u=c?h:u,p=d?m:p)),{x:u,y:p}},[t,l]);return r.useEffect(()=>{if(!(h||!m.current)&&n){let{height:e,left:t,top:n,width:a}=m.current.getBoundingClientRect(),{x:o,y:l}=v(t+a/2,n+e/2,!0);s({x:o,y:l}),p({x:o,y:l}),c(!1);return}},[v,h,n,c,d.x,d.y,s]),r.useEffect(()=>{p({x:i.x,y:i.y})},[i.x,i.y]),(0,u.jsxs)("div",{className:["".concat(d0,"__draggable-container"),h&&"".concat(d0,"__draggable-container--dragging")].filter(Boolean).join(" "),onMouseMove:e=>{if(!h)return null;let{x:t,y:n}=v(e.clientX,e.clientY);p({x:t,y:n})},children:[(0,u.jsx)("button",{className:["".concat(d0,"__draggable"),o].filter(Boolean).join(" "),onMouseDown:e=>{e.preventDefault(),f(!0)},onMouseUp:()=>{f(!1),s(d)},ref:m,style:{left:"".concat(d.x,"%"),top:"".concat(d.y,"%")},type:"button",children:a}),(0,u.jsx)("div",{})]})},d5="file-details-draggable",d4=e=>{let t,n=(0,p.c)(19),{collectionSlug:a,doc:o,imageCacheTag:l,isSortable:r,removeItem:i,rowIndex:s,uploadConfig:c}=e,{id:d,filename:h,thumbnailURL:f,url:m}=o,v;n[0]!==d||n[1]!==a?(v={id:d,collectionSlug:a},n[0]=d,n[1]=a,n[2]=v):v=n[2];let[g,b]=lG(v),x;return n[3]!==r||n[4]!==a||n[5]!==o||n[6]!==f||n[7]!==m||n[8]!==l||n[9]!==c||n[10]!==h||n[11]!==g||n[12]!==b||n[13]!==i||n[14]!==s?(x=e=>(0,u.jsxs)("div",{className:[d5,e&&r&&"".concat(d5,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:[(0,u.jsxs)("div",{className:"".concat(d5,"--drag-wrapper"),children:[r&&e&&(0,u.jsx)("div",{className:"".concat(d5,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(oe,{})}),(0,u.jsx)(l6,{className:"".concat(d5,"__thumbnail"),collectionSlug:a,doc:o,fileSrc:f||m,imageCacheTag:l,uploadConfig:c})]}),(0,u.jsx)("div",{className:"".concat(d5,"__main-detail"),children:h}),(0,u.jsxs)("div",{className:"".concat(d5,"__actions"),children:[(0,u.jsx)(g,{}),(0,u.jsx)(b,{children:(0,u.jsx)(eD,{})}),i&&(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(d5,"__remove"),icon:"x",iconStyle:"none",onClick:()=>i(s),round:!0})]})]}),n[3]=r,n[4]=a,n[5]=o,n[6]=f,n[7]=m,n[8]=l,n[9]=c,n[10]=h,n[11]=g,n[12]=b,n[13]=i,n[14]=s,n[15]=x):x=n[15],n[16]!==d||n[17]!==x?(t=(0,u.jsx)(th,{id:d,children:x},d),n[16]=d,n[17]=x,n[18]=t):t=n[18],t},d9=e=>{let{defaultMessage:t,successMessage:n,value:a}=e,o=(0,r.useRef)(null),[l,i]=(0,r.useState)(!1),[s,d]=(0,r.useState)(!1),{t:p}=(0,c.d)();return a?(0,u.jsxs)("button",{className:"copy-to-clipboard",onClick:()=>{o&&o.current&&(o.current.select(),o.current.setSelectionRange(0,a.length+1),document.execCommand("copy"),i(!0))},onMouseEnter:()=>{d(!0),i(!1)},onMouseLeave:()=>{d(!1),i(!1)},type:"button",children:[(0,u.jsx)(a4,{}),(0,u.jsxs)(eZ,{delay:l?0:void 0,show:s||l,children:[l&&(null!=n?n:p("general:copied")),!l&&(null!=t?t:p("general:copy"))]}),(0,u.jsx)("textarea",{readOnly:!0,ref:o,tabIndex:-1,value:a})]}):null},d8="file-meta",d7=e=>{let t=(0,p.c)(19),{id:n,collection:a,filename:o,filesize:l,height:i,mimeType:s,url:c,width:d}=e,[h,f]=(0,r.useState)(!1),m=!!(n&&a),v;t[0]!==n||t[1]!==a?(v={id:n,collectionSlug:a},t[0]=n,t[1]=a,t[2]=v):v=t[2];let[g,b]=lG(v),x;if(t[3]!==m||t[4]!==g||t[5]!==c||t[6]!==o||t[7]!==h||t[8]!==b||t[9]!==l||t[10]!==d||t[11]!==i||t[12]!==s){let e,n;t[14]!==d||t[15]!==i?(e=d&&i&&(0,u.jsxs)(r.Fragment,{children:["\xa0-\xa0",d,"x",i]}),t[14]=d,t[15]=i,t[16]=e):e=t[16],t[17]!==s?(n=s&&(0,u.jsxs)(r.Fragment,{children:["\xa0-\xa0",s]}),t[17]=s,t[18]=n):n=t[18],x=(0,u.jsxs)("div",{className:d8,children:[(0,u.jsxs)("div",{className:"".concat(d8,"__url"),children:[m&&(0,u.jsx)(g,{}),(0,u.jsx)("a",{href:c,rel:"noopener noreferrer",target:"_blank",children:o}),(0,u.jsx)(d9,{defaultMessage:"Copy URL",value:c}),m&&(0,u.jsxs)(b,{className:"".concat(d8,"__edit"),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[(0,u.jsx)(eD,{}),(0,u.jsx)(eZ,{show:h,children:"Edit"})]})]}),(0,u.jsxs)("div",{className:"".concat(d8,"__size-type"),children:[(0,R.D)(l),e,n]})]}),t[3]=m,t[4]=g,t[5]=c,t[6]=o,t[7]=h,t[8]=b,t[9]=l,t[10]=d,t[11]=i,t[12]=s,t[13]=x}else x=t[13];return x},ue="file-details",ut=e=>{let{collectionSlug:t,customUploadActions:n,doc:a,enableAdjustments:o,handleRemove:l,hasImageSizes:r,imageCacheTag:i,uploadConfig:s}=e,{id:c,filename:d,filesize:p,height:h,mimeType:f,thumbnailURL:m,url:v,width:g}=a;return(0,u.jsx)("div",{className:ue,children:(0,u.jsxs)("header",{children:[(0,u.jsx)(l6,{className:"".concat(ue,"__thumbnail"),doc:a,fileSrc:m||v,imageCacheTag:i,uploadConfig:s}),(0,u.jsxs)("div",{className:"".concat(ue,"__main-detail"),children:[(0,u.jsx)(d7,{collection:t,filename:d,filesize:p,height:h,id:c,mimeType:f,url:v,width:g}),(o||n)&&(0,u.jsx)(uu,{customActions:n,enableAdjustments:!!o,enablePreviewSizes:r&&a.filename,mimeType:f})]}),l&&(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(ue,"__remove"),icon:"x",iconStyle:"with-border",onClick:l,round:!0})]})})},un=e=>{let{hasMany:t}=e;return t?(0,u.jsx)(d4,{...e}):(0,u.jsx)(ut,{...e})},ua="preview-sizes",uo=(e,t)=>{if(!t||0===t.length)return e;let n={};return t.forEach(t=>{let{name:a}=t;e[a]&&(n[a]=e[a])}),n},ul=e=>{let{name:t,active:n,meta:a,onClick:o,previewSrc:l}=e;return(0,u.jsxs)("div",{className:["".concat(ua,"__sizeOption"),n&&"".concat(ua,"--selected")].filter(Boolean).join(" "),onClick:"function"==typeof o?o:void 0,onKeyDown:e=>{"function"==typeof o&&"Enter"===e.key&&o()},role:"button",tabIndex:0,children:[(0,u.jsx)("div",{className:"".concat(ua,"__image"),children:(0,u.jsx)("img",{alt:a.filename,src:l})}),(0,u.jsxs)("div",{className:"".concat(ua,"__sizeMeta"),children:[(0,u.jsx)("div",{className:"".concat(ua,"__sizeName"),children:t}),(0,u.jsx)(d7,{...a})]})]})},ur=e=>{let{doc:t,imageCacheTag:n,uploadConfig:a}=e,{imageSizes:o}=a,{sizes:l}=t,[i,s]=(0,r.useState)(()=>uo(l,o)),[c,d]=(0,r.useState)(null),p=e=>e.filename?e.url?"".concat(e.url).concat(n?"?".concat(n):""):void 0:null;(0,r.useEffect)(()=>{s(uo(l,o))},[l,o,n]);let h=p(c?t.sizes[c]:t),f=(0,r.useMemo)(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),m="Original";return(0,u.jsxs)("div",{className:ua,children:[(0,u.jsxs)("div",{className:"".concat(ua,"__imageWrap"),children:[(0,u.jsxs)("div",{className:"".concat(ua,"__meta"),children:[(0,u.jsx)("div",{className:"".concat(ua,"__sizeName"),children:c||m}),(0,u.jsx)(d7,{...c?i[c]:f})]}),(0,u.jsx)("img",{alt:t.filename,className:"".concat(ua,"__preview"),src:h})]}),(0,u.jsx)("div",{className:"".concat(ua,"__listWrap"),children:(0,u.jsxs)("div",{className:"".concat(ua,"__list"),children:[(0,u.jsx)(ul,{active:!c,meta:f,name:m,onClick:()=>d(null),previewSrc:p(t)}),Object.entries(i).map(e=>{let[t,n]=e,a=c===t,o=p(n);return o?(0,u.jsx)(ul,{active:a,meta:n,name:t,onClick:()=>d(t),previewSrc:o},t):null})]})})]})},ui="file-field",us="edit-upload",uc="preview-sizes",ud=e=>!!e||void 0===e||"A file is required.",uu=e=>{let t=(0,p.c)(9),{customActions:n,enableAdjustments:a,enablePreviewSizes:o,mimeType:l}=e,{t:i}=(0,c.d)(),s,d;if(t[0]!==l||t[1]!==n||t[2]!==o||t[3]!==i||t[4]!==a){d=Symbol.for("react.early_return_sentinel");e:{let e,c=(0,O.O)(l)&&"image/svg+xml"!==l;if(!c&&(!n||0===n.length)){d=null;break e}t[7]!==n?(e=n&&n.map(uh),t[7]=n,t[8]=e):e=t[8],s=(0,u.jsxs)("div",{className:"".concat(ui,"__upload-actions"),children:[c&&(0,u.jsxs)(r.Fragment,{children:[o&&(0,u.jsx)(oh,{className:"".concat(ui,"__previewSizes"),slug:uc,children:i("upload:previewSizes")}),a&&(0,u.jsx)(oh,{className:"".concat(ui,"__edit"),slug:us,children:i("upload:editImage")})]}),e]})}t[0]=l,t[1]=n,t[2]=o,t[3]=i,t[4]=a,t[5]=s,t[6]=d}else s=t[5],d=t[6];return d!==Symbol.for("react.early_return_sentinel")?d:s},up=e=>{var t,n,a,o,l;let{collectionSlug:i,customActions:s,initialState:d,onChange:p,uploadConfig:h}=e,{t:f}=(0,c.d)(),{setModified:m}=em(),{resetUploadEdits:v,updateUploadEdits:g,uploadEdits:b}=aT(),{docPermissions:x}=aV(),{errorMessage:y,setValue:w,showError:j,value:C}=aK({path:"file",validate:ud}),[S,_]=(0,r.useState)((0,N.Q)(d||{},!0)),[k,E]=(0,r.useState)(null),[A,P]=(0,r.useState)(!1),[D,R]=(0,r.useState)((null==C?void 0:C.name)||""),[I,T]=(0,r.useState)(!1),[L,M]=(0,r.useState)(""),F=(0,r.useRef)(null),B=(0,r.useRef)(null),V=(0,r.useCallback)(e=>{e instanceof File&&E(URL.createObjectURL(e)),w(e),T(!1),"function"==typeof p&&p(e)},[p,w]),z=(e,t)=>new File([e],t,{type:e.type,lastModified:e.lastModified}),U=r.useCallback(e=>{let t=e.target.value;C&&(V(z(C,t)),R(t))},[V,C]),H=(0,r.useCallback)(e=>{V(null==e?void 0:e[0])},[V]),q=(0,r.useCallback)(()=>{P(!0),V(null),E(""),M(""),_({}),v(),T(!1)},[V,v]),W=(0,r.useCallback)(e=>{m(!0),g(e)},[m,g]),K=async()=>{if(L)try{let e=await (await fetch(L)).blob(),t=L.split("/").pop(),n=new File([e],t,{type:e.type});V(n)}catch(e){nR.error(e.message)}};(0,r.useEffect)(()=>{var e;_((0,N.Q)(d||{},!0)),(null==d?void 0:null===(e=d.file)||void 0===e?void 0:e.value)instanceof File&&E(URL.createObjectURL(d.file.value)),P(!1)},[d]),(0,r.useEffect)(()=>{I&&F.current},[I]);let Y=(null==x?void 0:x.update)&&"delete"in x&&(null==x?void 0:x.delete),Q=(null==h?void 0:null===(t=h.imageSizes)||void 0===t?void 0:t.length)>0,G=!!(null==h?void 0:h.resizeOptions),X=(null==h?void 0:h.focalPoint)===!0,{crop:J=!0,focalPoint:Z=!0}=h,$=Z&&(Q||G||X),ee=null===(n=h.mimeTypes)||void 0===n?void 0:n.join(", ");return(0,u.jsxs)("div",{className:[aX,ui].filter(Boolean).join(" "),children:[(0,u.jsx)(tx,{message:y,showError:j}),S.filename&&!A&&(0,u.jsx)(un,{collectionSlug:i,customUploadActions:s,doc:S,enableAdjustments:J||$,handleRemove:Y?q:void 0,hasImageSizes:Q,imageCacheTag:S.updatedAt,uploadConfig:h}),(!S.filename||A)&&(0,u.jsxs)("div",{className:"".concat(ui,"__upload"),children:[!C&&!I&&(0,u.jsx)(dc,{onChange:H,children:(0,u.jsxs)("div",{className:"".concat(ui,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(ui,"__dropzoneButtons"),children:[(0,u.jsx)(e1,{buttonStyle:"pill",onClick:()=>{B.current&&B.current.click()},size:"small",children:f("upload:selectFile")}),(0,u.jsx)("input",{accept:ee,"aria-hidden":"true",className:"".concat(ui,"__hidden-input"),hidden:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&H(e.target.files)},ref:B,type:"file"}),(0,u.jsx)("span",{className:"".concat(ui,"__orText"),children:f("general:or")}),(0,u.jsx)(e1,{buttonStyle:"pill",onClick:()=>{T(!0)},size:"small",children:f("upload:pasteURL")})]}),(0,u.jsxs)("p",{className:"".concat(ui,"__dragAndDropText"),children:[f("general:or")," ",f("upload:dragAndDrop")]})]})}),I&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(ui,"__remote-file-wrap"),children:[(0,u.jsx)("input",{className:"".concat(ui,"__remote-file"),onChange:e=>{M(e.target.value)},ref:F,type:"text",value:L}),(0,u.jsx)("div",{className:"".concat(ui,"__add-file-wrap"),children:(0,u.jsx)("button",{className:"".concat(ui,"__add-file"),onClick:()=>{K()},type:"button",children:f("upload:addFile")})})]}),(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(ui,"__remove"),icon:"x",iconStyle:"with-border",onClick:()=>{T(!1)},round:!0,tooltip:f("general:cancel")})]}),C&&k&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(ui,"__thumbnail-wrap"),children:(0,u.jsx)(l6,{collectionSlug:i,fileSrc:(0,O.O)(C.type)?k:null})}),(0,u.jsxs)("div",{className:"".concat(ui,"__file-adjustments"),children:[(0,u.jsx)("input",{className:"".concat(ui,"__filename"),onChange:U,type:"text",value:D||C.name}),(0,u.jsx)(uu,{customActions:s,enableAdjustments:J||$,enablePreviewSizes:Q&&S.filename&&!A,mimeType:C.type})]}),(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(ui,"__remove"),icon:"x",iconStyle:"with-border",onClick:q,round:!0,tooltip:f("general:cancel")})]})]}),(C||S.filename)&&(0,u.jsx)(tw,{children:(0,u.jsx)(of,{Header:null,slug:us,children:(0,u.jsx)(d3,{fileName:(null==C?void 0:C.name)||(null==S?void 0:S.filename),fileSrc:(null==S?void 0:S.url)||k,imageCacheTag:S.updatedAt,initialCrop:null!==(l=null==b?void 0:b.crop)&&void 0!==l?l:void 0,initialFocalPoint:{x:(null==b?void 0:null===(a=b.focalPoint)||void 0===a?void 0:a.x)||S.focalX||50,y:(null==b?void 0:null===(o=b.focalPoint)||void 0===o?void 0:o.y)||S.focalY||50},onSave:W,showCrop:J,showFocalPoint:$})})}),S&&Q&&(0,u.jsx)(of,{className:"".concat(ui,"__previewDrawer"),hoverTitle:!0,slug:uc,title:f("upload:sizesFor",{label:null==S?void 0:S.filename}),children:(0,u.jsx)(ur,{doc:S,imageCacheTag:S.updatedAt,uploadConfig:h})})]})};function uh(e,t){return(0,u.jsx)(r.Fragment,{children:e},t)}function uf(e){let{submitted:t}=e,{action:n,collectionSlug:a,docPermissions:o,getDocPreferences:l,hasSavePermission:i,initialState:c,isEditing:d,isInitializing:p,Upload:h}=aV(),{onSave:f}=lH(),{getFormState:m}=lg(),{config:{routes:{admin:g}},getEntityConfig:b}=(0,s.b)(),x=r.useRef(null),y=b({collectionSlug:a}),w=(0,v.useRouter)(),j=tj(),C=(0,v.useSearchParams)(),{reportUpdate:S}=dU(),{resetUploadEdits:_}=aT(),k=C.get("locale"),N=y.slug,[E]=r.useState(N),A=(0,r.useCallback)(e=>{var t,n;if(S({entitySlug:N,updatedAt:(null==e?void 0:null===(t=e.result)||void 0===t?void 0:t.updatedAt)||new Date().toISOString()}),"function"==typeof f&&f({...e,operation:"create"}),!d&&j<2){let t=nB({adminRoute:g,path:"/collections/".concat(N,"/").concat(null==e?void 0:null===(n=e.doc)||void 0===n?void 0:n.id).concat(k?"?locale=".concat(k):"")});w.push(t)}else _()},[g,N,j,d,k,f,S,_,w]),P=(0,r.useCallback)(async e=>{let{formState:t}=e;lw(x.current);let n=new AbortController;x.current=n;let a=await l(),{state:r}=await m({collectionSlug:N,docPermissions:o,docPreferences:a,formState:t,operation:"create",schemaPath:E,signal:n.signal});return r},[N,E,l,m,o]);return(0,r.useEffect)(()=>()=>{lw(x.current)},[]),(0,u.jsx)(aq,{operation:"create",children:(0,u.jsx)(uN,{children:(0,u.jsxs)(dB,{action:n,className:"".concat("collection-edit","__form"),disabled:p||!i,initialState:p?void 0:c,isInitializing:p,method:"POST",onChange:[P],onSuccess:A,submitted:t,children:[(0,u.jsx)(dq,{BeforeFields:(0,u.jsx)(r.Fragment,{children:h||(0,u.jsx)(up,{collectionSlug:y.slug,initialState:c,uploadConfig:y.upload})}),docPermissions:o,fields:y.fields,schemaPathSegments:[y.slug]}),(0,u.jsx)(uv,{}),(0,u.jsx)(um,{})]})})})}function um(){let{getFields:e}=em(),{getFormDataRef:t}=d_();return r.useEffect(()=>{t.current=e},[e,t]),null}function uv(){let{docConfig:e}=aV(),{activeIndex:t,setFormTotalErrorCount:n}=d_(),a=r.useRef(0),o=r.useCallback(e=>{e!==a.current&&(n({errorCount:e,index:t}),a.current=e)},[t,n]);return e?(0,u.jsx)(oZ,{fields:e.fields,path:[],setErrorCount:o}):null}var ug=y.default||y,ub="bulk-upload-drawer--add-more-files",ux="file-selections";function uy(){let e=(0,p.c)(36),{activeIndex:t,addFiles:n,forms:a,isInitializing:o,removeFile:l,setActiveIndex:i,thumbnailUrls:s,totalErrorCount:d}=d_(),{initialFiles:h,maxFiles:f}=uE(),{i18n:m,t:v}=(0,c.d)(),{closeModal:g,openModal:b}=tU(),[x,y]=r.useState(!1),{breakpoints:w}=eU(),j;e[0]!==l?(j=e=>{l(e)},e[0]=l,e[1]=j):j=e[1];let C=j,S;e[2]!==n||e[3]!==g?(S=e=>{n(e),g(ub)},e[2]=n,e[3]=g,e[4]=S):S=e[4];let _=S,k=o?h.length:a.length,N=x&&"".concat(ux,"__showingFiles"),E;e[5]!==N?(E=[ux,N].filter(Boolean),e[5]=N,e[6]=E):E=e[6];let A=E.join(" "),P;if(e[7]!==w.m||e[8]!==x||e[9]!==d||e[10]!==m||e[11]!==k||e[12]!==v||e[13]!==f||e[14]!==b||e[15]!==g||e[16]!==_||e[17]!==o||e[18]!==a||e[19]!==h||e[20]!==t||e[21]!==i||e[22]!==s||e[23]!==C||e[24]!==A){let n,l,r;e[26]===Symbol.for("react.memo_cache_sentinel")?(n=()=>y(e=>!e),e[26]=n):n=e[26],e[27]!==g?(l=()=>g(ub),e[27]=g,e[28]=l):l=e[28],e[29]!==t||e[30]!==i||e[31]!==s||e[32]!==m||e[33]!==v||e[34]!==C?(r=(e,n)=>{let a,o,{errorCount:l,formState:r}=e,d=r.file.value;return(0,u.jsxs)("div",{className:["".concat(ux,"__fileRowContainer"),n===t&&"".concat(ux,"__fileRowContainer--active"),l&&l>0&&"".concat(ux,"__fileRowContainer--error")].filter(Boolean).join(" "),children:[(0,u.jsxs)("button",{className:"".concat(ux,"__fileRow"),onClick:()=>i(n),type:"button",children:[(0,u.jsx)(l6,{className:"".concat(ux,"__thumbnail"),fileSrc:(0,O.O)(d.type)?s[n]:void 0}),(0,u.jsx)("div",{className:"".concat(ux,"__fileDetails"),children:(0,u.jsx)("p",{className:"".concat(ux,"__fileName"),title:d.name,children:d.name})}),(0,u.jsx)("p",{className:"".concat(ux,"__fileSize"),children:(o=0===(a=d.size)?0:Math.floor(Math.log(a)/Math.log(1024)),(a/Math.pow(1024,o)).toFixed(o>1?1:0)+" "+["B","kB","MB","GB","TB"][o])}),(0,u.jsx)("div",{className:"".concat(ux,"__remove ").concat(ux,"__remove--underlay"),children:(0,u.jsx)(c.a,{})}),l?(0,u.jsx)(tv,{className:"".concat(ux,"__errorCount"),count:l,i18n:m}):null]}),(0,u.jsx)("button",{"aria-label":v("general:remove"),className:"".concat(ux,"__remove ").concat(ux,"__remove--overlay"),onClick:()=>C(n),type:"button",children:(0,u.jsx)(c.a,{})})]},n)},e[29]=t,e[30]=i,e[31]=s,e[32]=m,e[33]=v,e[34]=C,e[35]=r):r=e[35],P=(0,u.jsxs)("div",{className:A,children:[w.m&&x?(0,u.jsx)("div",{className:"".concat(ux,"__mobileBlur")}):null,(0,u.jsxs)("div",{className:"".concat(ux,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(ux,"__headerTopRow"),children:[(0,u.jsxs)("div",{className:"".concat(ux,"__header__text"),children:[(0,u.jsx)(tv,{count:d,i18n:m,withMessage:!0}),(0,u.jsx)("p",{children:(0,u.jsxs)("strong",{title:"".concat(k," ").concat(v(k>1?"upload:filesToUpload":"upload:fileToUpload")),children:[k," ",v(k>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),(0,u.jsxs)("div",{className:"".concat(ux,"__header__actions"),children:["number"==typeof f&&k<f?(0,u.jsx)(oj,{onClick:()=>b(ub),children:v("upload:addFile")}):null,(0,u.jsxs)(e1,{buttonStyle:"transparent",className:"".concat(ux,"__toggler"),onClick:n,children:[(0,u.jsx)("span",{className:"".concat(ux,"__toggler__label"),children:(0,u.jsxs)("strong",{title:"".concat(k," ").concat(v(k>1?"upload:filesToUpload":"upload:fileToUpload")),children:[k," ",v(k>1?"upload:filesToUpload":"upload:fileToUpload")]})}),(0,u.jsx)(eP,{direction:x?"down":"up"})]}),(0,u.jsx)(of,{gutter:!1,Header:null,slug:ub,children:(0,u.jsx)(dh,{onCancel:l,onDrop:_})})]})]}),(0,u.jsx)("div",{className:"".concat(ux,"__header__mobileDocActions"),children:(0,u.jsx)(dE,{})})]}),(0,u.jsx)("div",{className:"".concat(ux,"__animateWrapper"),children:(0,u.jsx)(ug,{duration:200,height:!w.m||x?"auto":0,children:(0,u.jsxs)("div",{className:"".concat(ux,"__filesContainer"),children:[o&&0===a.length&&h.length>0?Array.from(h).map(uw):null,a.map(r)]})})})]}),e[7]=w.m,e[8]=x,e[9]=d,e[10]=m,e[11]=k,e[12]=v,e[13]=f,e[14]=b,e[15]=g,e[16]=_,e[17]=o,e[18]=a,e[19]=h,e[20]=t,e[21]=i,e[22]=s,e[23]=C,e[24]=A,e[25]=P}else P=e[25];return P}function uw(e,t){return(0,u.jsx)(s.d,{animationDelay:"calc(".concat(t," * 60ms)"),height:"35px"},t)}var uj="bulk-upload--file-manager";function uC(){let e=(0,p.c)(16),{activeIndex:t,collectionSlug:n,docPermissions:a,documentSlots:o,forms:l,hasPublishPermission:r,hasSavePermission:i,hasSubmitted:d}=d_(),f=l[t],{getEntityConfig:m}=(0,s.b)(),{i18n:v}=(0,c.d)(),{user:g}=nY(),{openModal:b}=tU(),x;if(e[0]!==n||e[1]!==m||e[2]!==b||e[3]!==v||e[4]!==f||e[5]!==d||e[6]!==g||e[7]!==a||e[8]!==r||e[9]!==i||e[10]!==o||e[11]!==t||e[12]!==l){let s=m({collectionSlug:n}),c;e[14]!==b?(c=()=>b(dP),e[14]=b,e[15]=c):c=e[15],x=(0,u.jsxs)("div",{className:uj,children:[(0,u.jsx)(uy,{}),(0,u.jsxs)("div",{className:"".concat(uj,"__editView"),children:[(0,u.jsx)(du,{onClose:c,title:(0,h.i0)(s.labels.singular,v)}),f?(0,u.jsxs)(aU,{collectionSlug:n,currentEditor:g,docPermissions:a,hasPublishedDoc:!1,hasPublishPermission:r,hasSavePermission:i,id:null,initialData:(0,N.Q)(f.formState,!0),initialState:f.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:o.Upload,versionCount:0,children:[(0,u.jsx)(dN,{}),(0,u.jsx)(uf,{submitted:d})]},"".concat(t,"-").concat(l.length)):null]}),(0,u.jsx)(dO,{})]}),e[0]=n,e[1]=m,e[2]=b,e[3]=v,e[4]=f,e[5]=d,e[6]=g,e[7]=a,e[8]=r,e[9]=i,e[10]=o,e[11]=t,e[12]=l,e[13]=x}else x=e[13];return x}function uS(){var e,t;let{addFiles:n,forms:a,isInitializing:o}=d_(),{closeModal:l}=tU(),{collectionSlug:i,drawerSlug:d}=uE(),{config:p}=(0,s.b)(),{t:h}=(0,c.d)(),f=null===(t=p.collections.find(e=>e.slug===i))||void 0===t?void 0:null===(e=t.upload)||void 0===e?void 0:e.mimeTypes,m=r.useCallback(e=>{let t=new DataTransfer;for(let n of e)(void 0===f||0===f.length||(0,k.b)(n.type,f))&&t.items.add(n);0===t.files.length?nR.error(h("error:invalidFileType")):n(t.files)},[n,h,f]);return i?a.length||o?(0,u.jsx)(uC,{}):(0,u.jsx)(dh,{acceptMimeTypes:null==f?void 0:f.join(", "),onCancel:()=>l(d),onDrop:m}):null}function u_(){let e=(0,p.c)(2),{drawerSlug:t}=uE(),n;return e[0]!==t?(n=(0,u.jsx)(of,{gutter:!1,Header:null,slug:t,children:(0,u.jsx)(dS,{children:(0,u.jsx)(uS,{})})}),e[0]=t,e[1]=n):n=e[1],n}var uk=r.createContext({collectionSlug:"",drawerSlug:"",initialFiles:void 0,maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,setCollectionSlug:()=>null,setInitialFiles:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null});function uN(e){let t,n,a=(0,p.c)(14),{children:o}=e,[l,i]=r.useState(),[s,c]=r.useState(),[d,h]=r.useState(),[f,m]=r.useState(void 0),[v,g]=r.useState(void 0),b=uA(),x;a[0]===Symbol.for("react.memo_cache_sentinel")?(x=e=>{i(e)},a[0]=x):x=a[0];let y=x,w;a[1]===Symbol.for("react.memo_cache_sentinel")?(w=e=>{c(()=>e)},a[1]=w):w=a[1];let j=w,C;return a[2]!==d?(C=()=>{"function"==typeof d&&d()},a[2]=d,a[3]=C):C=a[3],a[4]!==s?(t=(e,t)=>{"function"==typeof s&&s(e,t)},a[4]=s,a[5]=t):t=a[5],a[6]!==l||a[7]!==b||a[8]!==f||a[9]!==v||a[10]!==C||a[11]!==t||a[12]!==o?(n=(0,u.jsx)(uk.Provider,{value:{collectionSlug:l,drawerSlug:b,initialFiles:f,maxFiles:v,onCancel:C,onSuccess:t,setCollectionSlug:y,setInitialFiles:m,setMaxFiles:g,setOnCancel:h,setOnSuccess:j},children:(0,u.jsxs)(r.Fragment,{children:[o,(0,u.jsx)(u_,{})]})}),a[6]=l,a[7]=b,a[8]=f,a[9]=v,a[10]=C,a[11]=t,a[12]=o,a[13]=n):n=a[13],n}var uE=()=>r.useContext(uk);function uA(){let e=og();return"".concat("bulk-upload-drawer-slug","-").concat(e||1)}var uP=e=>{let{allowCreate:t=!0,collectionSlugs:n,drawerSlug:a,enableRowSelections:o,filterOptions:l,onBulkSelect:i,onSelect:c,selectedCollection:d}=e,{closeModal:p,isModalOpen:h}=tU(),{serverFunction:f}=lg(),[m,v]=(0,r.useState)(void 0),[g,b]=(0,r.useState)(!0),{config:{collections:x},getEntityConfig:y}=(0,s.b)(),w=h(a),j=x.filter(e=>{let{slug:t}=e;return n.includes(t)}),[C,S]=(0,r.useState)(()=>{var e;let t=y({collectionSlug:d||(null===(e=j[0])||void 0===e?void 0:e.slug)});return t?{label:t.labels,value:t.slug}:void 0}),[_,k,{drawerSlug:N}]=lG({collectionSlug:C.value});(0,r.useEffect)(()=>{d&&d!==(null==C?void 0:C.value)&&S({label:x.find(e=>{let{slug:t}=e;return t===d}).labels,value:d})},[d,x,C]);let E=(0,r.useCallback)(async(e,t)=>{try{let n={...t||{},where:{...(null==t?void 0:t.where)||{}}},r=null==l?void 0:l[e];l&&"boolean"!=typeof r&&(n.where=ly(n.where,r));let{List:i}=await f({name:"render-list",args:{collectionSlug:e,disableBulkDelete:!0,disableBulkEdit:!0,drawerSlug:a,enableRowSelections:o,query:n}});v(i),b(!1)}catch(e){console.error("Error rendering List View: ",e),w&&p(a)}},[f,p,a,w,o,l]);(0,r.useEffect)(()=>{m||E(C.value)},[E,m,C.value]);let A=(0,r.useCallback)(e=>{let{doc:t}=e;"function"==typeof c&&c({collectionSlug:C.value,docID:t.id}),p(N),p(a)},[p,N,a,c,C.value]),P=(0,r.useCallback)(e=>{E(C.value,e)},[E,C.value]),D=(0,r.useCallback)(e=>{S(e),E(e.value)},[E]);return g?(0,u.jsx)(lF,{}):(0,u.jsxs)(lu,{createNewDrawerSlug:N,DocumentDrawerToggler:k,drawerSlug:a,enabledCollections:n,onBulkSelect:i,onQueryChange:P,onSelect:c,selectedOption:C,setSelectedOption:D,children:[m,(0,u.jsx)(_,{onSave:A})]})},uD="list-drawer",uO=e=>{let{depth:t,uuid:n}=e;return"list-drawer_".concat(t,"_").concat(n)},uR=e=>{let{children:t,className:n,disabled:a,drawerSlug:o,onClick:l,...r}=e;return(0,u.jsx)(oh,{className:[n,"".concat(uD,"__toggler")].filter(Boolean).join(" "),disabled:a,onClick:l,slug:o,...r,children:t})},uI=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(of,{className:uD,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(uP,{...e})})},uT=e=>{let t,n,a,o,l,i,c,d,h=(0,p.c)(42),{collectionSlugs:f,filterOptions:m,selectedCollection:v,uploads:g}=e,{config:b}=(0,s.b)(),{collections:x}=b,y=tj(),w=(0,r.useId)(),{closeModal:j,modalState:C,openModal:S,toggleModal:_}=tU(),[k,N]=(0,r.useState)(!1),[E,A]=(0,r.useState)(f),P;h[0]!==y||h[1]!==w?(P=uO({depth:y,uuid:w}),h[0]=y,h[1]=w,h[2]=P):P=h[2];let D=P,O,R;h[3]!==C||h[4]!==D?(O=()=>{var e;N(!!(null===(e=C[D])||void 0===e?void 0:e.isOpen))},R=[C,D],h[3]=C,h[4]=D,h[5]=O,h[6]=R):(O=h[5],R=h[6]),(0,r.useEffect)(O,R),h[7]!==E||h[8]!==x||h[9]!==g?(i=()=>{E&&0!==E.length||A(x.filter(e=>{let{upload:t}=e;return!g||!!t}).map(e=>{let{slug:t}=e;return t}))},c=[E,g,x],h[7]=E,h[8]=x,h[9]=g,h[10]=i,h[11]=c):(i=h[10],c=h[11]),(0,r.useEffect)(i,c),h[12]!==_||h[13]!==D?(d=()=>{_(D)},h[12]=_,h[13]=D,h[14]=d):d=h[14];let I=d,T;h[15]!==j||h[16]!==D?(T=()=>{j(D)},h[15]=j,h[16]=D,h[17]=T):T=h[17];let L=T,M;h[18]!==S||h[19]!==D?(M=()=>{S(D)},h[18]=S,h[19]=D,h[20]=M):M=h[20];let F=M,B,V;return h[21]!==L||h[22]!==E||h[23]!==D||h[24]!==m||h[25]!==v||h[26]!==g?(V=e=>(0,r.createElement)(uI,{...e,closeDrawer:L,collectionSlugs:E,drawerSlug:D,filterOptions:m,key:D,selectedCollection:v,uploads:g}),h[21]=L,h[22]=E,h[23]=D,h[24]=m,h[25]=v,h[26]=g,h[27]=V):V=h[27],B=V,h[28]!==D?(n=e=>(0,u.jsx)(uR,{...e,drawerSlug:D}),h[28]=D,h[29]=n):n=h[29],t=n,h[30]!==L||h[31]!==E||h[32]!==y||h[33]!==D||h[34]!==k||h[35]!==F||h[36]!==I?(o={closeDrawer:L,collectionSlugs:E,drawerDepth:y,drawerSlug:D,isDrawerOpen:k,openDrawer:F,setCollectionSlugs:A,toggleDrawer:I},h[30]=L,h[31]=E,h[32]=y,h[33]=D,h[34]=k,h[35]=F,h[36]=I,h[37]=o):o=h[37],a=o,h[38]!==B||h[39]!==t||h[40]!==a?(l=[B,t,a],h[38]=B,h[39]=t,h[40]=a,h[41]=l):l=h[41],l},uL="upload-relationship-details";function uM(e){let t=(0,p.c)(24),{id:n,allowEdit:a,allowRemove:o,alt:l,byteSize:r,className:i,collectionSlug:s,filename:c,mimeType:d,onRemove:h,reloadDoc:f,src:m,withMeta:v,x:g,y:b}=e,x=void 0===v||v,y;t[0]!==f||t[1]!==s?(y=async e=>{let{doc:t}=e;return f(t.id,s)},t[0]=f,t[1]=s,t[2]=y):y=t[2];let w=y,j;t[3]!==n||t[4]!==s?(j={id:n,collectionSlug:s},t[3]=n,t[4]=s,t[5]=j):j=t[5];let[C,S,_]=lG(j),{openDrawer:k}=_,N;t[6]!==g||t[7]!==b?(N=function(e,t){let n=[];return e.includes("image")&&n.push((0,R.D)(t)),g&&b&&n.push("".concat(g,"x").concat(b)),e&&n.push(e),n.join("  ")},t[6]=g,t[7]=b,t[8]=N):N=t[8];let E=x?N(d,r):"",A;t[9]!==i?(A=[uL,i].filter(Boolean),t[9]=i,t[10]=A):A=t[10];let P=A.join(" "),D;return t[11]!==l||t[12]!==c||t[13]!==m||t[14]!==x||t[15]!==E||t[16]!==a||t[17]!==o||t[18]!==k||t[19]!==h||t[20]!==w||t[21]!==C||t[22]!==P?(D=(0,u.jsxs)("div",{className:P,children:[(0,u.jsxs)("div",{className:"".concat(uL,"__imageAndDetails"),children:[(0,u.jsx)(l5,{alt:l,className:"".concat(uL,"__thumbnail"),filename:c,fileSrc:m,size:"small"}),(0,u.jsxs)("div",{className:"".concat(uL,"__details"),children:[(0,u.jsx)("p",{className:"".concat(uL,"__filename"),children:(0,u.jsx)("a",{href:m,target:"_blank",children:c})}),x?(0,u.jsx)("p",{className:"".concat(uL,"__meta"),children:E}):null]})]}),!1!==a||!1!==o?(0,u.jsxs)("div",{className:"".concat(uL,"__actions"),children:[!1!==a?(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(uL,"__edit"),icon:"edit",iconStyle:"none",onClick:k}):null,!1!==o?(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(uL,"__remove"),icon:"x",iconStyle:"none",onClick:()=>h()}):null,(0,u.jsx)(C,{onSave:w})]}):null]}),t[11]=l,t[12]=c,t[13]=m,t[14]=x,t[15]=E,t[16]=a,t[17]=o,t[18]=k,t[19]=h,t[20]=w,t[21]=C,t[22]=P,t[23]=D):D=t[23],D}var uF="upload-field-card";function uB(e){let{children:t,className:n,size:a="medium"}=e;return(0,u.jsx)("div",{className:[uF,n,"".concat(uF,"--size-").concat(a)].filter(Boolean).join(" "),children:t})}var uV="upload upload--has-many";function uz(e){let t=(0,p.c)(25),{className:n,fileDocs:a,isSortable:o,onRemove:l,onReorder:r,readonly:i,reloadDoc:s,serverURL:c}=e,d;t[0]!==a||t[1]!==r?(d=(e,t)=>{if(e===t)return;let n=[...a],[o]=n.splice(e,1);n.splice(t,0,o),r(n)},t[0]=a,t[1]=r,t[2]=d):d=t[2];let h=d,f;t[3]!==a||t[4]!==l?(f=e=>{let t=[...a||[]];t.splice(e,1),l(0===t.length?[]:t)},t[3]=a,t[4]=l,t[5]=f):f=t[5];let m=f,v;t[6]!==n?(v=[uV,n].filter(Boolean),t[6]=n,t[7]=v):v=t[7];let g=v.join(" "),b;if(t[8]!==a||t[9]!==h||t[10]!==c||t[11]!==o||t[12]!==i||t[13]!==m||t[14]!==s||t[15]!==g){let e,n;t[17]!==h?(e=e=>{let{moveFromIndex:t,moveToIndex:n}=e;return h(t,n)},t[17]=h,t[18]=e):e=t[18],t[19]!==c||t[20]!==o||t[21]!==i||t[22]!==m||t[23]!==s?(n=(e,t)=>{let{relationTo:n,value:a}=e,l=String(a.id),r=a.thumbnailURL||a.url,d;try{d=new URL(r,c).toString()}catch(e){d="".concat(c).concat(r)}return(0,u.jsx)(th,{disabled:!o||i,id:l,children:e=>(0,u.jsx)("div",{className:["".concat(uV,"__dragItem"),e&&o&&"".concat(uV,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:(0,u.jsxs)(uB,{size:"small",children:[e&&(0,u.jsx)("div",{className:"".concat(uV,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(oe,{})}),(0,u.jsx)(uM,{allowEdit:!i,allowRemove:!i,alt:(null==a?void 0:a.alt)||(null==a?void 0:a.filename),byteSize:a.filesize,collectionSlug:n,filename:a.filename,id:l,mimeType:null==a?void 0:a.mimeType,onRemove:()=>m(t),reloadDoc:s,src:d,withMeta:!1,x:null==a?void 0:a.width,y:null==a?void 0:a.height})]})})},l)},t[19]=c,t[20]=o,t[21]=i,t[22]=m,t[23]=s,t[24]=n):n=t[24],b=(0,u.jsx)("div",{className:g,children:(0,u.jsx)(tf,{className:"".concat(uV,"__draggable-rows"),ids:null==a?void 0:a.map(uU),onDragEnd:e,children:a.map(n)})}),t[8]=a,t[9]=h,t[10]=c,t[11]=o,t[12]=i,t[13]=m,t[14]=s,t[15]=g,t[16]=b}else b=t[16];return b}function uU(e){let{value:t}=e;return String(t.id)}function uH(e){let{className:t,fileDoc:n,onRemove:a,readonly:o,reloadDoc:l,serverURL:r}=e,{relationTo:i,value:s}=n,c=String(null==s?void 0:s.id),d=s.thumbnailURL||s.url,p;try{p=new URL(d,r).toString()}catch(e){p="".concat(r).concat(d)}return(0,u.jsx)(uB,{className:["upload upload--has-one",t].filter(Boolean).join(" "),children:(0,u.jsx)(uM,{allowEdit:!o,allowRemove:!o,alt:(null==s?void 0:s.alt)||(null==s?void 0:s.filename),byteSize:s.filesize,collectionSlug:i,filename:s.filename,id:c,mimeType:null==s?void 0:s.mimeType,onRemove:a,reloadDoc:l,src:p,x:null==s?void 0:s.width,y:null==s?void 0:s.height})})}var uq="upload";function uW(e){var t,n,a,o,l,i;let d,h,f,m,v,b,x,y;let w=(0,p.c)(121),{AfterInput:j,allowCreate:C,api:S,BeforeInput:_,className:k,Description:N,description:E,Error:A,filterOptions:P,hasMany:D,isSortable:O,Label:R,label:I,localized:T,maxRows:L,onChange:M,path:F,readOnly:B,relationTo:V,required:z,serverURL:U,showError:H,style:q,value:W}=e,[K,Y]=r.useState(),[Q]=r.useState(Array.isArray(V)?V[0]:V),{openModal:G}=tU(),{drawerSlug:X,setCollectionSlug:J,setInitialFiles:Z,setMaxFiles:ee,setOnSuccess:et}=uE(),{permissions:en}=nY(),{code:ea}=n6(),{i18n:eo,t:el}=(0,c.d)(),er,ei;w[0]!==P||w[1]!==Q?(ei=(null==P?void 0:P[Q])||{},w[0]=P,w[1]=Q,w[2]=ei):ei=w[2],w[3]!==P||w[4]!==Q?(d=(null==P?void 0:null===(t=P[Q])||void 0===t?void 0:t.id)||{},w[3]=P,w[4]=Q,w[5]=d):d=w[5],w[6]!==P||w[7]!==Q?(h=(null==P?void 0:null===(a=P[Q])||void 0===a?void 0:null===(n=a.id)||void 0===n?void 0:n.not_in)||[],w[6]=P,w[7]=Q,w[8]=h):h=w[8],w[9]!==W||w[10]!==h?(f=h.concat(...Array.isArray(W)||W?[W]:[]),w[9]=W,w[10]=h,w[11]=f):f=w[11],w[12]!==d||w[13]!==f?(m={...d,not_in:f},w[12]=d,w[13]=f,w[14]=m):m=w[14],w[15]!==ei||w[16]!==m?(v={...ei,id:m},w[15]=ei,w[16]=m,w[17]=v):v=w[17],w[18]!==P||w[19]!==Q||w[20]!==v?(b={...P,[Q]:v},w[18]=P,w[19]=Q,w[20]=v,w[21]=b):b=w[21],er=b,w[22]!==V?(y="string"==typeof V?[V]:V,w[22]=V,w[23]=y):y=w[23],w[24]!==y||w[25]!==er?(x={collectionSlugs:y,filterOptions:er},w[24]=y,w[25]=er,w[26]=x):x=w[26];let[es,,ec]=uT(x),{closeDrawer:ed,openDrawer:eu}=ec,ep;w[27]!==Q?(ep={collectionSlug:Q},w[27]=Q,w[28]=ep):ep=w[28];let[eh,,ef]=lG(ep),{closeDrawer:em,openDrawer:ev}=ef,eg=r.useRef(!1),eb;e:{if(!C){eb=!1;break e}if("string"==typeof Q&&(null==en?void 0:en.collections)&&(null===(i=en.collections)||void 0===i?void 0:null===(l=i[Q])||void 0===l?void 0:l.create)){eb=!0;break e}eb=!1}let ex=eb,ey;w[29]!==M?(ey=e=>{"function"==typeof M&&M(e)},w[29]=M,w[30]=ey):ey=w[30];let ew=ey,ej;w[31]!==ea||w[32]!==U||w[33]!==S||w[34]!==eo.language?(ej=async(e,t)=>{let n={depth:0,draft:!0,limit:e.length,locale:ea,where:{and:[{id:{in:e}}]}},a=await fetch("".concat(U).concat(S,"/").concat(t),{body:g.P(n),credentials:"include",headers:{"Accept-Language":eo.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"},method:"POST"});if(a.ok){let t=await a.json(),n=e.map(e=>t.docs.find(t=>String(t.id)===String(e)));return{...t,docs:n}}return null},w[31]=ea,w[32]=U,w[33]=S,w[34]=eo.language,w[35]=ej):ej=w[35];let eC=ej,eS;w[36]!==D||w[37]!==W||w[38]!==ew||w[39]!==Q?(eS=e=>{if(D)ew([...Array.isArray(W)?W:[],...e.map(e=>e.id)]),Y(t=>[...t||[],...e.map(e=>({relationTo:Q,value:e}))]);else{let t=e[0];ew(t.id),Y([{relationTo:Q,value:t}])}},w[36]=D,w[37]=W,w[38]=ew,w[39]=Q,w[40]=eS):eS=w[40];let e_=eS,ek;w[41]!==D||w[42]!==Z||w[43]!==J||w[44]!==V||w[45]!==et||w[46]!==e_||w[47]!==L||w[48]!==ee||w[49]!==G||w[50]!==X?(ek=e=>{let t=e;if(!D&&e&&e.length>1){let n=new DataTransfer;n.items.add(e[0]),t=n.files}t&&Z(t),J(V),et(e_),"number"==typeof L&&ee(L),G(X)},w[41]=D,w[42]=Z,w[43]=J,w[44]=V,w[45]=et,w[46]=e_,w[47]=L,w[48]=ee,w[49]=G,w[50]=X,w[51]=ek):ek=w[51];let eN=ek,eE;w[52]!==eC||w[53]!==Q||w[54]!==ew||w[55]!==W||w[56]!==ed?(eE=async e=>{let t=[];for(let[n,a]of e)a&&t.push(n);let n=await eC(t,Q);n&&Y(e=>[...e||[],...n.docs.map(e=>({relationTo:Q,value:e}))]),ew([...Array.isArray(W)?W:[],...t]),ed()},w[52]=eC,w[53]=Q,w[54]=ew,w[55]=W,w[56]=ed,w[57]=eE):eE=w[57];let eA=eE,eP;w[58]!==Q||w[59]!==ew||w[60]!==em?(eP=e=>{e.doc&&(Y(t=>[...t||[],{relationTo:Q,value:e.doc}]),ew(e.doc.id)),em()},w[58]=Q,w[59]=ew,w[60]=em,w[61]=eP):eP=w[61];let eD=eP,eO;w[62]!==eC||w[63]!==D||w[64]!==Q||w[65]!==ew||w[66]!==W||w[67]!==ed?(eO=async e=>{var t;let{collectionSlug:n,docID:a}=e,o=await eC([a],n),l=o?null===(t=o.docs)||void 0===t?void 0:t[0]:null;Y(e=>l?D?[...e||[],{relationTo:Q,value:l}]:[{relationTo:Q,value:l}]:e),ew(D?[...Array.isArray(W)?W:[],a]:a),ed()},w[62]=eC,w[63]=D,w[64]=Q,w[65]=ew,w[66]=W,w[67]=ed,w[68]=eO):eO=w[68];let eR=eO,eI;w[69]!==eC?(eI=async(e,t)=>{let{docs:n}=await eC([e],t);n[0]&&Y(e=>{let a=null==e?void 0:e.findIndex(e=>e.value.id===n[0].id&&e.relationTo===t);if(a>-1){let o=[...e];return o[a]={relationTo:t,value:n[0]},o}})},w[69]=eC,w[70]=eI):eI=w[70];let eT=eI,eL;w[71]!==ew?(eL=e=>{ew(e.map(e=>{let{value:t}=e;return t.id})),Y(e)},w[71]=ew,w[72]=eL):eL=w[72];let eM=eL,eF;w[73]!==ew||w[74]!==D?(eF=e=>{let t=e?e.map(e=>{let{value:t}=e;return t.id}):null;ew(D?t:t?t[0]:null),Y(e||[])},w[73]=ew,w[74]=D,w[75]=eF):eF=w[75];let eB=eF,eV,ez;w[76]!==W||w[77]!==eC||w[78]!==Q?(eV=()=>{let e=async function(){if(W){eg.current=!0;let e=await eC(Array.isArray(W)?W:[W],Q);e&&Y(e.docs.map(e=>({relationTo:Q,value:e})))}};eg.current||e()},ez=[eC,Q,W],w[76]=W,w[77]=eC,w[78]=Q,w[79]=eV,w[80]=ez):(eV=w[79],ez=w[80]),(0,r.useEffect)(eV,ez);let eU=!W||D&&Array.isArray(W)&&("number"!=typeof L||W.length<L)||!D&&(null==K?void 0:K[0])&&typeof K[0].value>"u",eH=H&&"error",eq=B&&"read-only",eW;w[81]!==k||w[82]!==eH||w[83]!==eq?(eW=[aX,uq,k,eH,eq].filter(Boolean),w[81]=k,w[82]=eH,w[83]=eq,w[84]=eW):eW=w[84];let eK=eW.join(" "),eY="field-".concat(null==F?void 0:F.replace(/\./g,"__")),eQ;return w[85]!==I||w[86]!==T||w[87]!==F||w[88]!==z||w[89]!==R||w[90]!==H||w[91]!==A||w[92]!==D||w[93]!==W||w[94]!==K||w[95]!==O||w[96]!==B||w[97]!==eB||w[98]!==eM||w[99]!==eT||w[100]!==U||w[101]!==el||w[102]!==eU||w[103]!==ex||w[104]!==eN||w[105]!==ev||w[106]!==eu||w[107]!==eD||w[108]!==eh||w[109]!==eA||w[110]!==eR||w[111]!==es||w[112]!==L||w[113]!==E||w[114]!==N||w[115]!==_||w[116]!==j||w[117]!==eK||w[118]!==eY||w[119]!==q?(eQ=(0,u.jsxs)("div",{className:eK,id:eY,style:q,children:[(0,u.jsx)($,{CustomComponent:R,Fallback:(0,u.jsx)(n4,{label:I,localized:T,path:F,required:z})}),(0,u.jsx)("div",{className:"".concat(uq,"__wrap"),children:(0,u.jsx)($,{CustomComponent:A,Fallback:(0,u.jsx)(tx,{path:F,showError:H})})}),_,(0,u.jsxs)("div",{className:"".concat(uq,"__dropzoneAndUpload"),children:[D&&Array.isArray(W)&&W.length>0?(0,u.jsx)(u.Fragment,{children:K&&(null==K?void 0:K.length)>0?(0,u.jsx)(uz,{fileDocs:K,isSortable:O&&!B,onRemove:eB,onReorder:eM,readonly:B,reloadDoc:eT,serverURL:U}):(0,u.jsx)("div",{className:"".concat(uq,"__loadingRows"),children:W.map(uK)})}):null,!D&&W?(0,u.jsx)(u.Fragment,{children:K&&(null==K?void 0:K.length)>0&&K[0].value?(0,u.jsx)(uH,{fileDoc:K[0],onRemove:eB,readonly:B,reloadDoc:eT,serverURL:U}):!K||!W||(null==K?void 0:null===(o=K[0])||void 0===o?void 0:o.value)?(0,u.jsx)(s.d,{height:"62px"}):(0,u.jsxs)(u.Fragment,{children:[el("general:untitled")," - ID: ",W]})}):null,eU?(0,u.jsx)(dc,{disabled:B||!ex,multipleFiles:D,onChange:eN,children:(0,u.jsxs)("div",{className:"".concat(uq,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(uq,"__dropzoneContent__buttons"),children:[ex&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(e1,{buttonStyle:"pill",className:"".concat(uq,"__createNewToggler"),disabled:B||!ex,onClick:()=>{B||(D?eN():ev())},size:"small",children:el("general:createNew")}),(0,u.jsx)("span",{className:"".concat(uq,"__dropzoneContent__orText"),children:el("general:or")})]}),(0,u.jsx)(e1,{buttonStyle:"pill",className:"".concat(uq,"__listToggler"),disabled:B,onClick:eu,size:"small",children:el("fields:chooseFromExisting")}),(0,u.jsx)(eh,{onSave:eD}),(0,u.jsx)(es,{allowCreate:ex,enableRowSelections:D,onBulkSelect:eA,onSelect:eR})]}),ex&&!B&&(0,u.jsxs)("p",{className:"".concat(uq,"__dragAndDropText"),children:[el("general:or")," ",el("upload:dragAndDrop")]})]})}):(0,u.jsx)(u.Fragment,{children:!B&&!K&&(!W||"number"!=typeof L||Array.isArray(W)&&W.length<L)?(0,u.jsx)(s.d,{height:"40px"}):null})]}),j,(0,u.jsx)($,{CustomComponent:N,Fallback:(0,u.jsx)(tb,{description:E,path:F})})]}),w[85]=I,w[86]=T,w[87]=F,w[88]=z,w[89]=R,w[90]=H,w[91]=A,w[92]=D,w[93]=W,w[94]=K,w[95]=O,w[96]=B,w[97]=eB,w[98]=eM,w[99]=eT,w[100]=U,w[101]=el,w[102]=eU,w[103]=ex,w[104]=eN,w[105]=ev,w[106]=eu,w[107]=eD,w[108]=eh,w[109]=eA,w[110]=eR,w[111]=es,w[112]=L,w[113]=E,w[114]=N,w[115]=_,w[116]=j,w[117]=eK,w[118]=eY,w[119]=q,w[120]=eQ):eQ=w[120],eQ}function uK(e){return(0,u.jsx)(s.d,{height:"40px"},e)}var uY=aQ(function(e){let{field:t,field:{admin:{allowCreate:n,className:a,description:o,isSortable:l}={},hasMany:i,label:c,localized:d,maxRows:p,relationTo:h,required:f},path:m,readOnly:v,validate:g}=e,{config:b}=(0,s.b)(),{customComponents:{AfterInput:x,BeforeInput:y,Description:w,Error:j,Label:C}={},filterOptions:S,setValue:_,showError:k,value:N}=aK({path:m,validate:r.useCallback((e,t)=>{if("function"==typeof g)return g(e,{...t,required:f})},[g,f])}),E=(0,r.useMemo)(()=>aG(t),[t]);return(0,u.jsx)(uW,{AfterInput:x,allowCreate:!1!==n,api:b.routes.api,BeforeInput:y,className:a,Description:w,description:o,Error:j,filterOptions:S,hasMany:i,isSortable:l,label:c,Label:C,localized:d,maxRows:p,onChange:_,path:m,readOnly:v,relationTo:h,required:f,serverURL:b.serverURL,showError:k,style:E,value:N})});function uQ(e){let t,n=(0,p.c)(13),{clientFieldConfig:a,forceRender:o,indexPath:l,parentPath:r,parentSchemaPath:i,path:s,permissions:c,readOnly:d,schemaPath:h}=e,f;n[0]!==s?(f=e=>{var t,n;let[a]=e;return a&&(null==a?void 0:null===(n=a[s])||void 0===n?void 0:null===(t=n.customComponents)||void 0===t?void 0:t.Field)},n[0]=s,n[1]=f):f=n[1];let m=ew(f);if(void 0!==m)return m||null;if(n[2]!==o||n[3]!==d||n[4]!==h||n[5]!==l||n[6]!==r||n[7]!==i||n[8]!==c||n[9]!==a||n[10]!==s){t=Symbol.for("react.early_return_sentinel");e:{var v;let e={forceRender:o,readOnly:d,schemaPath:h},p={...e,indexPath:l,parentPath:r,parentSchemaPath:i,permissions:c};if(null===(v=a.admin)||void 0===v?void 0:v.hidden){t=(0,u.jsx)(li,{...e,path:s});break e}switch(a.type){case"array":t=(0,u.jsx)(u0,{...p,field:a,path:s});break e;case"blocks":t=(0,u.jsx)(oq,{...p,field:a,path:s});break e;case"checkbox":t=(0,u.jsx)(a3,{...e,field:a,path:s});break e;case"code":t=(0,u.jsx)(oG,{...e,field:a,path:s});break e;case"collapsible":t=(0,u.jsx)(o0,{...p,field:a,path:s});break e;case"date":t=(0,u.jsx)(o6,{...e,field:a,path:s});break e;case"email":t=(0,u.jsx)(o5,{...e,field:a,path:s});break e;case"group":t=(0,u.jsx)(lr,{...p,field:a,path:s});break e;case"join":t=(0,u.jsx)(rg,{...e,field:a,path:s});break e;case"json":t=(0,u.jsx)(rb,{...e,field:a,path:s});break e;case"number":t=(0,u.jsx)(cE,{...e,field:a,path:s});break e;case"point":t=(0,u.jsx)(cP,{...e,field:a,path:s});break e;case"radio":t=(0,u.jsx)(cI,{...e,field:a,path:s});break e;case"relationship":t=(0,u.jsx)(c0,{...e,field:a,path:s});break e;case"richText":t=(0,u.jsx)(c1,{...e,field:a,path:s});break e;case"row":t=(0,u.jsx)(c2,{...p,field:a});break e;case"select":t=(0,u.jsx)(c5,{...e,field:a,path:s});break e;case"tabs":t=(0,u.jsx)(de,{...p,field:a,path:s});break e;case"text":t=(0,u.jsx)(da,{...e,field:a,path:s});break e;case"textarea":t=(0,u.jsx)(dr,{...e,field:a,path:s});break e;case"ui":{let e;n[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,u.jsx)(di,{}),n[12]=e):e=n[12],t=e;break e}case"upload":t=(0,u.jsx)(uY,{...e,field:a,path:s});break e}}n[2]=o,n[3]=d,n[4]=h,n[5]=l,n[6]=r,n[7]=i,n[8]=c,n[9]=a,n[10]=s,n[11]=t}else t=n[11];if(t!==Symbol.for("react.early_return_sentinel"))return t}var uG="render-fields",uX=e=>{let t=(0,p.c)(22),{className:n,fields:a,forceRender:o,margins:l,parentIndexPath:r,parentPath:i,parentSchemaPath:s,permissions:c,readOnly:d}=e,h=aW();if(a&&a.length>0){let e=l&&"".concat(uG,"--margins-").concat(l),p=!1===l&&"".concat(uG,"--margins-none"),f;t[0]!==n||t[1]!==e||t[2]!==p?(f=[uG,n,e,p].filter(Boolean),t[0]=n,t[1]=e,t[2]=p,t[3]=f):f=t[3];let m=f.join(" "),v;if(t[4]!==c||t[5]!==d||t[6]!==h||t[7]!==r||t[8]!==i||t[9]!==s||t[10]!==o||t[11]!==a||t[12]!==m){let e;t[14]!==c||t[15]!==d||t[16]!==h||t[17]!==r||t[18]!==i||t[19]!==s||t[20]!==o?(e=(e,t)=>{var n,a,l;if(!e||(null==e?void 0:null===(n=e.admin)||void 0===n?void 0:n.disabled))return null;let p=!0===c||"name"in e&&"object"==typeof c&&(null==c?void 0:c[e.name])&&(!0===c[e.name]||"read"in c[e.name]&&c[e.name].read);if("name"in e&&!p)return null;let f=d||(null==e?void 0:null===(a=e.admin)||void 0===a?void 0:a.readOnly);f&&(null===(l=e.admin)||void 0===l?void 0:l.readOnly)===!1&&(f=!1);let m=!0===c||"name"in e&&"object"==typeof c&&(null==c?void 0:c[e.name])&&(!0===c[e.name]||h in c[e.name]&&c[e.name][h]);"name"in e&&!m&&(f=!0);let{indexPath:v,path:g,schemaPath:b}=(0,w.z)({field:e,index:t,parentIndexPath:r,parentPath:i,parentSchemaPath:s});return(0,u.jsx)(uQ,{clientFieldConfig:e,forceRender:o,indexPath:v,parentPath:i,parentSchemaPath:s,path:g,permissions:null===c||!0===c||("name"in e?null==c?void 0:c[e.name]:c),readOnly:f,schemaPath:b},"".concat(g,"-").concat(t))},t[14]=c,t[15]=d,t[16]=h,t[17]=r,t[18]=i,t[19]=s,t[20]=o,t[21]=e):e=t[21],v=(0,u.jsx)(oi,{className:m,forceRender:o,children:a.map(e)}),t[4]=c,t[5]=d,t[6]=h,t[7]=r,t[8]=i,t[9]=s,t[10]=o,t[11]=a,t[12]=m,t[13]=v}else v=t[13];return v}return null},uJ="array-field",uZ=e=>{let t=(0,p.c)(41),{addRow:n,attributes:a,CustomRowLabel:o,duplicateRow:l,errorCount:r,fields:i,forceRender:s,hasMaxRows:d,isDragging:f,isSortable:m,labels:v,listeners:g,moveRow:b,parentPath:x,path:y,permissions:w,readOnly:j,removeRow:C,row:S,rowCount:_,rowIndex:k,schemaPath:N,setCollapse:E,setNodeRef:A,transform:P,transition:D}=e,O=void 0!==s&&s,{i18n:R}=(0,c.d)(),I=eg(),T="".concat((0,h.i0)(v.singular,R)," ").concat(String(k+1).padStart(2,"0")),L=r>0&&I,M=L?"".concat(uJ,"__row--has-errors"):"".concat(uJ,"__row--no-errors"),F;t[0]!==M?(F=["".concat(uJ,"__row"),M].filter(Boolean),t[0]=M,t[1]=F):F=t[1];let B=F.join(" "),V="".concat(x.split(".").join("-"),"-row-").concat(k),z=f?1:void 0,U;if(t[2]!==P||t[3]!==D||t[4]!==z||t[5]!==j||t[6]!==n||t[7]!==l||t[8]!==d||t[9]!==k||t[10]!==m||t[11]!==b||t[12]!==C||t[13]!==_||t[14]!==L||t[15]!==S.id||t[16]!==S.collapsed||t[17]!==a||t[18]!==g||t[19]!==o||t[20]!==T||t[21]!==y||t[22]!==r||t[23]!==R||t[24]!==E||t[25]!==w||t[26]!==i||t[27]!==O||t[28]!==N||t[29]!==B||t[30]!==V||t[31]!==A||t[32]!==x){let e,s;t[34]!==L||t[35]!==r||t[36]!==R?(e=L&&(0,u.jsx)(tv,{count:r,i18n:R,withMessage:!0}),t[34]=L,t[35]=r,t[36]=R,t[37]=e):e=t[37],t[38]!==E||t[39]!==S.id?(s=e=>E(S.id,e),t[38]=E,t[39]=S.id,t[40]=s):s=t[40],U=(0,u.jsx)("div",{id:V,ref:A,style:{transform:P,transition:D,zIndex:z},children:(0,u.jsx)(or,{actions:j?void 0:(0,u.jsx)(a7,{addRow:n,duplicateRow:l,hasMaxRows:d,index:k,isSortable:m,moveRow:b,removeRow:C,rowCount:_}),className:B,collapsibleStyle:L?"error":"default",dragHandleProps:m?{id:S.id,attributes:a,listeners:g}:void 0,header:(0,u.jsxs)("div",{className:"".concat(uJ,"__row-header"),children:[(0,u.jsx)(ek,{CustomComponent:o,label:T,path:y,rowNumber:k}),e]}),isCollapsed:S.collapsed,onToggle:s,children:(0,u.jsx)(uX,{className:"".concat(uJ,"__fields"),fields:i,forceRender:O,margins:"small",parentIndexPath:"",parentPath:y,parentSchemaPath:N,permissions:!0===w?w:null==w?void 0:w.fields,readOnly:j})})},"".concat(x,"-row-").concat(S.id)),t[2]=P,t[3]=D,t[4]=z,t[5]=j,t[6]=n,t[7]=l,t[8]=d,t[9]=k,t[10]=m,t[11]=b,t[12]=C,t[13]=_,t[14]=L,t[15]=S.id,t[16]=S.collapsed,t[17]=a,t[18]=g,t[19]=o,t[20]=T,t[21]=y,t[22]=r,t[23]=R,t[24]=E,t[25]=w,t[26]=i,t[27]=O,t[28]=N,t[29]=B,t[30]=V,t[31]=A,t[32]=x,t[33]=U}else U=t[33];return U},u$="array-field",u0=aQ(e=>{let t,n,a=(0,p.c)(55),{field:o,forceRender:l,path:i,permissions:d,readOnly:f,schemaPath:m,validate:v}=e,{name:g,admin:b,fields:x,label:y,localized:w,maxRows:j,minRows:C,required:S}=o,_;a[0]!==b?(_=void 0===b?{}:b,a[0]=b,a[1]=_):_=a[1];let{className:k,description:N,isSortable:E}=_,A=void 0===E||E,P=void 0!==l&&l,D=null!=m?m:g,O=(null!=C?C:S)?1:0,{setDocFieldPreferences:R}=aV(),{addFieldRow:I,dispatchFields:T,setModified:L}=em(),M=eg(),{code:F}=n6(),{i18n:B,t:V}=(0,c.d)(),{config:z}=(0,s.b)(),{localization:U}=z,H;e:{if(U&&U.fallback){H=F===(U.defaultLocale||"en");break e}H=!0}let q=H,W;a[2]!==V?(W=e=>{var t,n;return"labels"in e&&(null==e?void 0:e.labels)?e.labels:"labels"in e.field&&e.field.labels?{plural:null===(t=e.field.labels)||void 0===t?void 0:t.plural,singular:null===(n=e.field.labels)||void 0===n?void 0:n.singular}:"label"in e.field&&e.field.label?{plural:void 0,singular:e.field.label}:{plural:V("general:rows"),singular:V("general:row")}},a[2]=V,a[3]=W):W=a[3];let K=W(e),Y;a[4]!==q||a[5]!==v||a[6]!==j||a[7]!==O||a[8]!==S?(Y=(e,t)=>!q&&null===e||("function"==typeof v?v(e,{...t,maxRows:j,minRows:O,required:S}):void 0),a[4]=q,a[5]=v,a[6]=j,a[7]=O,a[8]=S,a[9]=Y):Y=a[9];let Q=Y,G;a[10]!==i||a[11]!==Q?(G={hasRows:!0,path:i,validate:Q},a[10]=i,a[11]=Q,a[12]=G):G=a[12];let{customComponents:X,errorPaths:J,rows:Z,showError:ee,valid:et,value:en}=aK(G),ea;a[13]!==X?(ea=void 0===X?{}:X,a[13]=X,a[14]=ea):ea=a[14];let{Description:eo,Error:el,Label:er,RowLabels:ei}=ea,es;a[15]!==Z?(es=void 0===Z?[]:Z,a[15]=Z,a[16]=es):es=a[16];let ec=es,ed;a[17]!==I||a[18]!==i||a[19]!==D||a[20]!==L?(ed=e=>{I({path:i,rowIndex:e,schemaPath:D}),L(!0),setTimeout(()=>{a5("".concat(i,"-row-").concat(e))},0)},a[17]=I,a[18]=i,a[19]=D,a[20]=L,a[21]=ed):ed=a[21];let eu=ed,ep;a[22]!==T||a[23]!==i||a[24]!==L?(ep=e=>{T({type:"DUPLICATE_ROW",path:i,rowIndex:e}),L(!0),setTimeout(()=>{a5("".concat(i,"-row-").concat(e))},0)},a[22]=T,a[23]=i,a[24]=L,a[25]=ep):ep=a[25];let eh=ep,ef;a[26]!==T||a[27]!==i||a[28]!==L?(ef=e=>{T({type:"REMOVE_ROW",path:i,rowIndex:e}),L(!0)},a[26]=T,a[27]=i,a[28]=L,a[29]=ef):ef=a[29];let ev=ef,eb;a[30]!==T||a[31]!==i||a[32]!==L?(eb=(e,t)=>{T({type:"MOVE_ROW",moveFromIndex:e,moveToIndex:t,path:i}),L(!0)},a[30]=T,a[31]=i,a[32]=L,a[33]=eb):eb=a[33];let ex=eb,ey;a[34]!==ec||a[35]!==R||a[36]!==i||a[37]!==T?(ey=e=>{let{collapsedIDs:t,updatedRows:n}=n8({collapsed:e,rows:ec});R(i,{collapsed:t}),T({type:"SET_ALL_ROWS_COLLAPSED",path:i,updatedRows:n})},a[34]=ec,a[35]=R,a[36]=i,a[37]=T,a[38]=ey):ey=a[38];let ew=ey,ej;a[39]!==ec||a[40]!==T||a[41]!==i||a[42]!==R?(ej=(e,t)=>{let{collapsedIDs:n,updatedRows:a}=n9({collapsed:t,rowID:e,rows:ec});T({type:"SET_ROW_COLLAPSED",path:i,updatedRows:a}),R(i,{collapsed:n})},a[39]=ec,a[40]=T,a[41]=i,a[42]=R,a[43]=ej):ej=a[43];let eC=ej,eS=j&&ec.length>=j,e_=J.length,ek=M&&J.length>0,eN=f&&0===ec.length,eE=ec.length<O||S&&0===ec.length,eP=ek?"".concat(u$,"--has-error"):"".concat(u$,"--has-no-error"),eD;return a[44]!==k||a[45]!==eP?(eD=[aX,u$,k,eP].filter(Boolean),a[44]=k,a[45]=eP,a[46]=eD):eD=a[46],a[47]!==ee||a[48]!==i||a[49]!==el?(t=ee&&(0,u.jsx)($,{CustomComponent:el,Fallback:(0,u.jsx)(tx,{path:i,showError:ee})}),a[47]=ee,a[48]=i,a[49]=el,a[50]=t):t=a[50],a[51]!==ek||a[52]!==e_||a[53]!==B?(n=ek&&e_>0&&(0,u.jsx)(tv,{count:e_,i18n:B,withMessage:!0}),a[51]=ek,a[52]=e_,a[53]=B,a[54]=n):n=a[54],(0,u.jsxs)("div",{className:eD.join(" "),id:"field-".concat(i.replace(/\./g,"__")),children:[t,(0,u.jsxs)("header",{className:"".concat(u$,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(u$,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(u$,"__header-content"),children:[(0,u.jsx)("h3",{className:"".concat(u$,"__title"),children:(0,u.jsx)($,{CustomComponent:er,Fallback:(0,u.jsx)(n4,{as:"span",label:y,localized:w,path:i,required:S})})}),n]}),(null==ec?void 0:ec.length)>0&&(0,u.jsxs)("ul",{className:"".concat(u$,"__header-actions"),children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(u$,"__header-action"),onClick:()=>ew(!0),type:"button",children:V("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(u$,"__header-action"),onClick:()=>ew(!1),type:"button",children:V("fields:showAll")})})]})]}),(0,u.jsx)($,{CustomComponent:eo,Fallback:(0,u.jsx)(tb,{description:N,path:i})})]}),(0,u.jsx)(a6,{fieldValue:en,localized:w,path:i}),((null==ec?void 0:ec.length)>0||!et&&(eN||eE))&&(0,u.jsxs)(tf,{className:"".concat(u$,"__draggable-rows"),ids:ec.map(u1),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return ex(t,n)},children:[ec.map((e,t)=>{let{id:n}=e,a="".concat(i,".").concat(t),o=null==J?void 0:J.filter(e=>e.startsWith(a+".")).length;return(0,u.jsx)(th,{disabled:f||!A,id:n,children:n=>(0,u.jsx)(uZ,{...n,addRow:eu,CustomRowLabel:null==ei?void 0:ei[t],duplicateRow:eh,errorCount:o,fields:x,forceRender:P,hasMaxRows:eS,isSortable:A,labels:K,moveRow:ex,parentPath:i,path:a,permissions:d,readOnly:f,removeRow:ev,row:e,rowCount:null==ec?void 0:ec.length,rowIndex:t,schemaPath:D,setCollapse:eC})},n)}),!et&&(0,u.jsxs)(r.Fragment,{children:[eN&&(0,u.jsx)(eA,{children:V("validation:fieldHasNo",{label:(0,h.i0)(K.plural,B)})}),eE&&(0,u.jsx)(eA,{type:"error",children:V("validation:requiresAtLeast",{count:O,label:(0,h.i0)(O>1?K.plural:K.singular,B)||V(O>1?"general:rows":"general:row")})})]})]}),!eS&&(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(u$,"__add-row"),disabled:f,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{eu(en||0)},children:V("fields:addLabel",{label:(0,h.i0)(K.singular,B)})})]})});function u1(e){return e.id}var u2=e=>{let t=(0,p.c)(11),{disabled:n,path:a}=e,o=void 0===a?"confirm-password":a,{t:l}=(0,c.d)(),r;t[0]!==o?(r={path:o,validate:u3},t[0]=o,t[1]=r):r=t[1];let{setValue:i,showError:s,value:d}=aK(r),h=s&&"error",f;t[2]!==h?(f=[aX,"confirm-password",h].filter(Boolean),t[2]=h,t[3]=f):f=t[3];let m=f.join(" "),v;return t[4]!==l||t[5]!==o||t[6]!==n||t[7]!==d||t[8]!==i||t[9]!==m?(v=(0,u.jsxs)("div",{className:m,children:[(0,u.jsx)(n4,{htmlFor:"field-confirm-password",label:l("authentication:confirmPassword"),required:!0}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)(tx,{path:o}),(0,u.jsx)("input",{"aria-label":l("authentication:confirmPassword"),autoComplete:"off",disabled:!!n,id:"field-confirm-password",name:"confirm-password",onChange:i,type:"password",value:d||""})]})]}),t[4]=l,t[5]=o,t[6]=n,t[7]=d,t[8]=i,t[9]=m,t[10]=v):v=t[10],v};function u3(e,t){return(0,I.Zb)(e,{name:"confirm-password",type:"text",required:!0,...t})}var u6=e=>{let t=(0,p.c)(28),{AfterInput:n,autoComplete:a,BeforeInput:o,className:l,description:r,Description:i,Error:s,inputRef:d,Label:f,label:m,localized:v,onChange:g,onKeyDown:b,path:x,placeholder:y,readOnly:w,required:j,rtl:C,showError:S,style:_,value:k,width:N}=e,E=void 0===a?"off":a,{i18n:A}=(0,c.d)(),P=S&&"error",D=w&&"read-only",O;t[0]!==l||t[1]!==P||t[2]!==D?(O=[aX,"password",l,P,D].filter(Boolean),t[0]=l,t[1]=P,t[2]=D,t[3]=O):O=t[3];let R=O.join(" "),I;return t[4]!==_||t[5]!==N||t[6]!==m||t[7]!==v||t[8]!==x||t[9]!==j||t[10]!==f||t[11]!==S||t[12]!==s||t[13]!==A||t[14]!==y||t[15]!==k||t[16]!==E||t[17]!==C||t[18]!==w||t[19]!==g||t[20]!==b||t[21]!==d||t[22]!==o||t[23]!==n||t[24]!==r||t[25]!==i||t[26]!==R?(I=(0,u.jsxs)("div",{className:R,style:{..._,width:N},children:[(0,u.jsx)($,{CustomComponent:f,Fallback:(0,u.jsx)(n4,{label:m,localized:v,path:x,required:j})}),(0,u.jsxs)("div",{className:"".concat(aX,"__wrap"),children:[(0,u.jsx)($,{CustomComponent:s,Fallback:(0,u.jsx)(tx,{path:x,showError:S})}),(0,u.jsxs)("div",{children:[o,(0,u.jsx)("input",{"aria-label":(0,h.i0)(m,A),autoComplete:E,"data-rtl":C,disabled:w,id:"field-".concat(x.replace(/\./g,"__")),name:x,onChange:g,onKeyDown:b,placeholder:(0,h.i0)(y,A),ref:d,type:"password",value:k||""}),n]}),(0,u.jsx)($,{CustomComponent:i,Fallback:(0,u.jsx)(tb,{description:r,path:x})})]})]}),t[4]=_,t[5]=N,t[6]=m,t[7]=v,t[8]=x,t[9]=j,t[10]=f,t[11]=S,t[12]=s,t[13]=A,t[14]=y,t[15]=k,t[16]=E,t[17]=C,t[18]=w,t[19]=g,t[20]=b,t[21]=d,t[22]=o,t[23]=n,t[24]=r,t[25]=i,t[26]=R,t[27]=I):I=t[27],I},u5=aQ(e=>{let{autoComplete:t,field:n,field:{admin:{className:a,disabled:o,placeholder:l,rtl:i}={},label:d,localized:p,required:h}={},inputRef:f,path:m,validate:v}=e,{t:g}=(0,c.d)(),b=n6(),{config:x}=(0,s.b)(),{customComponents:{AfterInput:y,BeforeInput:w,Description:j,Error:C,Label:S}={},formInitializing:_,formProcessing:k,setValue:N,showError:E,value:A}=aK({path:m,validate:(0,r.useCallback)((e,t)=>"function"==typeof v?v(e,{...t,required:h}):(0,I.Bj)(e,{name:"password",type:"text",data:{},preferences:{fields:{}},req:{payload:{config:x},t:g},required:!0,siblingData:{}}),[v,x,g,h])}),P=aJ({fieldLocalized:!1,fieldRTL:i,locale:b,localizationConfig:x.localization||void 0}),D=(0,r.useMemo)(()=>aG(n),[n]);return(0,u.jsx)(u6,{AfterInput:y,autoComplete:t,BeforeInput:w,className:a,Description:j,Error:C,inputRef:f,Label:S,label:d,localized:p,onChange:e=>{N(e.target.value)},path:m,placeholder:l,readOnly:o||_||k,required:h,rtl:P,showError:E,style:D,value:A||""})}),u4={array:u0,blocks:oq,checkbox:a3,code:oG,collapsible:o0,confirmPassword:u2,date:o6,email:o5,group:lr,hidden:li,join:rg,json:rb,number:cE,password:u5,point:cP,radio:cI,relationship:c0,richText:c1,row:c2,select:c5,tabs:de,text:da,textarea:dr,ui:di,upload:uY},u9={...u4,Description:tb,Error:tx,Label:n4,RowLabel:ek},u8=new Map([]),u7={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},pe=e=>(u7[e.toLowerCase()]||e).trim().toLowerCase().replace("key",""),pt=e=>{let t=pe(e);"meta"===t&&u8.forEach((e,t)=>"meta"!==t&&u8.delete(t)),u8.set(t,Date.now())},pn=e=>{let t=pe(e);"meta"===t&&u8.clear(),u8.delete(t)},pa=(e,t)=>{let n=(0,p.c)(9),{cmdCtrlKey:a,editDepth:o,keyCodes:l}=e,{modalState:i}=tU(),s;n[0]!==l||n[1]!==a||n[2]!==i||n[3]!==o||n[4]!==t?(s=e=>{var n,r;let s=(null===(n=e.detail)||void 0===n?void 0:n.key)?e.detail:e;if(void 0===s.key)return;u8.forEach((e,t)=>{Date.now()-e>3e3&&u8.delete(t)}),s.code&&pt(s.code);let c=window.navigator.userAgent.includes("Mac OS X"),d=[...u8.keys()].filter(e=>!["alt","ctrl","meta","shift"].includes(e));if((0,T.X)(new Set(d),new Set(l))&&(!a||c&&u8.has("meta")||!c&&s.ctrlKey)){if(((null===(r=Object.keys(i).filter(e=>{var t;return null===(t=i[e])||void 0===t?void 0:t.isOpen}))||void 0===r?void 0:r.length)+1||1)!==o)return;t(s)}},n[0]=l,n[1]=a,n[2]=i,n[3]=o,n[4]=t,n[5]=s):s=n[5];let c=s,d,u;n[6]!==c?(d=()=>(document.addEventListener("keydown",c,!1),document.addEventListener("bypassKeyDown",c,!1),document.addEventListener("keyup",po,!1),()=>{document.removeEventListener("keydown",c),document.removeEventListener("bypassKeyDown",c),document.removeEventListener("keyup",po)}),u=[c,po],n[6]=c,n[7]=d,n[8]=u):(d=n[7],u=n[8]),(0,r.useEffect)(d,u)};function po(e){e.code&&pn(e.code)}var pl=(e,t)=>{let n,a,o,l,i,s,d=(0,p.c)(32),u;d[0]!==t?(u=void 0===t?{}:t,d[0]=t,d[1]=u):u=d[1];let{initialData:h,initialParams:f}=u,m;d[2]!==f?(m=void 0===f?{}:f,d[2]=f,d[3]=m):m=d[3];let v=m,{i18n:b}=(0,c.d)(),x;d[4]!==h?(x=h||{},d[4]=h,d[5]=x):x=d[5];let[y,w]=(0,r.useState)(x),[j,C]=(0,r.useState)(v),[S,_]=(0,r.useState)(!h),[k,N]=(0,r.useState)(!1),{code:E}=n6(),A=(0,r.useRef)(!1),P;if(d[6]!==j||d[7]!==E){let e;d[9]!==j?(e="object"==typeof j?j:{},d[9]=j,d[10]=e):e=d[10],P=g.P({locale:E,...e},{addQueryPrefix:!0}),d[6]=j,d[7]=E,d[8]=P}else P=d[8];let D=P,O;return d[11]!==h||d[12]!==e||d[13]!==D||d[14]!==b.language?(O=()=>{if(h&&!A.current){A.current=!0;return}let t=new AbortController;return e?(async()=>{N(!1),_(!0);try{let n=await nq.get("".concat(e).concat(D),{headers:{"Accept-Language":b.language},signal:t.signal});n.status>201&&N(!0);let a=await n.json();w(a),_(!1)}catch(e){t.signal.aborted||(N(!0),_(!1))}})():(N(!1),_(!1)),()=>{try{t.abort()}catch(e){}}},d[11]=h,d[12]=e,d[13]=D,d[14]=b.language,d[15]=O):O=d[15],d[16]!==e||d[17]!==E||d[18]!==D||d[19]!==b.language||d[20]!==h?(n=[e,E,D,b.language,h],d[16]=e,d[17]=E,d[18]=D,d[19]=b.language,d[20]=h,d[21]=n):n=d[21],(0,r.useEffect)(O,n),d[22]!==h?(a=()=>{h&&A.current&&w(h)},o=[h],d[22]=h,d[23]=a,d[24]=o):(a=d[23],o=d[24]),(0,r.useEffect)(a,o),d[25]!==y||d[26]!==k||d[27]!==S?(l={data:y,isError:k,isLoading:S},d[25]=y,d[26]=k,d[27]=S,d[28]=l):l=d[28],d[29]===Symbol.for("react.memo_cache_sentinel")?(i={setParams:C},d[29]=i):i=d[29],d[30]!==l?(s=[l,i],d[30]=l,d[31]=s):s=d[31],s},pr=e=>{let t,n=(0,p.c)(5),[a,o]=(0,r.useState)(),l,i;return n[0]!==e?(l=()=>{let t;return e&&(t=new ResizeObserver(e=>{e.forEach(e=>{let{contentBoxSize:t,contentRect:n}=e,a=0,l=0;if(t){let e=Array.isArray(t)?t[0]:t;if(e){let{blockSize:t,inlineSize:n}=e;a=n,l=t}}else if(n){let{height:e,width:t}=n;a=t,l=e}o({height:l,width:a})})})).observe(e),()=>{t&&t.unobserve(e)}},i=[e],n[0]=e,n[1]=l,n[2]=i):(l=n[1],i=n[2]),(0,r.useEffect)(l,i),n[3]!==a?(t={size:a},n[3]=a,n[4]=t):t=n[4],t},pi=(e,t)=>null==e?void 0:e.reduce((e,n)=>{if("name"in n||t&&(0,j.P2)(n))return e.push(n),e;if("fields"in n)e.push(...pi(n.fields,t));else if("tabs"===n.type&&"tabs"in n&&Array.isArray(n.tabs))return[...e,...n.tabs.reduce((e,n)=>[...e,..."name"in n?[{...n}]:pi(n.fields,t)],[])];return e},[]),ps=e=>{var t;let{admin:{useAsTitle:n},fields:a}=e;return null===(t=pi(a))||void 0===t?void 0:t.find(e=>"name"in e&&e.name===n)},pc=(e,t)=>{let n=(0,p.c)(7),a=void 0===e||e,o;n[0]!==a||n[1]!==t?(o=e=>{if("function"!=typeof a||a())return e.preventDefault(),t&&(e.returnValue=t),t},n[0]=a,n[1]=t,n[2]=o):o=n[2];let l=o,i,s;n[3]!==a||n[4]!==l?(i=()=>{if(a)return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e&&e.addEventListener&&e.addEventListener(...n)}(window,"beforeunload",l),()=>(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e&&e.removeEventListener&&e.removeEventListener(...n)})(window,"beforeunload",l)},s=[a,l],n[3]=a,n[4]=l,n[5]=i,n[6]=s):(i=n[5],s=n[6]),(0,r.useEffect)(i,s)},pd=e=>{let{hasAccepted:t=!1,message:n="Are you sure want to leave this page?",onAccept:a,onPrevent:o,prevent:l=!0}=e;pc(l,n);let i=(0,v.useRouter)(),s=(0,r.useRef)("");(0,r.useEffect)(()=>{function e(e){try{let t=e.target,a=function(e){for(;e&&"a"!==e.tagName.toLowerCase();)e=e.parentElement;return e}(t);if(a){let t=window.location.href,r=a.href,i=function(e,t){let n=new URL(e),a=new URL(t);if(n.hostname===a.hostname&&n.pathname===a.pathname&&n.search===a.search){let e=n.hash,t=a.hash;return e!==t&&n.href.replace(e,"")===a.href.replace(t,"")}return!1}(t,r),c=""!==a.download;!(r===t||i||c)&&l&&(o||!window.confirm(n))&&(s.current=r,e.preventDefault(),e.stopPropagation(),"function"==typeof o&&o())}}catch(e){alert(e)}}return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[o,l,n]),(0,r.useEffect)(()=>{t&&s.current&&(a&&a(),i.push(s.current))},[t,a,i])},pu="leave-without-saving",pp="leave-without-saving",ph=e=>{let t,n=(0,p.c)(9),{isActive:a,onCancel:o,onConfirm:l}=e,{closeModal:i,openModal:s}=tU(),{t:d}=(0,c.d)(),h,f;return n[0]!==a||n[1]!==s||n[2]!==i?(h=()=>{a?s(pu):i(pu)},f=[a,s,i],n[0]=a,n[1]=s,n[2]=i,n[3]=h,n[4]=f):(h=n[3],f=n[4]),(0,r.useEffect)(h,f),n[5]!==d||n[6]!==o||n[7]!==l?(t=(0,u.jsx)(t6,{className:pp,onClose:o,slug:pu,children:(0,u.jsxs)("div",{className:"".concat(pp,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(pp,"__content"),children:[(0,u.jsx)("h1",{children:d("general:leaveWithoutSaving")}),(0,u.jsx)("p",{children:d("general:changesNotSaved")})]}),(0,u.jsxs)("div",{className:"".concat(pp,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",onClick:o,size:"large",children:d("general:stayOnThisPage")}),(0,u.jsx)(e1,{onClick:l,size:"large",children:d("general:leaveAnyway")})]})]})}),n[5]=d,n[6]=o,n[7]=l,n[8]=t):t=n[8],t},pf=()=>{let e,t,n,a=(0,p.c)(11),{closeModal:o}=tU(),l=ex(),{user:i}=nY(),[s,c]=r.useState(!1),[d,h]=r.useState(!1),f=!!(l&&i),m;a[0]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{c(!0)},a[0]=m):m=a[0];let v=m,g;a[1]!==o?(g=()=>{o(pu)},a[1]=o,a[2]=g):g=a[2];let b=g,x;return a[3]!==d||a[4]!==b||a[5]!==f?(x={hasAccepted:d,onAccept:b,onPrevent:v,prevent:f},a[3]=d,a[4]=b,a[5]=f,a[6]=x):x=a[6],pd(x),a[7]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{c(!1)},t=()=>{h(!0)},a[7]=e,a[8]=t):(e=a[7],t=a[8]),a[9]!==s?(n=(0,u.jsx)(ph,{isActive:s,onCancel:e,onConfirm:t}),a[9]=s,a[10]=n):n=a[10],n},pm="document-take-over",pv="document-take-over",pg=e=>{let t,n=(0,p.c)(13),{handleBackToDashboard:a,isActive:o,onReadOnly:l}=e,{closeModal:i,openModal:s}=tU(),{t:d}=(0,c.d)(),h,f;if(n[0]!==o||n[1]!==s||n[2]!==i?(h=()=>{o?s(pm):i(pm)},f=[o,s,i],n[0]=o,n[1]=s,n[2]=i,n[3]=h,n[4]=f):(h=n[3],f=n[4]),(0,r.useEffect)(h,f),n[5]!==d||n[6]!==a||n[7]!==l||n[8]!==i){let e;n[10]!==l||n[11]!==i?(e=()=>{l(),i(pm)},n[10]=l,n[11]=i,n[12]=e):e=n[12],t=(0,u.jsx)(t6,{className:pv,slug:pm,children:(0,u.jsxs)("div",{className:"".concat(pv,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(pv,"__content"),children:[(0,u.jsx)("h1",{children:d("general:editingTakenOver")}),(0,u.jsx)("p",{children:d("general:anotherUserTakenOver")})]}),(0,u.jsxs)("div",{className:"".concat(pv,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"primary",id:"".concat(pm,"-back-to-dashboard"),onClick:a,size:"large",children:d("general:backToDashboard")}),(0,u.jsx)(e1,{buttonStyle:"secondary",id:"".concat(pm,"-view-read-only"),onClick:e,size:"large",children:d("general:viewReadOnly")})]})]})}),n[5]=d,n[6]=a,n[7]=l,n[8]=i,n[9]=t}else t=n[9];return t},pb=e=>e&&"object"==typeof e,px="document-locked",py="document-locked",pw=e=>e?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(e):"",pj=e=>{let t,n=(0,p.c)(22),{handleGoBack:a,isActive:o,onReadOnly:l,onTakeOver:i,updatedAt:s,user:d}=e,{closeModal:h,openModal:f}=tU(),{t:m}=(0,c.d)(),v,g;if(n[0]!==o||n[1]!==f||n[2]!==h?(v=()=>{o?f(px):h(px)},g=[o,f,h],n[0]=o,n[1]=f,n[2]=h,n[3]=v,n[4]=g):(v=n[3],g=n[4]),(0,r.useEffect)(v,g),n[5]!==m||n[6]!==d||n[7]!==s||n[8]!==a||n[9]!==l||n[10]!==h||n[11]!==i){var b;let e,o,r;n[13]!==d||n[14]!==m?(e=pb(d)?null!==(b=d.email)&&void 0!==b?b:d.id:"".concat(m("general:user"),": ").concat(d),n[13]=d,n[14]=m,n[15]=e):e=n[15],n[16]!==l||n[17]!==h?(o=()=>{l(),h(px)},n[16]=l,n[17]=h,n[18]=o):o=n[18],n[19]!==i||n[20]!==h?(r=()=>{i(),h(px)},n[19]=i,n[20]=h,n[21]=r):r=n[21],t=(0,u.jsx)(t6,{className:py,onClose:a,slug:px,children:(0,u.jsxs)("div",{className:"".concat(py,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(py,"__content"),children:[(0,u.jsx)("h1",{children:m("general:documentLocked")}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:e})," ",m("general:currentlyEditing")]}),(0,u.jsxs)("p",{children:[m("general:editedSince")," ",(0,u.jsx)("strong",{children:pw(s)})]})]}),(0,u.jsxs)("div",{className:"".concat(py,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",id:"".concat(px,"-go-back"),onClick:a,size:"large",children:m("general:goBack")}),(0,u.jsx)(e1,{buttonStyle:"secondary",id:"".concat(px,"-view-read-only"),onClick:o,size:"large",children:m("general:viewReadOnly")}),(0,u.jsx)(e1,{buttonStyle:"primary",id:"".concat(px,"-take-over"),onClick:r,size:"large",children:m("general:takeOver")})]})]})}),n[5]=m,n[6]=d,n[7]=s,n[8]=a,n[9]=l,n[10]=h,n[11]=i,n[12]=t}else t=n[12];return t},pC=e=>{let{elements:t,translationString:n}=e,a=n.split(/(<[^>]+>.*?<\/[^>]+>)/g);return(0,u.jsx)("span",{children:a.map((e,n)=>{if(t&&e.startsWith("<")&&e.endsWith(">")){let a=e[1],o=t[a];if(o){let t=RegExp("<".concat(a,">(.*?)</").concat(a,">"),"g"),l=e.replace(t,(e,t)=>t);return(0,u.jsx)(o,{children:(0,u.jsx)(pC,{translationString:l})},n)}}return e})})},pS=e=>{let{elements:t,i18nKey:n,t:a,variables:o}=e,l=a(n,o||{});return t?(0,u.jsx)(pC,{elements:t,translationString:l}):l},p_=e=>{let t=(0,p.c)(3),{i18n:n}=(0,c.d)(),{description:a}=e;if(a){let e;return t[0]!==a||t[1]!==n?(e=(0,u.jsx)("div",{className:"view-description",children:(0,h.i0)(a,n)}),t[0]=a,t[1]=n,t[2]=e):e=t[2],e}return null},pk="graphic-account",pN=e=>(0,u.jsxs)("svg",{className:[pk,(null==e?void 0:e.active)&&"".concat(pk,"--active")].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("circle",{className:"".concat(pk,"__bg"),cx:"12.5",cy:"12.5",r:"11.5"}),(0,u.jsx)("circle",{className:"".concat(pk,"__head"),cx:"12.5",cy:"10.73",r:"3.98"}),(0,u.jsx)("path",{className:"".concat(pk,"__body"),d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]}),pE=(0,d.e)(Z(),1),pA=()=>{let e=(0,p.c)(2),{user:t}=nY(),n=(0,pE.default)(t.email.trim().toLowerCase()),a="?".concat(new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()),o="https://www.gravatar.com/avatar/".concat(n,"?").concat(a),l;return e[0]!==o?(l=(0,u.jsx)("img",{alt:"yas",className:"gravatar-account",height:25,src:o,style:{borderRadius:"50%"},width:25}),e[0]=o,e[1]=l):l=e[1],l},pP=()=>{let e=(0,p.c)(3),{config:t}=(0,s.b)(),{admin:n,routes:a}=t,{avatar:o,routes:l}=n,{account:r}=l,{admin:i}=a,{user:c}=nY(),d=(0,v.usePathname)()===nB({adminRoute:i,path:r});if(!(null==c?void 0:c.email)||"default"===o){let t;return e[0]!==d?(t=(0,u.jsx)(pN,{active:d}),e[0]=d,e[1]=t):t=e[1],t}if("gravatar"===o){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,u.jsx)(pA,{}),e[2]=t):t=e[2],t}},pD=(0,r.createContext)({Actions:{},setViewActions:()=>{}}),pO=()=>(0,r.useContext)(pD),pR=e=>{let t=(0,p.c)(3),{Actions:n,children:a}=e,[o,l]=(0,r.useState)(n),i;return t[0]!==o||t[1]!==a?(i=(0,u.jsx)(pD.Provider,{value:{Actions:o,setViewActions:l},children:a}),t[0]=o,t[1]=a,t[2]=i):i=t[2],i},pI=()=>(0,u.jsx)("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})}),pT=()=>(0,u.jsx)("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})}),pL="hamburger",pM=e=>{let t=(0,p.c)(4),{t:n}=(0,c.d)(),{closeIcon:a,isActive:o}=e,l=void 0===a?"x":a,r=void 0!==o&&o,i;return t[0]!==r||t[1]!==n||t[2]!==l?(i=(0,u.jsxs)("div",{className:pL,children:[!r&&(0,u.jsx)("div",{"aria-label":n("general:open"),className:"".concat(pL,"__open-icon"),title:n("general:open"),children:(0,u.jsx)(pT,{})}),r&&(0,u.jsxs)("div",{"aria-label":n("collapse"===l?"general:collapse":"general:close"),className:"".concat(pL,"__close-icon"),title:n("collapse"===l?"general:collapse":"general:close"),children:["x"===l&&(0,u.jsx)(pI,{}),"collapse"===l&&(0,u.jsx)(eP,{direction:"left"})]})]}),t[0]=r,t[1]=n,t[2]=l,t[3]=i):i=t[3],i},pF="localizer-button",pB=e=>{let t,n=(0,p.c)(11),{ariaLabel:a,className:o}=e,l=n6(),{i18n:r,t:i}=(0,c.d)(),s;n[0]!==a||n[1]!==i?(s=a||i("general:locale"),n[0]=a,n[1]=i,n[2]=s):s=n[2],n[3]!==o?(t=[pF,o].filter(Boolean),n[3]=o,n[4]=t):t=n[4];let d=t.join(" "),f="".concat(i("general:locale"),":"),m;return n[5]!==f||n[6]!==l.label||n[7]!==r||n[8]!==s||n[9]!==d?(m=(0,u.jsxs)("div",{"aria-label":s,className:d,children:[(0,u.jsxs)("div",{className:"".concat(pF,"__label"),children:[f,"\xa0"]}),(0,u.jsxs)("div",{className:"".concat(pF,"__current"),children:[(0,u.jsx)("span",{className:"".concat(pF,"__current-label"),children:"".concat((0,h.i0)(l.label,r))}),(0,u.jsx)(eP,{className:"".concat(pF,"__chevron"),size:"small"})]})]}),n[5]=f,n[6]=l.label,n[7]=r,n[8]=s,n[9]=d,n[10]=m):m=n[10],m},pV=e=>{let t=(0,p.c)(13),{className:n}=e,{config:a}=(0,s.b)(),{localization:o}=a,{i18n:l}=(0,c.d)(),r=n6(),{stringifyParams:i}=n1();if(o){let{locales:e}=o,a;t[0]!==n?(a=["localizer",n].filter(Boolean),t[0]=n,t[1]=a):a=t[1];let s=a.join(" "),c;if(t[2]!==e||t[3]!==l||t[4]!==r.code||t[5]!==i||t[6]!==s){let n;t[8]!==e||t[9]!==l||t[10]!==r.code||t[11]!==i?(n=t=>{let{close:n}=t;return(0,u.jsx)(eT.ButtonGroup,{children:e.map(e=>{let t=(0,h.i0)(e.label,l);return(0,u.jsxs)(eT.Button,{active:r.code===e.code,href:i({params:{locale:e.code}}),onClick:n,children:[t,t!==e.code&&" (".concat(e.code,")")]},e.code)})})},t[8]=e,t[9]=l,t[10]=r.code,t[11]=i,t[12]=n):n=t[12],c=(0,u.jsx)("div",{className:s,children:(0,u.jsx)(eJ,{button:(0,u.jsx)(pB,{}),horizontalAlign:"right",render:n,showScrollbar:!0,size:"large"})}),t[2]=e,t[3]=l,t[4]=r.code,t[5]=i,t[6]=s,t[7]=c}else c=t[7];return c}return null},pz=r.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),pU=()=>r.useContext(pz),pH=async e=>{var t;let n=null===(t=await e("nav"))||void 0===t?void 0:t.open;return"boolean"!=typeof n||n},pq=e=>{let{children:t,initialIsOpen:n}=e,{breakpoints:{l:a,m:o,s:l}}=eU(),{getPreference:i}=nJ(),s=(0,r.useRef)(null),[c,d]=r.useState(n),[p,h]=r.useState(!1),[f,m]=r.useState(!1);return(0,r.useEffect)(()=>{!1===a&&(async()=>{d(await pH(i))})()},[a,i,d]),(0,r.useEffect)(()=>{s.current&&(c&&o?nh(s.current):nm(s.current))},[c,o]),(0,r.useEffect)(()=>{(!0===a||!0===o||!0===l)&&d(!1),m(!0),setTimeout(()=>{h(!0)},100)},[a,o,l]),(0,r.useEffect)(()=>()=>{nf()},[]),(0,u.jsx)(pz.Provider,{value:{hydrated:f,navOpen:c,navRef:s,setNavOpen:d,shouldAnimate:p},children:t})},pW="nav-toggler",pK=e=>{let t,n=(0,p.c)(15),{id:a,children:o,className:l,tabIndex:r}=e,i=void 0===r?0:r,{t:s}=(0,c.d)(),{setPreference:d}=nJ(),{navOpen:h,setNavOpen:f}=pU(),{breakpoints:m}=eU(),{l:v}=m,g="".concat(s(h?"general:close":"general:open")," ").concat(s("general:menu")),b=h&&"".concat(pW,"--is-open"),x;n[0]!==b||n[1]!==l?(x=[pW,b,l].filter(Boolean),n[0]=b,n[1]=l,n[2]=x):x=n[2];let y=x.join(" "),w;return n[3]!==f||n[4]!==h||n[5]!==v||n[6]!==d?(w=async()=>{f(!h),v||await d("nav",{open:!h},!0)},n[3]=f,n[4]=h,n[5]=v,n[6]=d,n[7]=w):w=n[7],n[8]!==g||n[9]!==y||n[10]!==a||n[11]!==w||n[12]!==i||n[13]!==o?(t=(0,u.jsx)("button",{"aria-label":g,className:y,id:a,onClick:w,tabIndex:i,type:"button",children:o}),n[8]=g,n[9]=y,n[10]=a,n[11]=w,n[12]=i,n[13]=o,n[14]=t):t=n[14],t},pY=e=>{let{fill:t}=e,n=t||"var(--theme-elevation-1000)";return(0,u.jsxs)("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:n}),(0,u.jsx)("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:n})]})},pQ=()=>(0,r.useContext)(pG),pG=(0,r.createContext)({}),pX=e=>{let t=(0,p.c)(4),{children:n}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];let[o,l]=(0,r.useState)(a),i;return t[1]!==o||t[2]!==n?(i=(0,u.jsx)(pG.Provider,{value:{setStepNav:l,stepNav:o},children:n}),t[1]=o,t[2]=n,t[3]=i):i=t[3],i},pJ=e=>{let t=(0,p.c)(4),{nav:n}=e,{setStepNav:a}=pQ(),o,l;return t[0]!==a||t[1]!==n?(o=()=>{a(n)},l=[a,n],t[0]=a,t[1]=n,t[2]=o,t[3]=l):(o=t[2],l=t[3]),(0,r.useEffect)(o,l),null},pZ="step-nav",p$=e=>{let t=(0,p.c)(9),{className:n,CustomIcon:a,Link:o}=e,{i18n:l}=(0,c.d)(),{stepNav:i}=pQ(),{config:d}=(0,s.b)(),{routes:f}=d,{admin:m}=f,{t:v}=(0,c.d)(),g=o||"a",b=!o&&void 0,x;if(t[0]!==b||t[1]!==i||t[2]!==n||t[3]!==v||t[4]!==a||t[5]!==m||t[6]!==g||t[7]!==l){let e={prefetch:b};x=(0,u.jsx)(r.Fragment,{children:i.length>0?(0,u.jsxs)("nav",{className:[pZ,n].filter(Boolean).join(" "),children:[(0,u.jsx)(g,{className:"".concat(pZ,"__home"),href:m,tabIndex:0,...e,children:(0,u.jsx)("span",{title:v("general:dashboard"),children:(0,u.jsx)($,{CustomComponent:a,Fallback:(0,u.jsx)(pY,{})})})}),(0,u.jsx)("span",{children:"/"}),i.map((t,n)=>{let a=(0,h.i0)(t.label,l);return i.length===n+1?(0,u.jsx)("span",{className:"".concat(pZ,"__last"),children:a},n):(0,u.jsxs)(r.Fragment,{children:[t.url?(0,u.jsx)(g,{href:t.url,...e,children:(0,u.jsx)("span",{children:a},n)}):(0,u.jsx)("span",{children:a},n),(0,u.jsx)("span",{children:"/"})]},n)})]}):(0,u.jsx)("div",{className:[pZ,n].filter(Boolean).join(" "),children:(0,u.jsx)("div",{className:"".concat(pZ,"__home"),children:(0,u.jsx)("span",{title:v("general:dashboard"),children:(0,u.jsx)($,{CustomComponent:a,Fallback:(0,u.jsx)(pY,{})})})})})}),t[0]=b,t[1]=i,t[2]=n,t[3]=v,t[4]=a,t[5]=m,t[6]=g,t[7]=l,t[8]=x}else x=t[8];return x},p0="app-header";function p1(e){let{CustomAvatar:t,CustomIcon:n}=e,{t:a}=(0,c.d)(),{Actions:o}=pO(),{config:{admin:{routes:{account:l}},localization:i,routes:{admin:d}}}=(0,s.b)(),{navOpen:p}=pU(),h=(0,r.useRef)(null),[m,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{let e=h.current;e&&v(e.scrollWidth>e.clientWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[o]);let g=f.default.default,b=g||"a",x=o?Object.values(o):[];return(0,u.jsxs)("header",{className:[p0,p&&"".concat(p0,"--nav-open")].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{className:"".concat(p0,"__bg")}),(0,u.jsx)("div",{className:"".concat(p0,"__content"),children:(0,u.jsxs)("div",{className:"".concat(p0,"__wrapper"),children:[(0,u.jsx)(pK,{className:"".concat(p0,"__mobile-nav-toggler"),tabIndex:-1,children:(0,u.jsx)(pM,{})}),(0,u.jsxs)("div",{className:"".concat(p0,"__controls-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(p0,"__step-nav-wrapper"),children:(0,u.jsx)(p$,{className:"".concat(p0,"__step-nav"),CustomIcon:n,Link:g})}),(0,u.jsxs)("div",{className:"".concat(p0,"__actions-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(p0,"__actions"),ref:h,children:x.map((e,t)=>(0,u.jsx)("div",{className:m&&t===x.length-1?"".concat(p0,"__last-action"):"",children:e},t))}),m&&(0,u.jsx)("div",{className:"".concat(p0,"__gradient-placeholder")})]}),i&&(0,u.jsx)(pB,{ariaLabel:"invisible",className:"".concat(p0,"__localizer-spacing")}),(0,u.jsx)(b,{"aria-label":a("authentication:account"),className:"".concat(p0,"__account"),href:nB({adminRoute:d,path:l}),prefetch:!g&&void 0,tabIndex:0,children:(0,u.jsx)($,{CustomComponent:t,Fallback:(0,u.jsx)(pP,{})})})]})]})}),(0,u.jsx)(pV,{className:"".concat(p0,"__localizer")})]})}var p2="card",p3=e=>{let{id:t,actions:n,buttonAriaLabel:a,href:o,Link:l,onClick:r,title:i,titleAs:s}=e,c=[p2,t,(r||o)&&"".concat(p2,"--has-onclick")].filter(Boolean).join(" ");return(0,u.jsxs)("div",{className:c,id:t,children:[(0,u.jsx)(null!=s?s:"div",{className:"".concat(p2,"__title"),children:i}),n&&(0,u.jsx)("div",{className:"".concat(p2,"__actions"),children:n}),(r||o)&&(0,u.jsx)(e1,{"aria-label":a,buttonStyle:"none",className:"".concat(p2,"__click"),el:"link",Link:l,onClick:r,to:o})]})},p6=(0,r.createContext)({clearRouteCache:()=>{}}),p5=e=>{let t,n,a=(0,p.c)(10),{children:o}=e,l=(0,v.usePathname)(),i=(0,v.useRouter)(),s;a[0]!==i?(s=()=>{i.refresh()},a[0]=i,a[1]=s):s=a[1];let c=s,d;return a[2]!==c?(d=()=>{c()},a[2]=c,a[3]=d):d=a[3],a[4]!==l||a[5]!==c?(t=[l,c],a[4]=l,a[5]=c,a[6]=t):t=a[6],(0,r.useEffect)(d,t),a[7]!==c||a[8]!==o?(n=(0,u.jsx)(p6.Provider,{value:{clearRouteCache:c},children:o}),a[7]=c,a[8]=o,a[9]=n):n=a[9],n},p4=()=>(0,r.useContext)(p6);!function(e){e.AllAvailable="allAvailable",e.AllInPage="allInPage",e.None="none",e.Some="some"}(l||(l={}));var p9=(0,r.createContext)({}),p8=e=>{let{children:t,docs:n=[],totalDocs:a,user:o}=e,l=(0,r.useRef)({}),{code:i}=n6(),[s,c]=(0,r.useState)(()=>{let e=new Map;return n.forEach(t=>{let{id:n}=t;e.set(n,!1)}),e}),[d,p]=(0,r.useState)("none"),[h,f]=(0,r.useState)(0),{searchParams:m}=n1(),v=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Map;e?(p("allAvailable"),n.forEach(e=>{let{id:n,_isLocked:a,_userEditing:l}=e;a&&(null==l?void 0:l.id)!==(null==o?void 0:o.id)||t.set(n,!0)})):"allAvailable"===d||"allInPage"===d?p("none"):n.forEach(e=>{let{id:n,_isLocked:a,_userEditing:l}=e;a&&(null==l?void 0:l.id)!==(null==o?void 0:o.id)||t.set(n,"some"!==d)}),c(t)},[n,d,null==o?void 0:o.id]),b=(0,r.useCallback)(e=>{let t=n.find(t=>t.id===e);if((null==t?void 0:t._isLocked)&&(null==o?void 0:o.id)!==(null==t?void 0:t._userEditing.id))return;let a=s.get(e),l="boolean"!=typeof a||!a;c(new Map(l?s.set(e,l):s.set(e,!1)))},[s,n,null==o?void 0:o.id]),x=(0,r.useCallback)(e=>{let t;if("allAvailable"===d)t=(null==m?void 0:m.where)||{id:{not_equals:""}};else{let e=[];for(let[t,n]of s)n&&e.push(t);t={id:{in:e}}}return e&&(t={and:[{...e},t]}),g.P({locale:i,where:t},{addQueryPrefix:!0})},[d,s,i,m]);return(0,r.useEffect)(()=>{if("allAvailable"===d)return;let e=!1,t=!0;if(s.size)for(let[n,a]of s)t=t&&a,e=e||a;else t=!1,e=!1;t&&s.size===n.length?p("allInPage"):p(e?"some":"none")},[d,s,a,n]),(0,r.useEffect)(()=>{let e=0;if("allAvailable"===d)e=a;else for(let[t,n]of s)n&&e++;f(e)},[d,s,a]),l.current={count:h,getQueryParams:x,selectAll:d,selected:s,setSelection:b,toggleAll:v,totalDocs:a},(0,u.jsx)(p9.Provider,{value:l.current,children:t})},p7=()=>(0,r.useContext)(p9),he="delete-documents",ht=e=>{var t,n;let{collection:{slug:a,labels:{plural:o,singular:i}}={}}=e,{permissions:d}=nY(),{config:{routes:{api:p},serverURL:f}}=(0,s.b)(),{toggleModal:m}=tU(),{count:g,getQueryParams:b,selectAll:x,toggleAll:y}=p7(),{i18n:w,t:j}=(0,c.d)(),[C,S]=(0,r.useState)(!1),_=(0,v.useRouter)(),{stringifyParams:k}=n1(),{clearRouteCache:N}=p4(),E=null==d?void 0:null===(n=d.collections)||void 0===n?void 0:null===(t=n[a])||void 0===t?void 0:t.delete,A="delete-".concat(a),P=(0,r.useCallback)(()=>{nR.error(j("error:unknown"))},[j]),D=(0,r.useCallback)(async()=>{S(!0),await nq.delete("".concat(f).concat(p,"/").concat(a).concat(b()),{headers:{"Accept-Language":w.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json();m(A);let n=(null==t?void 0:t.docs.length)||0,a=n>1?o:i;return e.status<400||n>0?(nR.success(j("general:deletedCountSuccessfully",{count:n,label:(0,h.i0)(a,w)})),(null==t?void 0:t.errors.length)>0&&nR.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),y(),_.replace(k({params:{page:x?"1":void 0},replace:!0})),N(),null):(t.errors?nR.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}):P(),!1)}catch(e){return P()}})},[P,p,b,w,A,o,_,x,f,i,a,k,j,y,m,N]);return x!==l.None&&E?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(oj,{className:"".concat(he,"__toggle"),onClick:()=>{S(!1),m(A)},children:j("general:delete")}),(0,u.jsx)(t6,{className:he,slug:A,children:(0,u.jsxs)("div",{className:"".concat(he,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(he,"__content"),children:[(0,u.jsx)("h1",{children:j("general:confirmDeletion")}),(0,u.jsx)("p",{children:j("general:aboutToDeleteCount",{count:g,label:(0,h.i0)(o,w)})})]}),(0,u.jsxs)("div",{className:"".concat(he,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",id:"confirm-cancel",onClick:C?void 0:()=>m(A),size:"large",type:"button",children:j("general:cancel")}),(0,u.jsx)(e1,{id:"confirm-delete",onClick:C?void 0:D,size:"large",children:j(C?"general:deleting":"general:confirm")})]})]})})]}):null},hn=(e,t,n)=>{let a={data:{},valid:!0};return e&&(Object.keys(e).forEach(t=>{var o,l;!0!==n&&(null===(o=e[t])||void 0===o?void 0:o.disableFormData)||(a.data[t]=null===(l=e[t])||void 0===l?void 0:l.value,e[t].valid||(a.valid=!1))}),t&&(a.data=(0,M.T)(a.data))),a},ha=e=>{let{id:t,collection:n,global:a}=e,{config:{routes:{api:o},serverURL:l}}=(0,s.b)(),{docConfig:i,incrementVersionCount:d,lastUpdateTime:p,mostRecentVersionIsAutosaved:h,setLastUpdateTime:f,setMostRecentVersionIsAutosaved:m}=aV(),{reportUpdate:v}=dU(),{dispatchFields:g,setSubmitted:b}=em(),x=eg(),y=null==i?void 0:i.versions,[w]=ej(),j=ex(),{code:C}=n6(),{i18n:S,t:_}=(0,c.d)(),k=L.t.autosaveInterval;y.drafts&&y.drafts.autosave&&(k=y.drafts.autosave.interval);let[N,E]=(0,r.useState)(!1),A=nH(w,k),P=nH(j,k),D=(0,r.useRef)(w),O=(0,r.useRef)(P),R=(0,r.useRef)(C);return(0,r.useRef)(A).current=A,D.current=w,O.current=P,R.current=C,lc(()=>{let e=new AbortController,r,i,s;return(()=>{if(P){let u,p,w;if(i=new Date().getTime(),E(!0),n&&t&&(w=n.slug,u="".concat(l).concat(o,"/").concat(w,"/").concat(t,"?draft=true&autosave=true&locale=").concat(R.current),p="PATCH"),a&&(w=a.slug,u="".concat(l).concat(o,"/globals/").concat(w,"?draft=true&autosave=true&locale=").concat(R.current),p="POST"),u&&O.current){var c;let{data:n,valid:a}={...hn(D.current,!0)};n._status="draft",x&&!a&&(null==y?void 0:y.drafts)&&(null==y?void 0:null===(c=y.drafts)||void 0===c?void 0:c.validate)||fetch(u,{body:JSON.stringify(n),credentials:"include",headers:{"Accept-Language":S.language,"Content-Type":"application/json"},method:p,signal:e.signal}).then(e=>{let n=new Date;if(s=n.getTime(),200!==e.status)return e.json();f(n.getTime()),v({id:t,entitySlug:w,updatedAt:n.toISOString()}),h||(d(),m(!0))}).then(e=>{var t;if((null==y?void 0:y.drafts)&&(null==y?void 0:null===(t=y.drafts)||void 0===t?void 0:t.validate)&&(null==e?void 0:e.errors)&&Array.isArray(e.errors)){let[t,n]=e.errors.reduce((e,t)=>{let[n,a]=e,o=[],l=[];return(null==t?void 0:t.message)&&l.push(t),Array.isArray(null==t?void 0:t.data)&&t.data.forEach(e=>{(null==e?void 0:e.field)?o.push(e):l.push(e)}),[[...n,...o],[...a,...l]]},[[],[]]);g({type:"ADD_SERVER_ERRORS",errors:t}),n.forEach(e=>{nR.error(e.message||S.t("error:unknown"))}),b(!0),E(!1);return}}).then(()=>{s-i<1e3?r=setTimeout(()=>{E(!1)},1e3-(s-i)):E(!1)})}}})(),()=>{if(r&&clearTimeout(r),e.signal)try{e.abort("Autosave closed early.")}catch(e){}E(!1)}},[A],[o,n,g,a,S,t,k,P,v,l,b,null==y?void 0:y.drafts,x,f,h,d,m]),(0,u.jsxs)("div",{className:"autosave",children:[N&&_("general:saving"),!N&&!!p&&(0,u.jsx)(r.Fragment,{children:_("version:lastSavedAgo",{distance:aD({date:p,i18n:S})})})]})},ho="delete-document",hl=e=>{let{id:t,buttonId:n,collectionSlug:a,onDelete:o,redirectAfterDelete:l=!0,singularLabel:i,title:d}=e,{config:{routes:{admin:p,api:f},serverURL:m},getEntityConfig:g}=(0,s.b)(),b=g({collectionSlug:a}),{setModified:x}=em(),[y,w]=(0,r.useState)(!1),{closeModal:j,toggleModal:C}=tU(),S=(0,v.useRouter)(),{i18n:_,t:k}=(0,c.d)(),{title:N}=aV(),E=tj(),A=d||N||t,P="delete-".concat(t),D=(0,r.useCallback)(()=>{w(!1),nR.error(k("error:deletingTitle",{title:N}))},[k,N]);(0,r.useEffect)(()=>()=>{j(P)},[j,P]);let O=(0,r.useCallback)(async()=>{w(!0),x(!1);try{await nq.delete("".concat(m).concat(f,"/").concat(a,"/").concat(t),{headers:{"Accept-Language":_.language,"Content-Type":"application/json"}}).then(async e=>{try{let n=await e.json();if(e.status<400){if(w(!1),C(P),nR.success(k("general:titleDeleted",{label:(0,h.i0)(i,_),title:N})||n.message),l)return S.push(nB({adminRoute:p,path:"/collections/".concat(a)}));"function"==typeof o&&await o({id:t,collectionConfig:b}),C(P);return}return C(P),n.errors?n.errors.forEach(e=>nR.error(e.message)):D(),!1}catch(e){return D()}})}catch(e){D()}},[x,m,f,a,t,C,P,k,i,_,N,S,p,D,l,o,b]);return t?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(eT.Button,{id:n,onClick:()=>{w(!1),C(P)},children:k("general:delete")}),(0,u.jsx)(t6,{className:ho,slug:P,style:{zIndex:100+E},children:(0,u.jsxs)("div",{className:"".concat(ho,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(ho,"__content"),children:[(0,u.jsx)("h1",{children:k("general:confirmDeletion")}),(0,u.jsx)("p",{children:(0,u.jsx)(pS,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:k,variables:{label:(0,h.i0)(i,_),title:A}})})]}),(0,u.jsxs)("div",{className:"".concat(ho,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",id:"confirm-cancel",onClick:y?void 0:()=>C(P),size:"large",type:"button",children:k("general:cancel")}),(0,u.jsx)(e1,{id:"confirm-delete",onClick:()=>{y||O()},size:"large",children:k(y?"general:deleting":"general:confirm")})]})]})})]}):null},hr="duplicate",hi=e=>{let{id:t,slug:n,onDuplicate:a,redirectAfterDuplicate:o=!0,singularLabel:l}=e,i=(0,v.useRouter)(),d=ex(),{toggleModal:p}=tU(),f=n6(),{setModified:m}=em(),{config:{routes:{admin:g,api:b},serverURL:x},getEntityConfig:y}=(0,s.b)(),w=y({collectionSlug:n}),[j,C]=(0,r.useState)(!1),{i18n:S,t:_}=(0,c.d)(),k="duplicate-".concat(t),N=tj(),E=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(C(!0),d&&!e){p(k);return}await nq.post("".concat(x).concat(b,"/").concat(n,"/").concat(t,"/duplicate").concat((null==f?void 0:f.code)?"?locale=".concat(f.code):""),{body:JSON.stringify({}),headers:{"Accept-Language":S.language,"Content-Type":"application/json",credentials:"include"}}).then(async e=>{let{doc:t,errors:r,message:s}=await e.json();e.status<400?(nR.success(s||_("general:successfullyDuplicated",{label:(0,h.i0)(l,S)})),m(!1),o&&i.push(nB({adminRoute:g,path:"/collections/".concat(n,"/").concat(t.id).concat((null==f?void 0:f.code)?"?locale=".concat(f.code):"")})),"function"==typeof a&&a({collectionConfig:w,doc:t})):nR.error((null==r?void 0:r[0].message)||s||_("error:unspecific",{label:(0,h.i0)(l,S)}))})},[f,d,x,b,n,t,S,p,k,_,l,a,o,m,i,g,w]),A=(0,r.useCallback)(async()=>{C(!1),await E(!0)},[E]);return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(eT.Button,{id:"action-duplicate",onClick:()=>void E(!1),children:_("general:duplicate")}),d&&j&&(0,u.jsx)(t6,{className:"".concat(hr,"__modal"),slug:k,style:{zIndex:100+N},children:(0,u.jsxs)("div",{className:"".concat(hr,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(hr,"__content"),children:[(0,u.jsx)("h1",{children:_("general:confirmDuplication")}),(0,u.jsx)("p",{children:_("general:unsavedChangesDuplicate")})]}),(0,u.jsxs)("div",{className:"".concat(hr,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",id:"confirm-cancel",onClick:()=>p(k),size:"large",type:"button",children:_("general:cancel")}),(0,u.jsx)(e1,{id:"confirm-duplicate",onClick:()=>void A(),size:"large",children:_("general:duplicateWithoutSaving")})]})]})})]})},hs=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),(0,u.jsx)("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]})},hc="locked",hd=e=>{var t;let n=(0,p.c)(8),{className:a,user:o}=e,[l,i]=(0,r.useState)(!1),{t:s}=(0,c.d)(),d=pb(o)?null!==(t=o.email)&&void 0!==t?t:o.id:s("general:anotherUser"),h;n[0]!==a?(h=[hc,a].filter(Boolean),n[0]=a,n[1]=h):h=n[1];let f=h.join(" "),m,v;n[2]===Symbol.for("react.memo_cache_sentinel")?(m=()=>i(!0),v=()=>i(!1),n[2]=m,n[3]=v):(m=n[2],v=n[3]);let g="".concat(d," ").concat(s("general:isEditing")),b;return n[4]!==l||n[5]!==g||n[6]!==f?(b=(0,u.jsxs)("div",{className:f,onMouseEnter:m,onMouseLeave:v,role:"button",tabIndex:0,children:[(0,u.jsx)(eZ,{alignCaret:"left",className:"".concat(hc,"__tooltip"),position:"top",show:l,children:g}),(0,u.jsx)(hs,{})]}),n[4]=l,n[5]=g,n[6]=f,n[7]=b):b=n[7],b},hu=()=>{let{id:e,collectionSlug:t,globalSlug:n,versionCount:a}=aV(),[o,l]=(0,r.useState)(!1),[i,d]=(0,r.useState)(""),{code:u}=n6(),p=a>0,{config:{routes:{api:h},serverURL:f}}=(0,s.b)(),{t:m}=(0,c.d)(),v=(0,r.useRef)(!1);return{generatePreviewURL:(0,r.useCallback)(async a=>{let{openPreviewWindow:o=!1}=a;if(!v.current){v.current=!0;try{l(!0);let a="".concat(f).concat(h);t&&(a="".concat(a,"/").concat(t,"/").concat(e,"/preview")),n&&(a="".concat(a,"/globals/").concat(n,"/preview"));let r=await fetch("".concat(a,"?").concat(g.P({draft:p?"true":"false",locale:u||void 0})));if(!r.ok)throw Error();let i=await r.json();if(!i)throw Error();d(i),l(!1),v.current=!1,o&&window.open(i,"_blank")}catch(e){l(!1),v.current=!1,nR.error(m("error:previewing"))}}},[f,h,t,n,p,u,e,m]),isLoading:o,label:m(o?"general:loading":"version:preview"),previewURL:i}},hp=()=>{let e,t=(0,p.c)(5),{generatePreviewURL:n,label:a}=hu(),o;return t[0]!==n?(o=()=>n({openPreviewWindow:!0}),t[0]=n,t[1]=o):o=t[1],t[2]!==o||t[3]!==a?(e=(0,u.jsx)(e1,{buttonStyle:"secondary",className:"preview-btn",icon:"link",iconPosition:"left",onClick:o,size:"medium",children:a}),t[2]=o,t[3]=a,t[4]=e):e=t[4],e},hh=(0,r.forwardRef)((e,t)=>{let{type:n="submit",buttonId:a,children:o,disabled:l,onClick:r}=e,i=eb(),s=ey(),{disabled:c,submit:d}=em();return(0,u.jsx)("div",{className:"form-submit",children:(0,u.jsx)(e1,{ref:t,...e,disabled:!!l||!!s||!!i||!!c||void 0,id:a,onClick:null!=r?r:()=>{d()},type:n,children:o})})}),hf=e=>{let t,n,a,o,l=(0,p.c)(41),{label:r}=e,{id:i,collectionSlug:d,docConfig:h,globalSlug:f,hasPublishedDoc:m,hasPublishPermission:v,setHasPublishedDoc:b,setUnpublishedVersionCount:x,unpublishedVersionCount:y}=aV(),{config:w}=(0,s.b)(),{submit:j}=em(),C=ex(),S=tj(),{code:_}=n6(),{localization:k,routes:N,serverURL:E}=w,{api:A}=N,{i18n:P,t:D}=(0,c.d)(),{code:O}=n6(),R;l[0]!==r||l[1]!==D?(R=r||D("version:publishChanges"),l[0]=r,l[1]=D,l[2]=R):R=l[2];let I=R,T="update"===aW()&&!C,L;l[3]!==T||l[4]!==_||l[5]!==d||l[6]!==E||l[7]!==A||l[8]!==i||l[9]!==f||l[10]!==j?(L=async()=>{if(T)return;let e="?locale=".concat(_,"&depth=0&fallback-locale=null&draft=true"),t,n="POST";d&&(t="".concat(E).concat(A,"/").concat(d).concat(i?"/".concat(i):"").concat(e),i&&(n="PATCH")),f&&(t="".concat(E).concat(A,"/globals/").concat(f).concat(e)),await j({action:t,method:n,overrides:{_status:"draft"},skipValidation:!0})},l[3]=T,l[4]=_,l[5]=d,l[6]=E,l[7]=A,l[8]=i,l[9]=f,l[10]=j,l[11]=L):L=l[11];let M=L,F;l[12]===Symbol.for("react.memo_cache_sentinel")?(F=["s"],l[12]=F):F=l[12],l[13]!==S?(t={cmdCtrlKey:!0,editDepth:S,keyCodes:F},l[13]=S,l[14]=t):t=l[14],l[15]!==M||l[16]!==h.versions?(n=e=>{var t,n,a;e.preventDefault(),e.stopPropagation(),M&&(null===(t=h.versions)||void 0===t?void 0:t.drafts)&&(null===(a=h.versions)||void 0===a?void 0:null===(n=a.drafts)||void 0===n?void 0:n.autosave)&&M()},l[15]=M,l[16]=h.versions,l[17]=n):n=l[17],pa(t,n),l[18]!==j||l[19]!==x||l[20]!==b?(a=()=>{j({overrides:{_status:"published"}}),x(0),b(!0)},l[18]=j,l[19]=x,l[20]=b,l[21]=a):a=l[21];let B=a,V;l[22]!==E||l[23]!==A||l[24]!==f||l[25]!==d||l[26]!==i||l[27]!==j||l[28]!==b?(V=e=>{let t=g.P({publishSpecificLocale:e});j({action:"".concat(E).concat(A).concat(f?"/globals/".concat(f):"/".concat(d,"/").concat(i?"".concat("/"+i):"")).concat(t?"?"+t:""),overrides:{_status:"published"}}),b(!0)},l[22]=E,l[23]=A,l[24]=f,l[25]=d,l[26]=i,l[27]=j,l[28]=b,l[29]=V):V=l[29];let z=V;if(!v)return null;let U=!(v&&(C||y>0||!m)),H;return l[30]!==k||l[31]!==P||l[32]!==O||l[33]!==z||l[34]!==D?(H=k?e=>{let{close:t}=e;return k.locales.map(e=>{let n="string"==typeof e.label?e.label:e.label&&e.label[null==P?void 0:P.language];if("string"==typeof e?e===O:e.code===O)return(0,u.jsx)(eT.ButtonGroup,{children:(0,u.jsx)(eT.Button,{onClick:()=>[z(e.code),t()],children:D("version:publishIn",{locale:n||e.code})})},e.code)})}:void 0,l[30]=k,l[31]=P,l[32]=O,l[33]=z,l[34]=D,l[35]=H):H=l[35],l[36]!==U||l[37]!==B||l[38]!==H||l[39]!==I?(o=(0,u.jsx)(hh,{buttonId:"action-save",disabled:U,onClick:B,size:"medium",SubMenuPopupContent:H,type:"button",children:I}),l[36]=U,l[37]=B,l[38]=H,l[39]=I,l[40]=o):o=l[40],o},hm=e=>{let{label:t}=e,{t:n}=(0,c.d)(),{submit:a}=em(),o=ex(),l=t||n("general:save"),i=(0,r.useRef)(null),s=tj(),d="update"===aW()&&!o;return pa({cmdCtrlKey:!0,editDepth:s,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==i?void 0:i.current)&&i.current.click()}),(0,u.jsx)(hh,{buttonId:"action-save",disabled:d,onClick:()=>void a(),ref:i,size:"medium",type:"button",children:l})},hv=()=>{let{config:{routes:{api:e},serverURL:t}}=(0,s.b)(),{id:n,collectionSlug:a,globalSlug:o,setUnpublishedVersionCount:l}=aV(),i=ex(),{code:d}=n6(),p=(0,r.useRef)(null),h=tj(),{t:f}=(0,c.d)(),{submit:m}=em(),v="update"===aW()&&!i,g=(0,r.useCallback)(async()=>{if(v)return;let r="?locale=".concat(d,"&depth=0&fallback-locale=null&draft=true"),i,s="POST";a&&(i="".concat(t).concat(e,"/").concat(a).concat(n?"/".concat(n):"").concat(r),n&&(s="PATCH")),o&&(i="".concat(t).concat(e,"/globals/").concat(o).concat(r)),await m({action:i,method:s,overrides:{_status:"draft"},skipValidation:!0}),l(e=>e+1)},[m,a,o,t,e,d,n,v,l]);return pa({cmdCtrlKey:!0,editDepth:h,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==p?void 0:p.current)&&p.current.click()}),(0,u.jsx)(hh,{buttonId:"action-save-draft",buttonStyle:"secondary",className:"save-draft",disabled:v,onClick:()=>void g(),ref:p,size:"medium",type:"button",children:f("version:saveDraft")})},hg="status",hb=()=>{let e,t=(0,p.c)(40),{id:n,collectionSlug:a,docPermissions:o,globalSlug:l,hasPublishedDoc:i,incrementVersionCount:d,unpublishedVersionCount:h}=aV(),{toggleModal:f}=tU(),{config:m}=(0,s.b)(),{routes:v,serverURL:g}=m,{api:b}=v,[x,y]=(0,r.useState)(!1),{reset:w}=em(),{code:j}=n6(),{i18n:C,t:S}=(0,c.d)(),_="confirm-un-publish-".concat(n),k="confirm-revert-".concat(n),N;h>0&&i?N="changed":i?i&&h<=0&&(N="published"):N="draft",t[0]!==a||t[1]!==g||t[2]!==b||t[3]!==n||t[4]!==j||t[5]!==l||t[6]!==C.language||t[7]!==w||t[8]!==d||t[9]!==S||t[10]!==f||t[11]!==k||t[12]!==_?(e=async e=>{let t,o,r;y(!0),"unpublish"===e&&(r={_status:"draft"}),a&&(t="".concat(g).concat(b,"/").concat(a,"/").concat(n,"?locale=").concat(j,"&fallback-locale=null&depth=0"),o="patch"),l&&(t="".concat(g).concat(b,"/globals/").concat(l,"?locale=").concat(j,"&fallback-locale=null&depth=0"),o="post"),"revert"===e&&(r=await nq.get(t,{headers:{"Accept-Language":C.language,"Content-Type":"application/json"}}).then(e=>e.json()));let i=await nq[o](t,{body:JSON.stringify(r),headers:{"Accept-Language":C.language,"Content-Type":"application/json"}});if(200===i.status){let e,t=await i.json();l?e=t.result:a&&(e=t.doc),w(e),nR.success(t.message),d()}else nR.error(S("error:unPublishingDocument"));y(!1),"revert"===e&&f(k),"unpublish"===e&&f(_)},t[0]=a,t[1]=g,t[2]=b,t[3]=n,t[4]=j,t[5]=l,t[6]=C.language,t[7]=w,t[8]=d,t[9]=S,t[10]=f,t[11]=k,t[12]=_,t[13]=e):e=t[13];let E=e,A=null==o?void 0:o.update;if(N){let e="".concat(S("version:status"),": ").concat(S("version:".concat(N))),n;if(t[14]!==S||t[15]!==N||t[16]!==A||t[17]!==f||t[18]!==_||t[19]!==x||t[20]!==E||t[21]!==k||t[22]!==e){let a,o;t[24]!==A||t[25]!==N||t[26]!==f||t[27]!==_||t[28]!==S||t[29]!==x||t[30]!==E?(a=A&&"published"===N&&(0,u.jsxs)(r.Fragment,{children:["\xa0\xa0",(0,u.jsx)(e1,{buttonStyle:"none",className:"".concat(hg,"__action"),onClick:()=>f(_),children:S("version:unpublish")}),(0,u.jsx)(t6,{className:"".concat(hg,"__modal"),slug:_,children:(0,u.jsxs)("div",{className:"".concat(hg,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(hg,"__content"),children:[(0,u.jsx)("h1",{children:S("version:confirmUnpublish")}),(0,u.jsx)("p",{children:S("version:aboutToUnpublish")})]}),(0,u.jsxs)("div",{className:"".concat(hg,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",onClick:x?void 0:()=>f(_),size:"large",type:"button",children:S("general:cancel")}),(0,u.jsx)(e1,{onClick:x?void 0:()=>E("unpublish"),size:"large",children:S(x?"version:unpublishing":"general:confirm")})]})]})})]}),t[24]=A,t[25]=N,t[26]=f,t[27]=_,t[28]=S,t[29]=x,t[30]=E,t[31]=a):a=t[31],t[32]!==A||t[33]!==N||t[34]!==f||t[35]!==k||t[36]!==S||t[37]!==x||t[38]!==E?(o=A&&"changed"===N&&(0,u.jsxs)(r.Fragment,{children:["\xa0\xa0",(0,u.jsx)(e1,{buttonStyle:"none",className:"".concat(hg,"__action"),id:"action-revert-to-published",onClick:()=>f(k),children:S("version:revertToPublished")}),(0,u.jsx)(t6,{className:"".concat(hg,"__modal"),slug:k,children:(0,u.jsxs)("div",{className:"".concat(hg,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(hg,"__content"),children:[(0,u.jsx)("h1",{children:S("version:confirmRevertToSaved")}),(0,u.jsx)("p",{children:S("version:aboutToRevertToPublished")})]}),(0,u.jsxs)("div",{className:"".concat(hg,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",onClick:x?void 0:()=>f(k),size:"large",type:"button",children:S("general:cancel")}),(0,u.jsx)(e1,{id:"action-revert-to-published-confirm",onClick:x?void 0:()=>E("revert"),size:"large",children:S(x?"version:reverting":"general:confirm")})]})]})})]}),t[32]=A,t[33]=N,t[34]=f,t[35]=k,t[36]=S,t[37]=x,t[38]=E,t[39]=o):o=t[39],n=(0,u.jsx)("div",{className:hg,title:e,children:(0,u.jsxs)("div",{className:"".concat(hg,"__value-wrap"),children:[(0,u.jsxs)("span",{className:"".concat(hg,"__label"),children:[S("version:status"),":\xa0"]}),(0,u.jsx)("span",{className:"".concat(hg,"__value"),children:S("version:".concat(N))}),a,o]})}),t[14]=S,t[15]=N,t[16]=A,t[17]=f,t[18]=_,t[19]=x,t[20]=E,t[21]=k,t[22]=e,t[23]=n}else n=t[23];return n}return null},hx="doc-controls",hy=e=>{var t,n,a,o,l,i,d,f,m,v,g,b,x,y,w,j,C;let S;let _=(0,p.c)(15),{id:k,slug:N,customComponents:E,data:A,disableActions:P,disableCreate:D,hasSavePermission:O,isAccountView:R,isEditing:I,onDelete:T,onDrawerCreateNew:L,onDuplicate:M,onTakeOver:F,permissions:B,readOnlyForIncomingUser:V,redirectAfterDelete:z,redirectAfterDuplicate:U,user:H}=e,q;_[0]!==E?(q=void 0===E?{}:E,_[0]=E,_[1]=q):q=_[1];let{PreviewButton:W,PublishButton:K,SaveButton:Y,SaveDraftButton:Q}=q,{i18n:G,t:X}=(0,c.d)(),J=tj(),{config:Z,getEntityConfig:ee}=(0,s.b)(),et=ee({collectionSlug:N}),en=ee({globalSlug:N}),{admin:ea,routes:eo}=Z,{dateFormat:el}=ea,{admin:er}=eo,[ei,es]=r.useState(""),[ec,ed]=r.useState(""),eu,ep;_[2]!==A||_[3]!==G||_[4]!==el?(eu=()=>{(null==A?void 0:A.updatedAt)&&es(aP({date:A.updatedAt,i18n:G,pattern:el})),(null==A?void 0:A.createdAt)&&ed(aP({date:A.createdAt,i18n:G,pattern:el}))},ep=[A,G,el],_[2]=A,_[3]=G,_[4]=el,_[5]=eu,_[6]=ep):(eu=_[5],ep=_[6]),(0,r.useEffect)(eu,ep);let eh=B&&"create"in B&&B.create,ef=B&&"delete"in B&&B.delete,em=!!(et&&k&&!P&&(eh||ef)),ev=!k&&(null==et?void 0:null===(t=et.versions)||void 0===t?void 0:t.drafts)&&(null===(n=et.versions)||void 0===n?void 0:n.drafts.validate),eg=(null==et?void 0:null===(a=et.versions)||void 0===a?void 0:a.drafts)&&(null==et?void 0:null===(l=et.versions)||void 0===l?void 0:null===(o=l.drafts)||void 0===o?void 0:o.autosave)||(null==en?void 0:null===(i=en.versions)||void 0===i?void 0:i.drafts)&&(null==en?void 0:null===(f=en.versions)||void 0===f?void 0:null===(d=f.drafts)||void 0===d?void 0:d.autosave),eb;return _[7]!==H||_[8]!==V?(eb=H&&V&&(0,u.jsx)(hd,{className:"".concat(hx,"__locked-controls"),user:H}),_[7]=H,_[8]=V,_[9]=eb):eb=_[9],_[10]!==H||_[11]!==V||_[12]!==X||_[13]!==F?(S=H&&V&&(0,u.jsx)(e1,{buttonStyle:"secondary",id:"take-over",onClick:F,size:"medium",type:"button",children:X("general:takeOver")}),_[10]=H,_[11]=V,_[12]=X,_[13]=F,_[14]=S):S=_[14],(0,u.jsxs)(oc,{className:hx,children:[(0,u.jsxs)("div",{className:"".concat(hx,"__wrapper"),children:[(0,u.jsx)("div",{className:"".concat(hx,"__content"),children:(0,u.jsxs)("ul",{className:"".concat(hx,"__meta"),children:[et&&!I&&!R&&(0,u.jsx)("li",{className:"".concat(hx,"__list-item"),children:(0,u.jsx)("p",{className:"".concat(hx,"__value"),children:G.t("general:creatingNewLabel",{label:(0,h.i0)(null!==(C=null==et?void 0:null===(m=et.labels)||void 0===m?void 0:m.singular)&&void 0!==C?C:G.t("general:document"),G)})})}),eb,((null==et?void 0:null===(v=et.versions)||void 0===v?void 0:v.drafts)||(null==en?void 0:null===(g=en.versions)||void 0===g?void 0:g.drafts))&&(0,u.jsxs)(r.Fragment,{children:[(en||et&&I)&&(0,u.jsx)("li",{className:["".concat(hx,"__status"),"".concat(hx,"__list-item")].filter(Boolean).join(" "),children:(0,u.jsx)(hb,{})}),O&&eg&&!ev&&(0,u.jsx)("li",{className:"".concat(hx,"__list-item"),children:(0,u.jsx)(ha,{collection:et,global:en,id:k,publishedDocUpdatedAt:null==A?void 0:A.createdAt})})]}),(null==et?void 0:et.timestamps)&&(I||R)&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)("li",{className:["".concat(hx,"__list-item"),"".concat(hx,"__value-wrap")].filter(Boolean).join(" "),title:(null==A?void 0:A.updatedAt)?ei:"",children:[(0,u.jsxs)("p",{className:"".concat(hx,"__label"),children:[G.t("general:lastModified"),":\xa0"]}),(null==A?void 0:A.updatedAt)&&(0,u.jsx)("p",{className:"".concat(hx,"__value"),children:ei})]}),(0,u.jsxs)("li",{className:["".concat(hx,"__list-item"),"".concat(hx,"__value-wrap")].filter(Boolean).join(" "),title:(null==A?void 0:A.createdAt)?ec:"",children:[(0,u.jsxs)("p",{className:"".concat(hx,"__label"),children:[G.t("general:created"),":\xa0"]}),(null==A?void 0:A.createdAt)&&(0,u.jsx)("p",{className:"".concat(hx,"__value"),children:ec})]})]})]})}),(0,u.jsxs)("div",{className:"".concat(hx,"__controls-wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(hx,"__controls"),children:[((null==et?void 0:et.admin.preview)||(null==en?void 0:en.admin.preview))&&(0,u.jsx)($,{CustomComponent:W,Fallback:(0,u.jsx)(hp,{})}),O&&(0,u.jsx)(r.Fragment,{children:(null==et?void 0:null===(b=et.versions)||void 0===b?void 0:b.drafts)||(null==en?void 0:null===(x=en.versions)||void 0===x?void 0:x.drafts)?(0,u.jsxs)(r.Fragment,{children:[(ev||!eg)&&(0,u.jsx)($,{CustomComponent:Q,Fallback:(0,u.jsx)(hv,{})}),(0,u.jsx)($,{CustomComponent:K,Fallback:(0,u.jsx)(hf,{})})]}):(0,u.jsx)($,{CustomComponent:Y,Fallback:(0,u.jsx)(hm,{})})}),S]}),em&&!V&&(0,u.jsx)(eJ,{button:(0,u.jsxs)("div",{className:"".concat(hx,"__dots"),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]}),className:"".concat(hx,"__popup"),horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:(0,u.jsxs)(eT.ButtonGroup,{children:[eh&&(0,u.jsxs)(r.Fragment,{children:[!D&&(0,u.jsx)(r.Fragment,{children:J>1?(0,u.jsx)(eT.Button,{id:"action-create",onClick:L,children:G.t("general:createNew")}):(0,u.jsx)(eT.Button,{href:nB({adminRoute:er,path:"/collections/".concat(null==et?void 0:et.slug,"/create")}),id:"action-create",children:G.t("general:createNew")})}),!0!==et.disableDuplicate&&I&&(0,u.jsx)(hi,{id:k.toString(),onDuplicate:M,redirectAfterDuplicate:U,singularLabel:null==et?void 0:null===(y=et.labels)||void 0===y?void 0:y.singular,slug:null==et?void 0:et.slug})]}),ef&&(0,u.jsx)(hl,{buttonId:"action-delete",collectionSlug:null==et?void 0:et.slug,id:k.toString(),onDelete:T,redirectAfterDelete:z,singularLabel:null==et?void 0:null===(w=et.labels)||void 0===w?void 0:w.singular,useAsTitle:null==et?void 0:null===(j=et.admin)||void 0===j?void 0:j.useAsTitle})]})})]})]}),(0,u.jsx)("div",{className:"".concat(hx,"__divider")})]})},hw=(e,t)=>e?(0,j.j7)(t)?"".concat(e,".").concat(t.name):e:(0,j.j7)(t)?t.name:"",hj=e=>{let{CustomLabel:t,field:n,prefix:a}=e;return(0,u.jsxs)(r.Fragment,{children:[a?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)("span",{style:{display:"inline-block"},children:a})," > "]}):null,(0,u.jsx)("span",{style:{display:"inline-block"},children:(0,u.jsx)($,{CustomComponent:t,Fallback:(0,u.jsx)(n4,{label:"label"in n&&n.label})})})]})},hC=e=>{var t,n;let{fields:a,formState:o,labelPrefix:l=null,path:r=""}=e;if(!a)return[];let i=null==o?void 0:null===(n=o[r])||void 0===n?void 0:null===(t=n.customComponents)||void 0===t?void 0:t.Label;return null==a?void 0:a.reduce((e,t)=>((0,j.j7)(t)||"ui"===t.type)&&(t.admin.disableBulkEdit||t.unique||t.admin.hidden||"readOnly"in t&&t.readOnly)?e:!("array"===t.type||"blocks"===t.type)&&(0,j.uV)(t)?[...e,...hC({fields:t.fields,labelPrefix:hj({CustomLabel:i,field:t,prefix:l}),path:hw(r,t)})]:"tabs"===t.type&&"tabs"in t?[...e,...t.tabs.reduce((e,n)=>{if("fields"in n){let a="name"in n&&n.name;return[...e,...hC({fields:n.fields,labelPrefix:l,path:a?hw(r,t):r})]}},[])]:[...e,{label:hj({CustomLabel:i,field:t,prefix:l}),value:{...t,path:hw(r,t)}}],[])},hS=e=>{let t=(0,p.c)(11),{fields:n,setSelected:a}=e,{t:o}=(0,c.d)(),{dispatchFields:l,getFields:i}=em(),s;t[0]!==n||t[1]!==i?(s=()=>hC({fields:n,formState:i()}),t[0]=n,t[1]=i,t[2]=s):s=t[2];let[d]=(0,r.useState)(s),h;t[3]!==i||t[4]!==a||t[5]!==l?(h=e=>{let t=i();a(null===e?[]:e.map(e=>{let{value:t}=e;return t})),(null===e||Object.keys(t||[]).length>e.length)&&Object.keys(t).forEach(t=>{null!==e&&e.find(e=>e.value.path===t)||l({type:"REMOVE",path:t})})},t[3]=i,t[4]=a,t[5]=l,t[6]=h):h=t[6];let f=h,m;return t[7]!==o||t[8]!==f||t[9]!==d?(m=(0,u.jsxs)("div",{className:"field-select",children:[(0,u.jsx)(n4,{label:o("fields:selectFieldsToEdit")}),(0,u.jsx)(cN,{getOptionValue:h_,isMulti:!0,onChange:f,options:d})]}),t[7]=o,t[8]=f,t[9]=d,t[10]=m):m=t[10],m};function h_(e){return"object"==typeof e.value&&"path"in e.value?String(e.value.path):String(e.value)}var hk="edit-many",hN=e=>{let t=(0,p.c)(7),{action:n,disabled:a}=e,{submit:o}=em(),{t:l}=(0,c.d)(),r;t[0]!==o||t[1]!==n?(r=()=>{o({action:n,method:"PATCH",skipValidation:!0})},t[0]=o,t[1]=n,t[2]=r):r=t[2];let i=r,s;return t[3]!==l||t[4]!==a||t[5]!==i?(s=(0,u.jsx)(hh,{className:"".concat(hk,"__save"),disabled:a,onClick:i,children:l("general:save")}),t[3]=l,t[4]=a,t[5]=i,t[6]=s):s=t[6],s},hE=e=>{let t=(0,p.c)(7),{action:n,disabled:a}=e,{submit:o}=em(),{t:l}=(0,c.d)(),r;t[0]!==o||t[1]!==n?(r=()=>{o({action:n,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},t[0]=o,t[1]=n,t[2]=r):r=t[2];let i=r,s;return t[3]!==l||t[4]!==a||t[5]!==i?(s=(0,u.jsx)(hh,{className:"".concat(hk,"__publish"),disabled:a,onClick:i,children:l("version:publishChanges")}),t[3]=l,t[4]=a,t[5]=i,t[6]=s):s=t[6],s},hA=e=>{let t=(0,p.c)(7),{action:n,disabled:a}=e,{submit:o}=em(),{t:l}=(0,c.d)(),r;t[0]!==o||t[1]!==n?(r=()=>{o({action:n,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},t[0]=o,t[1]=n,t[2]=r):r=t[2];let i=r,s;return t[3]!==l||t[4]!==a||t[5]!==i?(s=(0,u.jsx)(hh,{buttonStyle:"secondary",className:"".concat(hk,"__draft"),disabled:a,onClick:i,children:l("version:saveDraft")}),t[3]=l,t[4]=a,t[5]=i,t[6]=s):s=t[6],s},hP=e=>{var t,n;let{collection:{slug:a,fields:o,labels:{plural:i}}={},collection:d}=e,{permissions:p,user:f}=nY(),{closeModal:m}=tU(),{config:{routes:{api:g},serverURL:b}}=(0,s.b)(),{getFormState:x}=lg(),{count:y,getQueryParams:w,selectAll:j}=p7(),{i18n:C,t:S}=(0,c.d)(),[_,k]=(0,r.useState)([]),{stringifyParams:N}=n1(),E=(0,v.useRouter)(),[A,P]=(0,r.useState)(),D=r.useRef(!1),O=r.useRef(null),{clearRouteCache:R}=p4(),I=null==p?void 0:null===(t=p.collections)||void 0===t?void 0:t[a],T=null==I?void 0:I.update,L="edit-".concat(a);r.useEffect(()=>{let e=new AbortController;return D.current||(async()=>{let{state:t}=await x({collectionSlug:a,data:{},docPermissions:I,docPreferences:null,operation:"update",schemaPath:a,signal:e.signal});P(t),D.current=!0})(),()=>{lw(e)}},[g,D,b,a,x,f,I]);let M=(0,r.useCallback)(async e=>{let{formState:t}=e;lw(O.current);let n=new AbortController;O.current=n;let{state:o}=await x({collectionSlug:a,docPermissions:I,docPreferences:null,formState:t,operation:"update",schemaPath:a,signal:n.signal});return o},[a,x,I]);return((0,r.useEffect)(()=>()=>{lw(O.current)},[]),j!==l.None&&T)?(0,u.jsxs)("div",{className:hk,children:[(0,u.jsx)(oh,{"aria-label":S("general:edit"),className:"".concat(hk,"__toggle"),onClick:()=>{k([])},slug:L,children:S("general:edit")}),(0,u.jsx)(tw,{children:(0,u.jsx)(of,{Header:null,slug:L,children:(0,u.jsx)(aU,{collectionSlug:a,currentEditor:f,hasPublishedDoc:!1,id:null,initialData:{},initialState:A,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:(0,u.jsx)(aH.Provider,{value:"update",children:(0,u.jsxs)("div",{className:"".concat(hk,"__main"),children:[(0,u.jsxs)("div",{className:"".concat(hk,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(hk,"__header__title"),children:S("general:editingLabel",{count:y,label:(0,h.i0)(i,C)})}),(0,u.jsx)("button",{"aria-label":S("general:close"),className:"".concat(hk,"__header__close"),id:"close-drawer__".concat(L),onClick:()=>m(L),type:"button",children:(0,u.jsx)(c.a,{})})]}),(0,u.jsxs)(dB,{className:"".concat(hk,"__form"),initialState:A,onChange:[M],onSuccess:()=>{E.replace(N({params:{page:j===l.AllAvailable?"1":void 0}})),R(),m(L)},children:[(0,u.jsx)(hS,{fields:o,setSelected:k}),0===_.length?null:(0,u.jsx)(uX,{fields:_,parentIndexPath:"",parentPath:"",parentSchemaPath:a,permissions:null==I?void 0:I.fields,readOnly:!1}),(0,u.jsx)("div",{className:"".concat(hk,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(hk,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(hk,"__sidebar-sticky-wrap"),children:(0,u.jsx)("div",{className:"".concat(hk,"__document-actions"),children:(null==d?void 0:null===(n=d.versions)||void 0===n?void 0:n.drafts)?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(hA,{action:"".concat(b).concat(g,"/").concat(a).concat(w(),"&draft=true"),disabled:0===_.length}),(0,u.jsx)(hE,{action:"".concat(b).concat(g,"/").concat(a).concat(w(),"&draft=true"),disabled:0===_.length})]}):(0,u.jsx)(hN,{action:"".concat(b).concat(g,"/").concat(a).concat(w()),disabled:0===_.length})})})})})]})]})})})})})]}):null},hD="generate-confirmation",hO=e=>{let{highlightField:t,setKey:n}=e,{id:a}=aV(),{toggleModal:o}=tU(),{t:l}=(0,c.d)(),i="generate-confirmation-".concat(a);return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(e1,{buttonStyle:"secondary",onClick:()=>{o(i)},size:"small",children:l("authentication:generateNewAPIKey")}),(0,u.jsx)(t6,{className:hD,slug:i,children:(0,u.jsxs)("div",{className:"".concat(hD,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(hD,"__content"),children:[(0,u.jsx)("h1",{children:l("authentication:confirmGeneration")}),(0,u.jsx)("p",{children:(0,u.jsx)(pS,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:l})})]}),(0,u.jsxs)("div",{className:"".concat(hD,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",onClick:()=>{o(i)},size:"large",type:"button",children:l("general:cancel")}),(0,u.jsx)(e1,{onClick:()=>{n(),o(i),nR.success(l("authentication:newAPIKeyGenerated")),t(!0)},children:l("authentication:generate")})]})]})})]})};function hR(e){let t=(0,p.c)(4),{permissions:n}=e,{setPermissions:a}=nY(),o,l;return t[0]!==a||t[1]!==n?(o=()=>{a(n)},l=[n,a],t[0]=a,t[1]=n,t[2]=o,t[3]=l):(o=t[2],l=t[3]),(0,r.useEffect)(o,l),null}var hI="publish-many",hT=e=>{var t,n;let{clearRouteCache:a}=p4(),{collection:{slug:o,labels:{plural:i,singular:d},versions:p}={}}=e,{config:{routes:{api:f},serverURL:m}}=(0,s.b)(),{permissions:g}=nY(),{toggleModal:b}=tU(),{i18n:x,t:y}=(0,c.d)(),{getQueryParams:w,selectAll:j}=p7(),[C,S]=(0,r.useState)(!1),_=(0,v.useRouter)(),{stringifyParams:k}=n1(),N=null==g?void 0:null===(n=g.collections)||void 0===n?void 0:null===(t=n[o])||void 0===t?void 0:t.update,E="publish-".concat(o),A=(0,r.useCallback)(()=>{nR.error(y("error:unknown"))},[y]),P=(0,r.useCallback)(async()=>{S(!0),await nq.patch("".concat(m).concat(f,"/").concat(o).concat(w({_status:{not_equals:"published"}}),"&draft=true"),{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json();b(E);let n=(null==t?void 0:t.docs.length)||0,o=n>1?i:d;return e.status<400||n>0?(nR.success(y("general:updatedCountSuccessfully",{count:n,label:(0,h.i0)(o,x)})),(null==t?void 0:t.errors.length)>0&&nR.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),_.replace(k({params:{page:j?"1":void 0}})),a(),null):(t.errors?t.errors.forEach(e=>nR.error(e.message)):A(),!1)}catch(e){return A()}})},[A,f,w,x,E,i,j,m,d,o,y,b,_,k,a]);return(null==p?void 0:p.drafts)&&j!==l.None&&N?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(oj,{className:"".concat(hI,"__toggle"),onClick:()=>{S(!1),b(E)},children:y("version:publish")}),(0,u.jsx)(t6,{className:hI,slug:E,children:(0,u.jsxs)("div",{className:"".concat(hI,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(hI,"__content"),children:[(0,u.jsx)("h1",{children:y("version:confirmPublish")}),(0,u.jsx)("p",{children:y("version:aboutToPublishSelection",{label:(0,h.i0)(i,x)})})]}),(0,u.jsxs)("div",{className:"".concat(hI,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",id:"confirm-cancel",onClick:C?void 0:()=>b(E),size:"large",type:"button",children:y("general:cancel")}),(0,u.jsx)(e1,{id:"confirm-publish",onClick:C?void 0:P,size:"large",children:y(C?"version:publishing":"general:confirm")})]})]})})]}):null},hL="search-filter",hM=e=>{let{handleChange:t,initialParams:n,label:a}=e,o=(0,v.usePathname)(),[l,i]=(0,r.useState)("string"==typeof(null==n?void 0:n.search)?null==n?void 0:n.search:void 0),s=(0,r.useRef)(!0),c=(0,r.useRef)("string"==typeof(null==n?void 0:n.search)?null==n?void 0:n.search:void 0),d=nH(l,300);return(0,r.useEffect)(()=>{(null==n?void 0:n.search)!==c.current&&(s.current=!1,i(null==n?void 0:n.search),c.current=null==n?void 0:n.search)},[null==n?void 0:n.search,o]),(0,r.useEffect)(()=>{d!==c.current&&s.current&&(t&&t(d),c.current=d)},[d,t]),(0,u.jsx)("div",{className:hL,children:(0,u.jsx)("input",{"aria-label":a,className:"".concat(hL,"__input"),id:"search-filter-input",onChange:e=>{s.current=!0,i(e.target.value)},placeholder:a,type:"text",value:l||""})})},hF="unpublish-many",hB=e=>{var t,n;let{collection:{slug:a,labels:{plural:o,singular:i},versions:d}={}}=e,{config:{routes:{api:p},serverURL:f}}=(0,s.b)(),{permissions:m}=nY(),{toggleModal:g}=tU(),{i18n:b,t:x}=(0,c.d)(),{getQueryParams:y,selectAll:w}=p7(),[j,C]=(0,r.useState)(!1),{stringifyParams:S}=n1(),_=(0,v.useRouter)(),{clearRouteCache:k}=p4(),N=null==m?void 0:null===(n=m.collections)||void 0===n?void 0:null===(t=n[a])||void 0===t?void 0:t.update,E="unpublish-".concat(a),A=(0,r.useCallback)(()=>{nR.error(x("error:unknown"))},[x]),P=(0,r.useCallback)(async()=>{C(!0),await nq.patch("".concat(f).concat(p,"/").concat(a).concat(y({_status:{not_equals:"draft"}})),{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":b.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json();g(E);let n=(null==t?void 0:t.docs.length)||0,a=n>1?o:i;return e.status<400||n>0?(nR.success(x("general:updatedCountSuccessfully",{count:n,label:(0,h.i0)(a,b)})),(null==t?void 0:t.errors.length)>0&&nR.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),_.replace(S({params:{page:w?"1":void 0}})),k(),null):(t.errors?t.errors.forEach(e=>nR.error(e.message)):A(),!1)}catch(e){return A()}})},[A,p,y,b,E,o,w,f,i,a,x,g,_,k,S]);return(null==d?void 0:d.drafts)&&w!==l.None&&N?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(oj,{className:"".concat(hF,"__toggle"),onClick:()=>{C(!1),g(E)},children:x("version:unpublish")}),(0,u.jsx)(t6,{className:hF,slug:E,children:(0,u.jsxs)("div",{className:"".concat(hF,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(hF,"__content"),children:[(0,u.jsx)("h1",{children:x("version:confirmUnpublish")}),(0,u.jsx)("p",{children:x("version:aboutToUnpublishSelection",{label:(0,h.i0)(o,b)})})]}),(0,u.jsxs)("div",{className:"".concat(hF,"__controls"),children:[(0,u.jsx)(e1,{buttonStyle:"secondary",id:"confirm-cancel",onClick:j?void 0:()=>g(E),size:"large",type:"button",children:x("general:cancel")}),(0,u.jsx)(e1,{id:"confirm-unpublish",onClick:j?void 0:P,size:"large",children:x(j?"version:unpublishing":"general:confirm")})]})]})})]}):null},hV=e=>{let{disabled:t,field:{admin:n},onChange:a,value:o}=e,{date:l}=n||{};return(0,u.jsx)("div",{className:"condition-value-date",children:(0,u.jsx)(o2,{...l,onChange:a,readOnly:t,value:o})})},hz=e=>{let t,n=(0,p.c)(7),{disabled:a,onChange:o,value:l}=e,{t:r}=(0,c.d)(),i;return n[0]!==o?(i=e=>o(e.target.value),n[0]=o,n[1]=i):i=n[1],n[2]!==r||n[3]!==a||n[4]!==i||n[5]!==l?(t=(0,u.jsx)("input",{className:"condition-value-number",disabled:a,onChange:i,placeholder:r("general:enterAValue"),type:"number",value:l}),n[2]=r,n[3]=a,n[4]=i,n[5]=l,n[6]=t):t=n[6],t},hU=e=>e.reduce((e,t)=>t.options?[...e,...hU(t.options)]:[...e,t.id],[]),hH=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,data:a,hasMultipleRelations:o,i18n:l,relation:r}=t,i=n.admin.useAsTitle||"id",s=hU(e);if(!o)return[...e,...a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],value:t.id}]):e,[])];let c=[...e],d=c.find(e=>e.label===(0,h.i0)(n.labels.plural,l)),u=a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],relationTo:r,value:t.id}]):e,[]);return d?d.options=[...d.options,...u]:c.push({label:(0,h.i0)(n.labels.plural,l),options:u,value:void 0}),c}case"CLEAR":return t.required?[]:[{label:t.i18n.t("general:none"),value:"null"}];default:return e}},hq="condition-value-relationship",hW=e=>{let{disabled:t,field:{admin:{isSortable:n}={},hasMany:a,relationTo:o},onChange:l,value:i}=e,{config:{collections:d,routes:{api:p},serverURL:h},getEntityConfig:f}=(0,s.b)(),m=Array.isArray(o),[v,b]=(0,r.useReducer)(hH,[]),[x,y]=(0,r.useState)(""),[w,j]=(0,r.useState)(""),[C,S]=(0,r.useState)(!1),_=nH(x,300),{i18n:k,t:N}=(0,c.d)(),E=m?o:[o],A=r.useRef((()=>{let e=new Map;return E.forEach(t=>{e.set(t,1)}),e})()),P=r.useRef(E),D=(0,r.useCallback)((e,t)=>{b({type:"ADD",collection:f({collectionSlug:t}),data:e,hasMultipleRelations:m,i18n:k,relation:t})},[m,k,f]),O=r.useCallback(async e=>{let{abortController:t,relationSlug:n}=e;if(n&&P.current.includes(n)){var a,o;let e=(null===(o=f({collectionSlug:n}))||void 0===o?void 0:null===(a=o.admin)||void 0===a?void 0:a.useAsTitle)||"id",l={depth:0,limit:10,page:A.current.get(n),where:{and:[]}};_&&l.where.and.push({[e]:{like:_}});try{let e=await fetch("".concat(h).concat(p,"/").concat(n).concat(g.P(l,{addQueryPrefix:!0})),{credentials:"include",headers:{"Accept-Language":k.language},signal:t.signal});if(e.ok){let t=await e.json();t.docs.length>0&&(D(t,n),_||(t.nextPage?A.current.set(n,t.nextPage):P.current=P.current.filter(e=>e!==n)))}else j(N("error:unspecific"))}catch(e){t.signal.aborted||console.error(e)}}S(!0)},[D,p,d,_,k.language,h,N]),R=r.useCallback(()=>{P.current.length>0&&O({abortController:new AbortController,relationSlug:P.current[0]})},[O]),I=(0,r.useCallback)(()=>{if(i){if(a)return Array.isArray(i)?i.map(e=>{if(m){let t;return v.forEach(n=>{n.options&&n.options.some(n=>(null==n?void 0:n.value)==e.value&&(t=n,!0))}),t}return v.find(t=>t.value==e)}):void 0;if(m){let e;return v.forEach(t=>{(null==t?void 0:t.options)&&t.options.some(t=>(null==t?void 0:t.value)==i.value&&(e=t,!0))}),e}return v.find(e=>e.value==i)}},[a,m,i,v]),T=(0,r.useCallback)(e=>{x!==e&&y(e)},[x]),L=(0,r.useCallback)(async(e,t)=>{if(!w&&"null"!==e&&e&&t){let n=await fetch("".concat(h).concat(p,"/").concat(t,"/").concat(e,"?depth=0"),{credentials:"include",headers:{"Accept-Language":k.language}});n.ok?D({docs:[await n.json()]},t):console.error(N("error:loadingDocument",{id:e}))}},[k,D,p,w,h,N]);(0,r.useEffect)(()=>{let e=Array.isArray(o)?o:[o],t=[];return e.forEach(e=>{let n=new AbortController;O({abortController:n,relationSlug:e}),t.push(n)}),()=>{t.forEach(e=>{if(e.signal)try{e.abort()}catch(e){}})}},[k,O,o]),(0,r.useEffect)(()=>{i&&C&&(a?(I()||[]).forEach((e,t)=>{e||(m?L(i[t].value,i[t].relationTo):L(i[t],o))}):I()||(m?L(i.value,i.relationTo):L(i,o)))},[L,I,a,m,o,i,C]);let M=["field-type",hq,w&&"error-loading"].filter(Boolean).join(" "),F=I()||i;return(0,u.jsxs)("div",{className:M,children:[!w&&(0,u.jsx)(cN,{disabled:t,isMulti:a,isSortable:n,onChange:e=>{if(!e){l(null);return}a&&Array.isArray(e)?l(e?e.map(e=>m?{relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}:null==e?void 0:e.value):null):m&&!Array.isArray(e)?l({relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}):Array.isArray(e)||l(null==e?void 0:e.value)},onInputChange:T,onMenuScrollToBottom:R,options:v,placeholder:N("general:selectValue"),value:F}),w&&(0,u.jsx)("div",{className:"".concat(hq,"__error-loading"),children:w})]})},hK=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),hY=e=>{let t,n,a,o,l=(0,p.c)(26),{disabled:i,onChange:s,operator:d,options:f,value:m}=e,{i18n:v}=(0,c.d)(),g;l[0]!==f?(g=hK(f),l[0]=f,l[1]=g):g=l[1];let[b,x]=r.useState(g),y;l[2]===Symbol.for("react.memo_cache_sentinel")?(y=["in","not_in"],l[2]=y):y=l[2];let w=y.includes(d),j;if(w&&Array.isArray(m)){let e;l[3]!==b||l[4]!==v?(e=e=>{var t;let n=b.find(t=>t.value===e);return{label:n?(0,h.i0)(n.label,v):e,value:null!==(t=null==n?void 0:n.value)&&void 0!==t?t:e}},l[3]=b,l[4]=v,l[5]=e):e=l[5],j=m.map(e)}else if(m){var C;let e,t;if(l[6]!==m||l[7]!==b||l[8]!==v){let n;l[11]!==m?(n=e=>e.value===m,l[11]=m,l[12]=n):n=l[12],t=(e=b.find(n))?(0,h.i0)(e.label,v):m,l[6]=m,l[7]=b,l[8]=v,l[9]=e,l[10]=t}else e=l[9],t=l[10];j={label:t,value:null!==(C=null==e?void 0:e.value)&&void 0!==C?C:m}}l[13]!==w||l[14]!==s?(t=e=>{s(e?w?Array.isArray(e)?e.map(e=>e.value):[]:e.value:null)},l[13]=w,l[14]=s,l[15]=t):t=l[15];let S=t,_,k;return l[16]!==f?(_=()=>{x(hK(f))},k=[f],l[16]=f,l[17]=_,l[18]=k):(_=l[17],k=l[18]),r.useEffect(_,k),l[19]!==w||l[20]!==m||l[21]!==s?(n=()=>{!w&&Array.isArray(m)&&s(m[0])},a=[w,s,m],l[19]=w,l[20]=m,l[21]=s,l[22]=n,l[23]=a):(n=l[22],a=l[23]),r.useEffect(n,a),l[24]!==v?(o=e=>({...e,label:(0,h.i0)(e.label,v)}),l[24]=v,l[25]=o):o=l[25],(0,u.jsx)(cN,{disabled:i,isMulti:w,onChange:S,options:b.map(o),value:j})},hQ=e=>{let t,n=(0,p.c)(7),{disabled:a,onChange:o,value:l}=e,{t:r}=(0,c.d)(),i;return n[0]!==o?(i=e=>o(e.target.value),n[0]=o,n[1]=i):i=n[1],n[2]!==r||n[3]!==l||n[4]!==a||n[5]!==i?(t=(0,u.jsx)("input",{className:"condition-value-text",disabled:a,onChange:i,placeholder:r("general:enterAValue"),type:"text",value:l||""}),n[2]=r,n[3]=l,n[4]=a,n[5]=i,n[6]=t):t=n[6],t},hG=e=>{var t,n;let{booleanSelect:a,disabled:o,internalField:l,onChange:r,operator:i,options:s,value:c}=e;if(a||["radio","select"].includes(null==l?void 0:null===(t=l.field)||void 0===t?void 0:t.type))return(0,u.jsx)(hY,{disabled:o,field:l.field,onChange:r,operator:i,options:s,value:c});switch(null==l?void 0:null===(n=l.field)||void 0===n?void 0:n.type){case"date":return(0,u.jsx)(hV,{disabled:o,field:l.field,onChange:r,operator:i,value:c});case"number":return(0,u.jsx)(hz,{disabled:o,field:l.field,onChange:r,operator:i,value:c});case"relationship":return(0,u.jsx)(hW,{disabled:o,field:l.field,onChange:r,operator:i,value:c});default:return(0,u.jsx)(hQ,{disabled:o,field:null==l?void 0:l.field,onChange:r,operator:i,value:c})}},hX="condition",hJ=e=>{var t;let n,a,o,l;let i=(0,p.c)(68),{addCondition:s,andIndex:d,fieldName:h,fields:f,initialValue:m,operator:v,orIndex:g,removeCondition:b,RenderedFilter:x,updateCondition:y}=e,w;i[0]!==f||i[1]!==h?(w=()=>f.find(e=>h===e.value),i[0]=f,i[1]=h,i[2]=w):w=i[2];let[j,C]=(0,r.useState)(w),{t:S}=(0,c.d)(),[_,k]=(0,r.useState)(v),[N,E]=(0,r.useState)(m),A=nH(N,300),P;i[3]!==j||i[4]!==_||i[5]!==A||i[6]!==y||i[7]!==d||i[8]!==g?(P=()=>{((null==j?void 0:j.value)||"number"==typeof(null==j?void 0:j.value))&&_&&![null,void 0].includes(A)&&y({andIndex:d,fieldName:j.value,operator:_,orIndex:g,value:A})},i[3]=j,i[4]=_,i[5]=A,i[6]=y,i[7]=d,i[8]=g,i[9]=P):P=i[9];let D=null==j?void 0:j.value,O;i[10]!==A||i[11]!==d||i[12]!==D||i[13]!==_||i[14]!==g||i[15]!==y||i[16]!==v?(O=[A,d,D,_,g,y,v],i[10]=A,i[11]=d,i[12]=D,i[13]=_,i[14]=g,i[15]=y,i[16]=v,i[17]=O):O=i[17],(0,r.useEffect)(P,O),i[18]!==_||i[19]!==j?(n=["exists"].includes(_)||(null==j?void 0:null===(t=j.field)||void 0===t?void 0:t.type)==="checkbox",i[18]=_,i[19]=j,i[20]=n):n=i[20];let R=n,I;if(R){let e,t,n,a,o;i[21]!==S?(e=S("general:true"),i[21]=S,i[22]=e):e=i[22],i[23]!==e?(t={label:e,value:"true"},i[23]=e,i[24]=t):t=i[24],i[25]!==S?(n=S("general:false"),i[25]=S,i[26]=n):n=i[26],i[27]!==n?(a={label:n,value:"false"},i[27]=n,i[28]=a):a=i[28],i[29]!==t||i[30]!==a?(o=[t,a],i[29]=t,i[30]=a,i[31]=o):o=i[31],I=o}else(null==j?void 0:j.field)&&"options"in j.field&&(I=j.field.options);if(i[32]!==f?(a=e=>{C(f.find(t=>t.value===e.value)),k(void 0),E(void 0)},i[32]=f,i[33]=a):a=i[33],i[34]!==j||i[35]!==f?(o=f.find(e=>(null==j?void 0:j.value)===e.value)||f[0],i[34]=j,i[35]=f,i[36]=o):o=i[36],i[37]!==a||i[38]!==f||i[39]!==o||i[40]!==j||i[41]!==_||i[42]!==x||i[43]!==N||i[44]!==R||i[45]!==I||i[46]!==b||i[47]!==d||i[48]!==g||i[49]!==s){let e,t,n,r;i[51]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{k(e.value)},i[51]=e):e=i[51],i[52]!==x||i[53]!==_||i[54]!==N||i[55]!==R||i[56]!==j||i[57]!==I?(t=x||(0,u.jsx)(hG,{booleanSelect:R,disabled:!_,internalField:j,onChange:E,operator:_,options:I,value:null!=N?N:""}),i[52]=x,i[53]=_,i[54]=N,i[55]=R,i[56]=j,i[57]=I,i[58]=t):t=i[58],i[59]!==b||i[60]!==d||i[61]!==g?(n=()=>b({andIndex:d,orIndex:g}),i[59]=b,i[60]=d,i[61]=g,i[62]=n):n=i[62],i[63]!==s||i[64]!==d||i[65]!==f||i[66]!==g?(r=()=>s({andIndex:d+1,fieldName:f[0].value,orIndex:g,relation:"and"}),i[63]=s,i[64]=d,i[65]=f,i[66]=g,i[67]=r):r=i[67],l=(0,u.jsx)("div",{className:hX,children:(0,u.jsxs)("div",{className:"".concat(hX,"__wrap"),children:[(0,u.jsxs)("div",{className:"".concat(hX,"__inputs"),children:[(0,u.jsx)("div",{className:"".concat(hX,"__field"),children:(0,u.jsx)(cN,{isClearable:!1,onChange:a,options:f,value:o})}),(0,u.jsx)("div",{className:"".concat(hX,"__operator"),children:(0,u.jsx)(cN,{disabled:!(null==j?void 0:j.value)&&"number"!=typeof(null==j?void 0:j.value),isClearable:!1,onChange:e,options:null==j?void 0:j.operators,value:(null==j?void 0:j.operators.find(e=>_===e.value))||null})}),(0,u.jsx)("div",{className:"".concat(hX,"__value"),children:t})]}),(0,u.jsxs)("div",{className:"".concat(hX,"__actions"),children:[(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(hX,"__actions-remove"),icon:"x",iconStyle:"with-border",onClick:n,round:!0}),(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(hX,"__actions-add"),icon:"plus",iconStyle:"with-border",onClick:r,round:!0})]})]})}),i[37]=a,i[38]=f,i[39]=o,i[40]=j,i[41]=_,i[42]=x,i[43]=N,i[44]=R,i[45]=I,i[46]=b,i[47]=d,i[48]=g,i[49]=s,i[50]=l}else l=i[50];return l},hZ=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],h$=[...hZ,{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],h0=[...h$,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],h1=[...hZ,{label:"exists",value:"exists"},{label:"near",value:"near"}],h2={label:"within",value:"within"},h3={label:"intersects",value:"intersects"},h6={label:"isLike",value:"like"},h5={label:"contains",value:"contains"},h4={checkbox:{component:"Text",operators:hZ},code:{component:"Text",operators:[...h$,h6,h5]},date:{component:"Date",operators:[...h$,...h0]},email:{component:"Text",operators:[...h$,h5]},json:{component:"Text",operators:[...h$,h6,h5,h2,h3]},number:{component:"Number",operators:[...h$,...h0]},point:{component:"Point",operators:[...h1,h2,h3]},radio:{component:"Select",operators:[...h$]},relationship:{component:"Relationship",operators:[...h$]},richText:{component:"Text",operators:[...h$,h6,h5]},select:{component:"Select",operators:[...h$]},text:{component:"Text",operators:[...h$,h6,h5]},textarea:{component:"Text",operators:[...h$,h6,h5]},upload:{component:"Text",operators:[...h$]}},h9=e=>{let{fields:t,i18n:n,labelPrefix:a,pathPrefix:o}=e;return t.reduce((e,t)=>{var l;if(null===(l=t.admin)||void 0===l?void 0:l.disableListFilter)return e;if("tabs"===t.type&&"tabs"in t)return t.tabs.forEach(t=>{if("boolean"!=typeof t.label){let l=(0,h.i0)(t.label,n),r=(0,j.JC)(t)&&t.name?o?o+"."+t.name:t.name:o;"string"==typeof l&&e.push(...h9({fields:t.fields,i18n:n,labelPrefix:a?a+" > "+l:l,pathPrefix:r}))}}),e;if("row"===t.type&&"fields"in t)return e.push(...h9({fields:t.fields,i18n:n,labelPrefix:a,pathPrefix:o})),e;if("collapsible"===t.type&&"fields"in t){let l=(0,h.i0)(t.label||"",n);return e.push(...h9({fields:t.fields,i18n:n,labelPrefix:a?a+" > "+l:l,pathPrefix:o})),e}if("group"===t.type&&"fields"in t){let l=(0,h.i0)(t.label||"",n),r=t.name?o?o+"."+t.name:t.name:o;return e.push(...h9({fields:t.fields,i18n:n,labelPrefix:a?l?a+" > "+l:a:l,pathPrefix:r})),e}if("object"==typeof h4[t.type]){let l=new Set,r=h4[t.type].operators.reduce((e,t)=>{if(!l.has(t.value)){l.add(t.value);let a="operators:".concat(t.label);e.push({...t,label:n.t(a)})}return e},[]),i=(0,h.i0)(t.label||"",n),s={label:a?hj({field:t,prefix:a}):i,value:o?hw(o,t):t.name,...h4[t.type],field:t,operators:r};return e.push(s),e}return e},[])},h8=e=>e?e.or&&!e.and?{or:e.or.map(e=>e.and?e:{and:[e]})}:e.and&&!e.or?{or:[{and:e.and}]}:e.or||e.and?e:{or:[{and:[e]}]}:{},h7=e=>{var t,n,a,o,l,r;return(null==e?void 0:null===(t=e.or)||void 0===t?void 0:t.length)>0&&null!=e&&null!==(a=e.or)&&void 0!==a&&null!==(n=a[0])&&void 0!==n&&!!n.and&&(null==e?void 0:null===(r=e.or)||void 0===r?void 0:null===(l=r[0])||void 0===l?void 0:null===(o=l.and)||void 0===o?void 0:o.length)>0&&e.or.every(e=>!!(e.and&&Array.isArray(e.and))&&e.and.every(e=>{if("object"!=typeof e)return!1;let t=Object.keys(e);if(0===t.length)return!1;for(let n of t){let t=Object.keys(e[n])[0];if(!t||!F.g.includes(t))return!1}return!0}))},fe="where-builder",ft=e=>{let t,n=(0,p.c)(30),{collectionPluralLabel:a,fields:o,renderedFilters:l}=e,{i18n:i,t:s}=(0,c.d)(),d;n[0]!==o||n[1]!==i?(d=()=>h9({fields:o,i18n:i}),n[0]=o,n[1]=i,n[2]=d):d=n[2];let[f,m]=(0,r.useState)(d),v,g;n[3]!==o||n[4]!==i?(v=()=>{m(h9({fields:o,i18n:i}))},g=[o,i],n[3]=o,n[4]=i,n[5]=v,n[6]=g):(v=n[5],g=n[6]),(0,r.useEffect)(v,g);let{handleWhereChange:b,query:x}=lf(),[y,w]=r.useState(!1),j;n[7]!==x.where?(j=()=>{let e=x.where;if(e){if(h7(e))return e.or;let t=h8(e);if(h7(t))return t.or;console.warn("Invalid where query in URL: ".concat(JSON.stringify(e)))}return[]},n[7]=x.where,n[8]=j):j=n[8];let[C,S]=r.useState(j),_;n[9]!==C?(_=e=>{let{andIndex:t,fieldName:n,orIndex:a,relation:o}=e,l=[...C];"and"===o?l[a].and.splice(t,0,{[n]:{}}):l.push({and:[{[n]:{}}]}),S(l)},n[9]=C,n[10]=_):_=n[10];let k=_,N;n[11]!==C?(N=e=>{let{andIndex:t,fieldName:n,operator:a,orIndex:o,value:l}=e,r=C[o].and[t];if("object"==typeof r&&n&&a){let e=null!=l?l:a?r[a]:"",i={[n]:a?{[a]:e}:{}};if(JSON.stringify(r)!==JSON.stringify(i)){let n=[...C];n[o].and[t]=i,S(n),[null,void 0].includes(e)||w(!0)}}},n[11]=C,n[12]=N):N=n[12];let E=N,A;n[13]!==C?(A=e=>{let{andIndex:t,orIndex:n}=e,a=[...C];a[n].and.splice(t,1),0===a[n].and.length&&a.splice(n,1),S(a),w(!0)},n[13]=C,n[14]=A):A=n[14];let P=A,D,O;return n[15]!==y||n[16]!==b||n[17]!==C?(D=()=>{y&&async function(){await b({or:C}),w(!1)}()},O=[C,b,y],n[15]=y,n[16]=b,n[17]=C,n[18]=D,n[19]=O):(D=n[18],O=n[19]),r.useEffect(D,O),n[20]!==C||n[21]!==a||n[22]!==i||n[23]!==s||n[24]!==k||n[25]!==f||n[26]!==P||n[27]!==l||n[28]!==E?(t=(0,u.jsxs)("div",{className:fe,children:[C.length>0&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(fe,"__label"),children:s("general:filterWhere",{label:(0,h.i0)(a,i)})}),(0,u.jsx)("ul",{className:"".concat(fe,"__or-filters"),children:C.map((e,t)=>{let n="".concat(t,"_").concat(Array.isArray(null==e?void 0:e.and)?e.and.length:"");return(0,u.jsxs)("li",{children:[0!==t&&(0,u.jsx)("div",{className:"".concat(fe,"__label"),children:s("general:or")}),(0,u.jsx)("ul",{className:"".concat(fe,"__and-filters"),children:Array.isArray(null==e?void 0:e.and)&&e.and.map((e,n)=>{var a,o,r,i;let c=Object.keys(C[t].and[n])[0],d=(null===(a=Object.keys((null===(o=C[t].and[n])||void 0===o?void 0:o[c])||{}))||void 0===a?void 0:a[0])||void 0,p=(null===(i=C[t].and[n])||void 0===i?void 0:null===(r=i[c])||void 0===r?void 0:r[d])||"";return(0,u.jsxs)("li",{children:[0!==n&&(0,u.jsx)("div",{className:"".concat(fe,"__label"),children:s("general:and")}),(0,u.jsx)(hJ,{addCondition:k,andIndex:n,fieldName:c,fields:f,initialValue:p,operator:d,orIndex:t,removeCondition:P,RenderedFilter:null==l?void 0:l.get(c),updateCondition:E})]},n)})})]},n)})}),(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(fe,"__add-or"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{k({andIndex:0,fieldName:f[0].value,orIndex:C.length,relation:"or"})},children:s("general:or")})]}),0===C.length&&(0,u.jsxs)("div",{className:"".concat(fe,"__no-filters"),children:[(0,u.jsx)("div",{className:"".concat(fe,"__label"),children:s("general:noFiltersSet")}),(0,u.jsx)(e1,{buttonStyle:"icon-label",className:"".concat(fe,"__add-first-filter"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{f.length>0&&k({andIndex:0,fieldName:f[0].value,orIndex:C.length,relation:"or"})},children:s("general:addFilter")})]})]}),n[20]=C,n[21]=a,n[22]=i,n[23]=s,n[24]=k,n[25]=f,n[26]=P,n[27]=l,n[28]=E,n[29]=t):t=n[29],t},fn=(e,t)=>e?pi(t).filter(t=>(0,j.j7)(t)&&e.includes(t.name)):null,fa=y.default||y,fo="list-controls",fl=e=>{var t,n;let{beforeActions:a,collectionConfig:o,collectionSlug:l,disableBulkDelete:i,disableBulkEdit:s,enableColumns:d=!0,enableSort:p=!1,renderedFilters:f}=e,{handleSearchChange:m,query:v}=lf(),g=ps(o),{i18n:b,t:x}=(0,c.d)(),{breakpoints:{s:y}}=eU(),w=null!==(n=g&&(0,h.i0)("label"in g&&"string"==typeof g.label?g.label:"name"in g?g.name:null,b))&&void 0!==n?n:"ID",j=fn(o.admin.listSearchableFields,o.fields),C=(0,r.useRef)(x("general:searchBy",{label:(0,h.i0)(w,b)})),S=(0,r.useRef)(!!(null==v?void 0:v.where)),_=h7(null==v?void 0:v.where),[k,N]=(0,r.useState)(_?"where":void 0);return(0,r.useEffect)(()=>{!S.current||(null==v?void 0:v.where)?(null==v?void 0:v.where)&&(S.current=!0):(N(void 0),S.current=!1)},[N,null==v?void 0:v.where]),(0,r.useEffect)(()=>{(null==j?void 0:j.length)>0?C.current=j.reduce((e,t,n)=>{let a="label"in t&&t.label?t.label:"name"in t?t.name:null;return 0===n?"".concat(x("general:searchBy",{label:(0,h.i0)(a,b)})):n===j.length-1?"".concat(e," ").concat(x("general:or")," ").concat((0,h.i0)(a,b)):"".concat(e,", ").concat((0,h.i0)(a,b))},""):C.current=x("general:searchBy",{label:(0,h.i0)(w,b)})},[x,j,b,w]),(0,u.jsxs)("div",{className:fo,children:[(0,u.jsxs)("div",{className:"".concat(fo,"__wrap"),children:[(0,u.jsx)(oO,{}),(0,u.jsx)(hM,{fieldName:g&&"name"in g?null==g?void 0:g.name:null,handleChange:e=>void m(e),initialParams:v,label:C.current},l),(0,u.jsx)("div",{className:"".concat(fo,"__buttons"),children:(0,u.jsxs)("div",{className:"".concat(fo,"__buttons-wrap"),children:[!y&&(0,u.jsxs)(r.Fragment,{children:[a&&a,!s&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(hP,{collection:o}),(0,u.jsx)(hT,{collection:o}),(0,u.jsx)(hB,{collection:o})]}),!i&&(0,u.jsx)(ht,{collection:o})]}),d&&(0,u.jsx)(oj,{"aria-controls":"".concat(fo,"-columns"),"aria-expanded":"columns"===k,className:"".concat(fo,"__toggle-columns"),icon:(0,u.jsx)(eP,{direction:"columns"===k?"up":"down"}),onClick:()=>N("columns"!==k?"columns":void 0),pillStyle:"light",children:x("general:columns")}),(0,u.jsx)(oj,{"aria-controls":"".concat(fo,"-where"),"aria-expanded":"where"===k,className:"".concat(fo,"__toggle-where"),icon:(0,u.jsx)(eP,{direction:"where"===k?"up":"down"}),onClick:()=>N("where"!==k?"where":void 0),pillStyle:"light",children:x("general:filters")}),p&&(0,u.jsx)(oj,{"aria-controls":"".concat(fo,"-sort"),"aria-expanded":"sort"===k,className:"".concat(fo,"__toggle-sort"),icon:(0,u.jsx)(eP,{}),onClick:()=>N("sort"!==k?"sort":void 0),pillStyle:"light",children:x("general:sort")})]})})]}),d&&(0,u.jsx)(fa,{className:"".concat(fo,"__columns"),height:"columns"===k?"auto":0,id:"".concat(fo,"-columns"),children:(0,u.jsx)(lE,{collectionSlug:o.slug})}),(0,u.jsx)(fa,{className:"".concat(fo,"__where"),height:"where"===k?"auto":0,id:"".concat(fo,"-where"),children:(0,u.jsx)(ft,{collectionPluralLabel:null==o?void 0:null===(t=o.labels)||void 0===t?void 0:t.plural,collectionSlug:o.slug,fields:null==o?void 0:o.fields,renderedFilters:f},String(S.current&&!(null==v?void 0:v.where)))}),p&&(0,u.jsx)(fa,{className:"".concat(fo,"__sort"),height:"sort"===k?"auto":0,id:"".concat(fo,"-sort"),children:(0,u.jsx)("p",{children:"Sort Complex"})})]})},fr="list-selection",fi=e=>{let t,n=(0,p.c)(7),{label:a}=e,{count:o,selectAll:i,toggleAll:s,totalDocs:d}=p7(),{t:h}=(0,c.d)();return 0===o?null:(n[0]!==o||n[1]!==a||n[2]!==h||n[3]!==i||n[4]!==s||n[5]!==d?(t=(0,u.jsxs)("div",{className:fr,children:[(0,u.jsx)("span",{children:h("general:selectedCount",{count:o,label:a})}),i!==l.AllAvailable&&(0,u.jsxs)(r.Fragment,{children:[" ","",(0,u.jsx)("button",{"aria-label":h("general:selectAll",{count:o,label:a}),className:"".concat(fr,"__button"),onClick:()=>s(!0),type:"button",children:h("general:selectAll",{count:d,label:a})})]})]}),n[0]=o,n[1]=a,n[2]=h,n[3]=i,n[4]=s,n[5]=d,n[6]=t):t=n[6],t)},fs=f.default.default||f.default,fc="list-header",fd="list-drawer",fu=e=>{var t,n,a;let{className:o,collectionConfig:l,Description:r,hasCreatePermission:i,i18n:s,isBulkUploadEnabled:c,newDocumentURL:d,openBulkUpload:p,smallBreak:f,t:m}=e;return(0,u.jsxs)("header",{className:[fc,o].filter(Boolean).join(" "),children:[(0,u.jsx)("h1",{children:(0,h.i0)(null==l?void 0:null===(t=l.labels)||void 0===t?void 0:t.plural,s)}),i&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(e1,{"aria-label":s.t("general:createNewLabel",{label:(0,h.i0)(null==l?void 0:null===(n=l.labels)||void 0===n?void 0:n.singular,s)}),buttonStyle:"pill",el:"link",Link:fs,size:"small",to:d,children:s.t("general:createNew")}),c&&(0,u.jsx)(e1,{"aria-label":m("upload:bulkUpload"),buttonStyle:"pill",onClick:p,size:"small",children:m("upload:bulkUpload")})]}),!f&&(0,u.jsx)(fi,{label:(0,h.i0)(null==l?void 0:null===(a=l.labels)||void 0===a?void 0:a.plural,s)}),r]})},fp=e=>{var t;let{Description:n,hasCreatePermission:a,i18n:o,t:l}=e,{config:{collections:r}}=(0,s.b)(),{closeModal:i}=tU(),{DocumentDrawerToggler:d,drawerSlug:p,enabledCollections:f,selectedOption:m,setSelectedOption:v}=lp(),g=r.find(e=>{let{slug:t}=e;return t===m.value}),b=r.filter(e=>{let{slug:t}=e;return f.includes(t)}),x=f.length>1;return(0,u.jsxs)("header",{className:"".concat(fd,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(fd,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(fd,"__header-content"),children:[(0,u.jsx)("h2",{className:"".concat(fd,"__header-text"),children:(0,h.i0)(null==g?void 0:null===(t=g.labels)||void 0===t?void 0:t.plural,o)}),a&&(0,u.jsx)(d,{className:"".concat(fd,"__create-new-button"),children:(0,u.jsx)(oj,{children:l("general:createNew")})})]}),(0,u.jsx)("button",{"aria-label":l("general:close"),className:"".concat(fd,"__header-close"),onClick:()=>{i(p)},type:"button",children:(0,u.jsx)(c.a,{})})]}),n,x&&(0,u.jsxs)("div",{className:"".concat(fd,"__select-collection-wrap"),children:[(0,u.jsx)(n4,{label:l("upload:selectCollectionToBrowse")}),(0,u.jsx)(cN,{className:"".concat(fc,"__select-collection"),onChange:v,options:b.map(e=>({label:(0,h.i0)(e.labels.singular,o),value:e.slug})),value:{label:(0,h.i0)(null==g?void 0:g.labels.singular,o),value:null==g?void 0:g.slug}})]})]})},fh=e=>{let{isInDrawer:t}=lp();return t?(0,u.jsx)(fp,{...e}):(0,u.jsx)(fu,{...e})},ff=()=>(0,u.jsx)("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})}),fm=e=>{var t;let n=(0,p.c)(7),{Link:a,tabIndex:o}=e,l=void 0===o?0:o,{t:r}=(0,c.d)(),{config:i}=(0,s.b)(),{admin:d,routes:h}=i,{routes:f}=d,{logout:m}=f,{admin:v}=h,g=null!==(t=V.env.NEXT_BASE_PATH)&&void 0!==t?t:"",b=a||"a",x;if(n[0]!==r||n[1]!==a||n[2]!==l||n[3]!==v||n[4]!==m||n[5]!==b){let e={"aria-label":r("authentication:logOut"),className:"".concat("nav","__log-out"),prefetch:!a&&void 0,tabIndex:l};x=(0,u.jsx)(b,{...e,href:nB({adminRoute:v,basePath:g,path:m}),children:(0,u.jsx)(ff,{})}),n[0]=r,n[1]=a,n[2]=l,n[3]=v,n[4]=m,n[5]=b,n[6]=x}else x=n[6];return x},fv=y.default||y,fg="nav-group",fb=e=>{let t,n=(0,p.c)(21),{children:a,isOpen:o,label:l}=e,[i,s]=(0,r.useState)("u">typeof o&&!o),[c,d]=(0,r.useState)(!1),{setPreference:h}=nJ(),{navOpen:f}=pU();if(l){let e;n[0]!==l||n[1]!==i||n[2]!==h?(e=()=>{d(!0);let e={};(null==e?void 0:e[l])?e[l].open=!!i:e[l]={open:!!i},h("nav",{groups:e},!0),s(!i)},n[0]=l,n[1]=i,n[2]=h,n[3]=e):e=n[3];let t=e,o="".concat(l),r=i&&"".concat(fg,"--collapsed"),p;n[4]!==o||n[5]!==r?(p=["".concat(fg),o,r].filter(Boolean),n[4]=o,n[5]=r,n[6]=p):p=n[6];let m=p.join(" "),v="nav-group-".concat(l),g="".concat(fg,"__toggle--").concat(i?"collapsed":"open"),b;n[7]!==g?(b=["".concat(fg,"__toggle"),g].filter(Boolean),n[7]=g,n[8]=b):b=n[8];let x=b.join(" "),y=f?0:-1,w;return n[9]!==l||n[10]!==i||n[11]!==x||n[12]!==t||n[13]!==y||n[14]!==c||n[15]!==a||n[16]!==m||n[17]!==v?(w=(0,u.jsxs)("div",{className:m,id:v,children:[(0,u.jsxs)("button",{className:x,onClick:t,tabIndex:y,type:"button",children:[(0,u.jsx)("div",{className:"".concat(fg,"__label"),children:l}),(0,u.jsx)("div",{className:"".concat(fg,"__indicator"),children:(0,u.jsx)(eP,{className:"".concat(fg,"__indicator"),direction:i?void 0:"up"})})]}),(0,u.jsx)(fv,{duration:c?200:0,height:i?0:"auto",children:(0,u.jsx)("div",{className:"".concat(fg,"__content"),children:a})})]}),n[9]=l,n[10]=i,n[11]=x,n[12]=t,n[13]=y,n[14]=c,n[15]=a,n[16]=m,n[17]=v,n[18]=w):w=n[18],w}return n[19]!==a?(t=(0,u.jsx)(r.Fragment,{children:a}),n[19]=a,n[20]=t):t=n[20],t},fx="per-page",fy=B.ce.admin.pagination.limits,fw=e=>{let t=(0,p.c)(9),{defaultLimit:n,handleChange:a,limit:o,limits:l}=e,r=void 0===l?fy:l,{t:i}=(0,c.d)(),s=(0,C.h)(o)?o:void 0===n?10:n,d;if(t[0]!==s||t[1]!==i||t[2]!==r||t[3]!==a){let e;t[5]!==r||t[6]!==s||t[7]!==a?(e=e=>{let{close:t}=e;return(0,u.jsx)(eT.ButtonGroup,{children:r.map((e,n)=>(0,u.jsxs)(eT.Button,{className:["".concat(fx,"__button"),e===s&&"".concat(fx,"__button-active")].filter(Boolean).join(" "),onClick:()=>{t(),a&&a(e)},children:[e===s&&(0,u.jsx)("div",{className:"".concat(fx,"__chevron"),children:(0,u.jsx)(eP,{direction:"right",size:"small"})}),"\xa0",(0,u.jsx)("span",{children:e})]},n))})},t[5]=r,t[6]=s,t[7]=a,t[8]=e):e=t[8],d=(0,u.jsx)("div",{className:fx,children:(0,u.jsx)(eJ,{button:(0,u.jsxs)("div",{className:"".concat(fx,"__base-button"),children:[(0,u.jsx)("span",{children:i("general:perPage",{limit:s})}),"\xa0",(0,u.jsx)(eP,{className:"".concat(fx,"__icon")})]}),horizontalAlign:"right",render:e,size:"small"})}),t[0]=s,t[1]=i,t[2]=r,t[3]=a,t[4]=d}else d=t[4];return d},fj=e=>{let{id:t,className:n,prefix:a="ID:"}=e;return(0,u.jsxs)("div",{className:["id-label",n].filter(Boolean).join(" "),title:t,children:[a,"\xa0",t]})},fC="render-title",fS=e=>{let t=(0,p.c)(10),{className:n,element:a,fallback:o,title:l}=e,{id:i,isInitializing:s,title:c}=aV(),d=l||c||o,h=d===i,f=void 0===a?"h1":a,m;if(t[0]!==h||t[1]!==n||t[2]!==s||t[3]!==i||t[4]!==d||t[5]!==f){let e=(0,u.jsx)(r.Fragment,{children:"\xa0"}),a=h&&"".concat(fC,"--has-id"),o;t[7]!==n||t[8]!==a?(o=[n,fC,a].filter(Boolean),t[7]=n,t[8]=a,t[9]=o):o=t[9],m=(0,u.jsx)(f,{className:o.join(" "),title:d,children:s?e:(0,u.jsx)(r.Fragment,{children:h?(0,u.jsx)(fj,{className:"".concat(fC,"__id"),id:i}):d||e})}),t[0]=h,t[1]=n,t[2]=s,t[3]=i,t[4]=d,t[5]=f,t[6]=m}else m=t[6];return m},f_="sort-column",fk=e=>{let t,n,a=(0,p.c)(22),{name:o,appearance:l,disable:r,Label:i,label:s}=e,d=void 0!==r&&r,{handleSortChange:h,query:f}=lf(),{t:m}=(0,c.d)(),{sort:v}=f,g="-".concat(o),b;a[0]!==v||a[1]!==o?(b=["".concat(f_,"__asc")],v===o&&b.push("".concat(f_,"--active")),a[0]=v,a[1]=o,a[2]=b):b=a[2],a[3]!==v||a[4]!==g?(t=["".concat(f_,"__desc")],v===g&&t.push("".concat(f_,"--active")),a[3]=v,a[4]=g,a[5]=t):t=a[5];let x=l&&"".concat(f_,"--appearance-").concat(l),y;a[6]!==x?(y=[f_,x].filter(Boolean),a[6]=x,a[7]=y):y=a[7];let w=y.join(" "),j;return a[8]!==i||a[9]!==s?(j=null!=i?i:(0,u.jsx)(n4,{hideLocale:!0,label:s,unstyled:!0}),a[8]=i,a[9]=s,a[10]=j):j=a[10],a[11]!==j||a[12]!==d||a[13]!==m||a[14]!==s||a[15]!==b||a[16]!==h||a[17]!==o||a[18]!==t||a[19]!==g||a[20]!==w?(n=(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("span",{className:"".concat(f_,"__label"),children:j}),!d&&(0,u.jsxs)("div",{className:"".concat(f_,"__buttons"),children:[(0,u.jsx)("button",{"aria-label":m("general:sortByLabelDirection",{direction:m("general:ascending"),label:s}),className:[...b,"".concat(f_,"__button")].filter(Boolean).join(" "),onClick:()=>void h(o),type:"button",children:(0,u.jsx)(eP,{direction:"up"})}),(0,u.jsx)("button",{"aria-label":m("general:sortByLabelDirection",{direction:m("general:descending"),label:s}),className:[...t,"".concat(f_,"__button")].filter(Boolean).join(" "),onClick:()=>void h(g),type:"button",children:(0,u.jsx)(eP,{})})]})]}),a[11]=j,a[12]=d,a[13]=m,a[14]=s,a[15]=b,a[16]=h,a[17]=o,a[18]=t,a[19]=g,a[20]=w,a[21]=n):n=a[21],n},fN="table",fE=e=>{let{appearance:t,columns:n,data:a}=e,o=null==n?void 0:n.filter(e=>null==e?void 0:e.active);return o&&0!==o.length?(0,u.jsx)("div",{className:[fN,t&&"".concat(fN,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,u.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:o.map((e,t)=>(0,u.jsx)("th",{id:"heading-".concat(e.accessor),children:e.Heading},t))})}),(0,u.jsx)("tbody",{children:a&&a.map((e,t)=>(0,u.jsx)("tr",{className:"row-".concat(t+1),children:o.map((e,n)=>{let{accessor:a}=e;return(0,u.jsx)("td",{className:"cell-".concat(a),children:e.renderedCells[t]},n)})},t))})]})}):(0,u.jsx)("div",{children:"No columns selected"})},fA=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})},fP=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})}),fD="minimize-maximize",fO=e=>{let{className:t,isMinimized:n}=e,a=[fD,n?"".concat(fD,"--minimized"):"".concat(fD,"--maximized"),t].filter(Boolean).join(" ");return(0,u.jsx)("svg",{className:a,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:n?(0,u.jsx)("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):(0,u.jsx)("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})},fR=r.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),fI=r.createContext({}),fT=e=>{let t=(0,p.c)(6),{children:n}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={},t[0]=a):a=t[0];let[o,l]=r.useState(a),i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{l(t=>{let n={...t};return n[e.key]=e.func,n})},t[1]=i):i=t[1];let s=i,c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{l(t=>{let n={...t};return delete n[e.key],n})},t[2]=c):c=t[2];let d=c,h;return t[3]!==o||t[4]!==n?(h=(0,u.jsx)(fR.Provider,{value:{addClientFunction:s,removeClientFunction:d},children:(0,u.jsx)(fI.Provider,{value:o,children:n})}),t[3]=o,t[4]=n,t[5]=h):h=t[5],h},fL=(e,t)=>{let n=(0,p.c)(6),{addClientFunction:a,removeClientFunction:o}=r.useContext(fR),l,i;n[0]!==a||n[1]!==t||n[2]!==e||n[3]!==o?(l=()=>(a({func:t,key:e}),()=>{o({func:t,key:e})}),i=[t,e,a,o],n[0]=a,n[1]=t,n[2]=e,n[3]=o,n[4]=l,n[5]=i):(l=n[4],i=n[5]),r.useEffect(l,i)},fM=()=>r.useContext(fI),fF=(0,r.createContext)({}),fB=e=>{let t=(0,p.c)(7),{children:n,visibleEntities:a}=e,o;t[0]!==a.collections||t[1]!==a.globals?(o=e=>{let{collectionSlug:t,globalSlug:n}=e;return t?a.collections.includes(t):!!n&&a.globals.includes(n)},t[0]=a.collections,t[1]=a.globals,t[2]=o):o=t[2];let l=o,r;return t[3]!==l||t[4]!==a||t[5]!==n?(r=(0,u.jsx)(fF.Provider,{value:{isEntityVisible:l,visibleEntities:a},children:n}),t[3]=l,t[4]=a,t[5]=n,t[6]=r):r=t[6],r},fV=()=>(0,r.useContext)(fF),fz=(0,r.createContext)({}),fU=e=>{let t=(0,p.c)(3),{children:n}=e,a=(0,v.useParams)(),o;return t[0]!==a||t[1]!==n?(o=(0,u.jsx)(fz.Provider,{value:a,children:n}),t[0]=a,t[1]=n,t[2]=o):o=t[2],o},fH=()=>(0,r.useContext)(fz),fq=(0,r.createContext)({}),fW=()=>(0,r.useContext)(fq),fK=(e,t)=>{let{timestamp:n,animationRef:a}=t;a.current=null;let{x:o,y:l,xDirection:r,yDirection:i,eventsFired:s,hasScrolled:c}=e,d=c||!!n,u=d?window.pageXOffset:0,p=d?window.pageYOffset:0,h=u-o,f=p-l,m=u/(document.body.scrollWidth-window.innerWidth)*100,v=p/(document.body.scrollHeight-window.innerHeight)*100;return{x:u,y:p,xDifference:h,yDifference:f,xDirection:h>0?"right":h<0?"left":r,yDirection:f>0?"down":f<0?"up":i,xPercentage:m,yPercentage:v,totalPercentage:(m+v)/2,eventsFired:d?s+1:s,hasScrolled:d}},fY=e=>{let{children:t}=e,n=(0,r.useRef)(null),[a,o]=(0,r.useReducer)(fK,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),l=(0,r.useCallback)(e=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(t=>{o({e:e,timestamp:t,animationRef:n})})},[]);return(0,r.useEffect)(()=>(window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[l]),r.createElement(fq.Provider,{value:Object.assign({},a)},t&&t)},{WindowInfoProvider:fQ}=eV&&"WindowInfoProvider"in eV?eV:{WindowInfoProvider:void 0},{useWindowInfo:fG}=eV&&"useWindowInfo"in eV?eV:{useWindowInfo:void 0},fX=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),(0,u.jsx)("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),fJ=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),(0,u.jsx)("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),fZ=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),(0,u.jsx)("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),f$=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),(0,u.jsx)("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),f0=()=>(0,u.jsx)(nF,{className:"payload-toast-container",closeButton:!0,dir:"undefined",gap:8,icons:{error:(0,u.jsx)(fX,{}),info:(0,u.jsx)(fJ,{}),success:(0,u.jsx)(fZ,{}),warning:(0,u.jsx)(f$,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:5}),f1=e=>{let{children:t,config:n,dateFNSKey:a,fallbackLang:o,isNavOpen:l,languageCode:i,languageOptions:d,permissions:p,serverFunction:h,switchLanguageServerAction:f,theme:m,translations:v,user:g}=e,b="true"===V.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH?p5:r.Fragment;return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(lb,{serverFunction:h,children:(0,u.jsx)(b,{children:(0,u.jsx)(s.a,{config:n,children:(0,u.jsx)(fT,{children:(0,u.jsx)(c.c,{dateFNSKey:a,fallbackLang:o,language:i,languageOptions:d,switchLanguageServerAction:f,translations:v,children:(0,u.jsx)(fQ,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:(0,u.jsx)(fY,{children:(0,u.jsx)(n0,{children:(0,u.jsx)(ny,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:(0,u.jsxs)(nK,{permissions:p,user:g,children:[(0,u.jsx)(nX,{children:(0,u.jsx)(s.g,{theme:m,children:(0,u.jsx)(fU,{children:(0,u.jsx)(n3,{children:(0,u.jsx)(pX,{children:(0,u.jsx)(lT,{children:(0,u.jsx)(dz,{children:(0,u.jsx)(pq,{initialIsOpen:l,children:t})})})})})})})}),(0,u.jsx)(t9,{}),(0,u.jsx)(nU,{})]})})})})})})})})})}),(0,u.jsx)(f0,{})]})};function f2(e){let{className:t,loginWithUsername:n,t:a}=e,o=!n||(null==n?void 0:n.requireEmail)||(null==n?void 0:n.allowEmailLogin),l=!!n;return(0,u.jsxs)("div",{className:t,children:[o?(0,u.jsx)(o5,{field:{name:"email",admin:{autoComplete:"off"},label:a("general:email"),required:!n||n&&n.requireEmail},path:"email",schemaPath:"email",validate:I.Do}):null,l&&(0,u.jsx)(da,{field:{name:"username",label:a("authentication:username"),required:n&&n.requireUsername},path:"username",schemaPath:"username",validate:I.b6})]})}var f3="select-all",f6=()=>{let e=(0,p.c)(7),{selectAll:t,toggleAll:n}=p7(),{i18n:a}=(0,c.d)(),o;if(e[0]!==t||e[1]!==a||e[2]!==n){let r,i;e[4]===Symbol.for("react.memo_cache_sentinel")?(r=[f3,"".concat(f3,"__checkbox")],e[4]=r):r=e[4],e[5]!==n?(i=()=>n(),e[5]=n,e[6]=i):i=e[6],o=(0,u.jsx)(a1,{"aria-label":t===l.None?a.t("general:selectAllRows"):a.t("general:deselectAllRows"),checked:t===l.AllInPage||t===l.AllAvailable,className:r.join(" "),id:"select-all",name:"select-all",onToggle:i,partialChecked:t===l.Some}),e[0]=t,e[1]=a,e[2]=n,e[3]=o}else o=e[3];return o},f5="select-row",f4=e=>{let t,n,a,o=(0,p.c)(14),{rowData:l}=e,{user:r}=nY(),{selected:i,setSelection:s}=p7(),c;o[0]!==l?(c=l||{},o[0]=l,o[1]=c):c=o[1];let{_isLocked:d,_userEditing:h}=c;if(d&&h&&h.id!==(null==r?void 0:r.id)){let e;return o[2]!==h?(e=(0,u.jsx)(hd,{user:h}),o[2]=h,o[3]=e):e=o[3],e}o[4]!==i||o[5]!==l.id?(t=i.get(l.id),o[4]=i,o[5]=l.id,o[6]=t):t=o[6];let f=!!t,m;return o[7]===Symbol.for("react.memo_cache_sentinel")?(m=[f5,"".concat(f5,"__checkbox")],o[7]=m):m=o[7],o[8]!==s||o[9]!==l.id?(n=()=>s(l.id),o[8]=s,o[9]=l.id,o[10]=n):n=o[10],o[11]!==f||o[12]!==n?(a=(0,u.jsx)(a1,{checked:f,className:m.join(" "),onToggle:n}),o[11]=f,o[12]=n,o[13]=a):a=o[13],a},f9="collection-list",f8=f.default.default||f.default,f7=e=>{var t,n,a;let o=(0,p.c)(13),{AfterList:l,AfterListTable:i,beforeActions:d,BeforeList:f,BeforeListTable:m,collectionSlug:g,columnState:b,Description:x,disableBulkDelete:y,disableBulkEdit:w,enableRowSelections:j,hasCreatePermission:S,listPreferences:_,newDocumentURL:k,preferenceKey:N,renderedFilters:E,Table:A}=e,[P,D]=(0,r.useState)(A),{createNewDrawerSlug:O,drawerSlug:I}=lp(),T,L;o[0]!==A?(T=()=>{A&&D(A)},L=[A],o[0]=A,o[1]=T,o[2]=L):(T=o[1],L=o[2]),(0,r.useEffect)(T,L);let{user:M}=nY(),{getEntityConfig:F}=(0,s.b)(),B=(0,v.useRouter)(),{data:V,defaultLimit:z,handlePageChange:U,handlePerPageChange:H,query:q}=lf(),{openModal:W}=tU(),{setCollectionSlug:K,setOnSuccess:Y}=uE(),{drawerSlug:Q}=uE(),G=F({collectionSlug:g}),{labels:X,upload:J}=G,Z=!!J,ee=Z&&G.upload.bulkUpload,{i18n:et,t:en}=(0,c.d)(),ea=tj(),{setStepNav:eo}=pQ(),{breakpoints:el}=fG(),{s:er}=el,ei;if(Z){let e;if(o[3]!==V.docs){let t;o[5]===Symbol.for("react.memo_cache_sentinel")?(t=e=>({...e,filesize:(0,R.D)(e.filesize)}),o[5]=t):t=o[5],e=V.docs.map(t),o[3]=V.docs,o[4]=e}else e=o[4];ei=e}else ei=V.docs;let es=ei,ec;o[6]!==K||o[7]!==g||o[8]!==W||o[9]!==Q||o[10]!==Y||o[11]!==B?(ec=()=>{K(g),W(Q),Y(()=>B.refresh())},o[6]=K,o[7]=g,o[8]=W,o[9]=Q,o[10]=Y,o[11]=B,o[12]=ec):ec=o[12];let ed=ec;return(0,r.useEffect)(()=>{ea<=1&&eo([{label:null==X?void 0:X.plural}])},[eo,X,ea]),(0,u.jsx)(r.Fragment,{children:(0,u.jsx)(l_,{collectionSlug:g,columnState:b,docs:es,enableRowSelections:j,listPreferences:_,preferenceKey:N,setTable:D,children:(0,u.jsx)("div",{className:"".concat(f9," ").concat(f9,"--").concat(g),children:(0,u.jsxs)(p8,{docs:es,totalDocs:V.totalDocs,user:M,children:[f,(0,u.jsxs)(oc,{className:"".concat(f9,"__wrap"),children:[(0,u.jsx)(fh,{collectionConfig:G,Description:(0,u.jsx)("div",{className:"".concat(f9,"__sub-header"),children:(0,u.jsx)($,{CustomComponent:x,Fallback:(0,u.jsx)(p_,{description:null==G?void 0:null===(t=G.admin)||void 0===t?void 0:t.description})})}),hasCreatePermission:S,i18n:et,isBulkUploadEnabled:ee,newDocumentURL:k,openBulkUpload:ed,smallBreak:er,t:en}),(0,u.jsx)(fl,{beforeActions:d,collectionConfig:G,collectionSlug:g,disableBulkDelete:y,disableBulkEdit:w,renderedFilters:E}),m,es.length>0&&(0,u.jsx)(lZ,{children:P}),0===es.length&&(0,u.jsxs)("div",{className:"".concat(f9,"__no-results"),children:[(0,u.jsx)("p",{children:et.t("general:noResults",{label:(0,h.i0)(null==X?void 0:X.plural,et)})}),S&&k&&(0,u.jsx)(r.Fragment,{children:I?(0,u.jsx)(e1,{el:"button",onClick:()=>W(O),children:et.t("general:createNewLabel",{label:(0,h.i0)(null==X?void 0:X.singular,et)})}):(0,u.jsx)(e1,{el:"link",Link:f8,to:k,children:et.t("general:createNewLabel",{label:(0,h.i0)(null==X?void 0:X.singular,et)})})})]}),i,es.length>0&&(0,u.jsxs)("div",{className:"".concat(f9,"__page-controls"),children:[(0,u.jsx)(rp,{hasNextPage:V.hasNextPage,hasPrevPage:V.hasPrevPage,limit:V.limit,nextPage:V.nextPage,numberOfNeighbors:1,onChange:e=>void U(e),page:V.page,prevPage:V.prevPage,totalPages:V.totalPages}),V.totalDocs>0&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(f9,"__page-info"),children:[V.page*V.limit-(V.limit-1),"-",V.totalPages>1&&V.totalPages!==V.page?V.limit*V.page:V.totalDocs," ",et.t("general:of")," ",V.totalDocs]}),(0,u.jsx)(fw,{handleChange:e=>void H(e),limit:(0,C.h)(null==q?void 0:q.limit)?Number(q.limit):z,limits:null==G?void 0:null===(a=G.admin)||void 0===a?void 0:null===(n=a.pagination)||void 0===n?void 0:n.limits,resetPage:V.totalDocs<=V.pagingCounter}),er&&(0,u.jsxs)("div",{className:"".concat(f9,"__list-selection"),children:[(0,u.jsx)(fi,{label:(0,h.i0)(G.labels.plural,et)}),(0,u.jsxs)("div",{className:"".concat(f9,"__list-selection-actions"),children:[d&&d,!w&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(hP,{collection:G}),(0,u.jsx)(hT,{collection:G}),(0,u.jsx)(hB,{collection:G})]}),!y&&(0,u.jsx)(ht,{collection:G})]})]})]})]})]}),l]})})})})},me=e=>{let t=(0,p.c)(7),{drawerSlug:n}=e,{closeModal:a}=tU(),{t:o}=(0,c.d)(),l;if(t[0]!==o||t[1]!==a||t[2]!==n){let e;t[4]!==a||t[5]!==n?(e=()=>a(n),t[4]=a,t[5]=n,t[6]=e):e=t[6],l=(0,u.jsxs)(oc,{className:"".concat(lW,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(lW,"__header-content"),children:[(0,u.jsx)("h2",{className:"".concat(lW,"__header-text"),children:(0,u.jsx)(fS,{element:"span"})}),(0,u.jsx)("button",{"aria-label":o("general:close"),className:"".concat(lW,"__header-close"),onClick:e,type:"button",children:(0,u.jsx)(c.a,{})})]}),(0,u.jsx)(mt,{})]}),t[0]=o,t[1]=a,t[2]=n,t[3]=l}else l=t[3];return l},mt=()=>{let e=(0,p.c)(3),{id:t,title:n}=aV(),a;return e[0]!==t||e[1]!==n?(a=t&&t!==n?(0,u.jsx)(fj,{id:t.toString()}):null,e[0]=t,e[1]=n,e[2]=a):a=e[2],a},mn=e=>{let{adminRoute:t,router:n}=e,a=nB({adminRoute:t,path:"/"});n.push(a)},ma=e=>{let{adminRoute:t,collectionSlug:n,router:a}=e,o=nB({adminRoute:t,path:n?"/collections/".concat(n):"/"});a.push(o)},mo=(e,t,n,a,o,l,r,i,s,c)=>{if(s)try{var d;l(e,null!=t?t:n,a),o||(i.current.hasShownLockedModal=!0),i.current={hasShownLockedModal:null===(d=i.current)||void 0===d?void 0:d.hasShownLockedModal,isLocked:!0,user:a},r(a),o&&c&&c(!1)}catch(e){console.error("Error during document takeover:",e)}},ml=e=>{var t,n;let{enabled:a,readOnly:o}=e,[l]=(0,r.useState)(oP()),[i,d]=(0,r.useState)(!1),{i18n:p,t:f}=(0,c.d)(),{config:m}=(0,s.b)(),{collectionSlug:v}=aV(),g=ew(e=>{let[t]=e;return t&&t.apiKey||null}),b=null===(n=m.collections.find(e=>e.slug===v))||void 0===n?void 0:null===(t=n.fields)||void 0===t?void 0:t.find(e=>"name"in e&&"apiKey"===e.name),x=null==g?void 0:g.value,y=(0,r.useMemo)(()=>{let e="API Key";return(null==b?void 0:b.label)&&(e=b.label),(0,h.i0)(e,p)},[b,p]),w=(0,r.useMemo)(()=>(0,u.jsxs)("div",{className:"".concat("api-key","__label"),children:[(0,u.jsx)("span",{children:y}),(0,u.jsx)(d9,{value:x})]}),[y,x]),{setValue:j,value:C}=aK({path:"apiKey",validate:e=>(0,I.fL)(e,{name:"apiKey",type:"text",data:{},maxLength:48,minLength:24,preferences:{fields:{}},req:{payload:{config:m},t:f},siblingData:{}})});return(0,r.useEffect)(()=>{!x&&a&&j(l),!a&&x&&j(null)},[x,a,j,l]),(0,r.useEffect)(()=>{i&&setTimeout(()=>{d(!1)},1e4)},[i]),a?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)("div",{className:["field-type","api-key","read-only"].filter(Boolean).join(" "),children:[w,(0,u.jsx)("input",{"aria-label":y,className:i?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:"text",value:C||""})]}),!o&&(0,u.jsx)(hO,{highlightField:()=>{i&&d(!1),setTimeout(()=>{d(!0)},1)},setKey:()=>j(oP())})]}):null},mr="auth-fields",mi=e=>{var t,n;let a=(0,p.c)(58),{className:o,collectionSlug:l,disableLocalStrategy:i,email:d,loginWithUsername:h,operation:f,readOnly:m,requirePassword:v,setSchemaPathSegments:g,setValidateBeforeSubmit:b,useAPIKey:x,username:y,verify:w}=e,{permissions:j}=nY(),[C,S]=(0,r.useState)(v),_=ew(ms),k=ew(mc),N=ew(md),E=ex(),{i18n:A,t:P}=(0,c.d)(),{docPermissions:D,isInitializing:O}=aV(),{config:R}=(0,s.b)(),{routes:I,serverURL:T}=R,{api:L}=I,M;e:{let e=null==j?void 0:null===(n=j.collections)||void 0===n?void 0:n[l];if(e){M=!!("unlock"in e&&e.unlock);break e}M=!1}let F=M,B=(null==D?void 0:D.fields)===!0||(null==D?void 0:null===(t=D.fields)||void 0===t?void 0:t.enableAPIKey),V=m||!0===B||B&&"object"==typeof B&&!(null==B?void 0:B.update),z=m||!0!==B&&!(null==B?void 0:B.update),U=!0===B||(null==B?void 0:B.read),H=!0===B||(null==B?void 0:B.read),q;a[0]!==b||a[1]!==g||a[2]!==l||a[3]!==N||a[4]!==P?(q=e=>{e?(b(!0),g(["_".concat(l),"auth"]),N({type:"UPDATE",errorMessage:P("validation:required"),path:"password",valid:!1}),N({type:"UPDATE",errorMessage:P("validation:required"),path:"confirm-password",valid:!1})):(b(!1),g([l]),N({type:"REMOVE",path:"password"}),N({type:"REMOVE",path:"confirm-password"})),S(e)},a[0]=b,a[1]=g,a[2]=l,a[3]=N,a[4]=P,a[5]=q):q=a[5];let W=q,K;a[6]!==T||a[7]!==L||a[8]!==l||a[9]!==h||a[10]!==y||a[11]!==d||a[12]!==A.language||a[13]!==P?(K=async()=>{let e="".concat(T).concat(L,"/").concat(l,"/unlock");200===(await fetch(e,{body:JSON.stringify(h&&y?{username:y}:{email:d}),credentials:"include",headers:{"Accept-Language":A.language,"Content-Type":"application/json"},method:"post"})).status?nR.success(P("authentication:successfullyUnlocked")):nR.error(P("authentication:failedToUnlock"))},a[6]=T,a[7]=L,a[8]=l,a[9]=h,a[10]=y,a[11]=d,a[12]=A.language,a[13]=P,a[14]=K):K=a[14];let Y=K,Q,G;if(a[15]!==E?(Q=()=>{E||S(!1)},G=[E],a[15]=E,a[16]=Q,a[17]=G):(Q=a[16],G=a[17]),(0,r.useEffect)(Q,G),i&&!x)return null;let X=m||O,J=C||k,Z;a[18]!==o?(Z=[mr,o].filter(Boolean),a[18]=o,a[19]=Z):Z=a[19];let $=Z.join(" "),ee;if(a[20]!==i||a[21]!==D||a[22]!==h||a[23]!==f||a[24]!==m||a[25]!==P||a[26]!==J||a[27]!==v||a[28]!==X||a[29]!==W||a[30]!==F||a[31]!==Y||a[32]!==x||a[33]!==H||a[34]!==z||a[35]!==l||a[36]!==U||a[37]!==_||a[38]!==V||a[39]!==w||a[40]!==$){let e,t;a[42]!==x||a[43]!==H||a[44]!==X||a[45]!==z||a[46]!==P||a[47]!==l||a[48]!==U||a[49]!==_||a[50]!==V?(e=x&&(0,u.jsxs)("div",{className:"".concat(mr,"__api-key"),children:[H&&(0,u.jsx)(a3,{field:{name:"enableAPIKey",admin:{disabled:X,readOnly:z},label:P("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:"".concat(l,".enableAPIKey")}),U&&(0,u.jsx)(ml,{enabled:!!(null==_?void 0:_.value),readOnly:V})]}),a[42]=x,a[43]=H,a[44]=X,a[45]=z,a[46]=P,a[47]=l,a[48]=U,a[49]=_,a[50]=V,a[51]=e):e=a[51],a[52]!==w||a[53]!==X||a[54]!==m||a[55]!==P||a[56]!==l?(t=w&&(0,u.jsx)(a3,{field:{name:"_verified",admin:{disabled:X,readOnly:m},label:P("authentication:verified")},path:"_verified",schemaPath:"".concat(l,"._verified")}),a[52]=w,a[53]=X,a[54]=m,a[55]=P,a[56]=l,a[57]=t):t=a[57],ee=(0,u.jsxs)("div",{className:$,children:[!i&&(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(f2,{loginWithUsername:h,operation:f,permissions:null==D?void 0:D.fields,readOnly:m,t:P}),(J||v)&&(0,u.jsxs)("div",{className:"".concat(mr,"__changing-password"),children:[(0,u.jsx)(u5,{autoComplete:"new-password",field:{name:"password",admin:{disabled:X},label:P("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),(0,u.jsx)(u2,{disabled:m})]}),(0,u.jsxs)("div",{className:"".concat(mr,"__controls"),children:[J&&!v&&(0,u.jsx)(e1,{buttonStyle:"secondary",disabled:X,onClick:()=>W(!1),size:"medium",children:P("general:cancel")}),!J&&!v&&(0,u.jsx)(e1,{buttonStyle:"secondary",disabled:X,id:"change-password",onClick:()=>W(!0),size:"medium",children:P("authentication:changePassword")}),"update"===f&&F&&(0,u.jsx)(e1,{buttonStyle:"secondary",disabled:X,onClick:()=>void Y(),size:"medium",children:P("authentication:forceUnlock")})]})]}),e,t]}),a[20]=i,a[21]=D,a[22]=h,a[23]=f,a[24]=m,a[25]=P,a[26]=J,a[27]=v,a[28]=X,a[29]=W,a[30]=F,a[31]=Y,a[32]=x,a[33]=H,a[34]=z,a[35]=l,a[36]=U,a[37]=_,a[38]=V,a[39]=w,a[40]=$,a[41]=ee}else ee=a[41];return ee};function ms(e){let[t]=e;return t&&(null==t?void 0:t.enableAPIKey)||null}function mc(e){let[t]=e;return t&&(null==t?void 0:t.password)||null}function md(e){return e[1]}var mu=e=>{let t=(0,p.c)(21),{id:n,collectionSlug:a,globalSlug:o,pluralLabel:l,useAsTitle:i}=e,d=(null==e?void 0:e.view)||void 0,{isEditing:u,isInitializing:f,title:m}=aV(),{isEntityVisible:v}=fV(),g;t[0]!==a||t[1]!==o||t[2]!==v?(g=v({collectionSlug:a,globalSlug:o}),t[0]=a,t[1]=o,t[2]=v,t[3]=g):g=t[3];let b=g,{setStepNav:x}=pQ(),{i18n:y,t:w}=(0,c.d)(),{config:j}=(0,s.b)(),{routes:C}=j,{admin:S}=C,_=tj(),k,N;return t[4]!==f||t[5]!==a||t[6]!==l||t[7]!==y||t[8]!==b||t[9]!==S||t[10]!==u||t[11]!==i||t[12]!==m||t[13]!==n||t[14]!==w||t[15]!==o||t[16]!==d||t[17]!==_||t[18]!==x?(k=()=>{let e=[];f||(a?(e.push({label:(0,h.i0)(l,y),url:b?nB({adminRoute:S,path:"/collections/".concat(a)}):void 0}),u?e.push({label:i&&"id"!==i&&m||"".concat(n),url:b?nB({adminRoute:S,path:"/collections/".concat(a,"/").concat(n)}):void 0}):e.push({label:w("general:createNew")})):o&&e.push({label:m,url:b?nB({adminRoute:S,path:"/globals/".concat(o)}):void 0}),d&&e.push({label:d}),_<=1&&x(e))},N=[x,f,u,l,n,i,S,w,y,m,a,o,d,_,b],t[4]=f,t[5]=a,t[6]=l,t[7]=y,t[8]=b,t[9]=S,t[10]=u,t[11]=i,t[12]=m,t[13]=n,t[14]=w,t[15]=o,t[16]=d,t[17]=_,t[18]=x,t[19]=k,t[20]=N):(k=t[19],N=t[20]),(0,r.useEffect)(k,N),null},mp=e=>{var t,n;let a=(0,p.c)(13),{collectionConfig:o,config:l,fallback:i,globalConfig:s}=e,d=null==o?void 0:null===(t=o.admin)||void 0===t?void 0:t.useAsTitle,u;a[0]!==d?(u=e=>{let[t]=e;return d&&t&&(null==t?void 0:t[d])||null},a[0]=d,a[1]=u):u=a[1];let h=ew(u),f=(0,r.useRef)(!1),{i18n:m}=(0,c.d)(),{setDocumentTitle:v}=aV(),g=null==l?void 0:null===(n=l.admin)||void 0===n?void 0:n.dateFormat,b;a[2]!==h||a[3]!==i||a[4]!==o||a[5]!==g||a[6]!==s||a[7]!==m?(b=aO({collectionConfig:o,data:{id:""},dateFormat:g,fallback:"string"==typeof h?h:"number"==typeof h?String(h):(null==h?void 0:h.value)||i,globalConfig:s,i18n:m}),a[2]=h,a[3]=i,a[4]=o,a[5]=g,a[6]=s,a[7]=m,a[8]=b):b=a[8];let x=b,y,w;return a[9]!==v||a[10]!==x?(y=()=>{if(!f.current){f.current=!0;return}v(x)},w=[v,x],a[9]=v,a[10]=x,a[11]=y,a[12]=w):(y=a[11],w=a[12]),(0,r.useEffect)(y,w),null},mh="collection-edit",mf=e=>{var t,n,a,o,l,i,c,d,p,h;let{Description:f,PreviewButton:m,PublishButton:g,SaveButton:b,SaveDraftButton:x,Upload:y}=e,{id:w,action:j,AfterDocument:C,AfterFields:S,apiURL:_,BeforeFields:k,collectionSlug:N,currentEditor:E,disableActions:A,disableCreate:P,disableLeaveWithoutSaving:D,docPermissions:O,documentIsLocked:R,getDocPermissions:I,getDocPreferences:T,globalSlug:L,hasPublishPermission:M,hasSavePermission:F,incrementVersionCount:B,initialData:V,initialState:z,isEditing:U,isInitializing:H,lastUpdateTime:q,redirectAfterDelete:W,redirectAfterDuplicate:K,setCurrentEditor:Y,setDocumentIsLocked:Q,unlockDocument:G,updateDocumentEditor:X}=aV(),{clearDoc:J,drawerSlug:Z,onDelete:$,onDuplicate:ee,onSave:et}=lH(),{refreshCookieAsync:en,user:ea}=nY(),{config:eo,config:{admin:{user:el},routes:{admin:er}},getEntityConfig:ei}=(0,s.b)(),es=ei({collectionSlug:N}),ec=ei({globalSlug:L}),ed=tj(),eu=(0,v.useRouter)(),ep=(0,v.useSearchParams)(),{reportUpdate:eh}=dU(),{resetUploadEdits:ef}=aT(),{getFormState:em}=lg(),ev=(0,r.useRef)(null),eg=ep.get("locale"),eb=(null==es?void 0:es.slug)||(null==ec?void 0:ec.slug),ex=N&&!w?"create":"update",ey=es?es.auth:void 0,ew=es?es.upload:void 0,ej=es||ec,eC=(null==ej?void 0:ej.lockDocuments)===void 0||(null==ej?void 0:ej.lockDocuments),eS=!1!==eC,e_=("object"==typeof eC?eC.duration:300)*1e3,ek=!0;es?ek=!((null==es?void 0:null===(t=es.versions)||void 0===t?void 0:t.drafts)&&(null==es?void 0:null===(a=es.versions)||void 0===a?void 0:null===(n=a.drafts)||void 0===n?void 0:n.autosave)):ec?ek=!((null==ec?void 0:null===(o=ec.versions)||void 0===o?void 0:o.drafts)&&(null==ec?void 0:null===(i=ec.versions)||void 0===i?void 0:null===(l=i.drafts)||void 0===l?void 0:l.autosave)):"u">typeof D&&(ek=!D);let[eN,eE]=(0,r.useState)(!1),[eA,eP]=(0,r.useState)(!1),[eD,eO]=(0,r.useState)(Date.now()),eR=q+e_,eI=Date.now()>eR,eT=(0,r.useRef)({hasShownLockedModal:!1,isLocked:!1,user:null}),eL=[mh,(w||L)&&"".concat(mh,"--is-editing")];L&&eL.push("global-edit--".concat(L)),N&&eL.push("collection-edit--".concat(N));let[eM,eF]=(0,r.useState)(()=>"create"===ex&&ey&&!ey.disableLocalStrategy?["_".concat(eb),"auth"]:[eb]),[eB,eV]=(0,r.useState)(()=>!!("create"===ex&&ey&&!ey.disableLocalStrategy)),ez=(0,r.useCallback)(async e=>{var t,n;if(eh({id:w,entitySlug:eb,updatedAt:(null==e?void 0:null===(t=e.result)||void 0===t?void 0:t.updatedAt)||new Date().toISOString()}),ea&&N===el&&w===ea.id&&en(),B(),"function"==typeof et&&et({...e,operation:w?"update":"create"}),(w||L)&&eS&&Q(!1),!U&&ed<2){let t=nB({adminRoute:er,path:"/collections/".concat(N,"/").concat(null==e?void 0:null===(n=e.doc)||void 0===n?void 0:n.id).concat(eg?"?locale=".concat(eg):"")});eu.push(t)}else ef();await I(e)},[eh,w,eb,ea,N,el,B,et,L,eS,U,ed,I,en,Q,er,eg,eu,ef]),eU=(0,r.useCallback)(async e=>{let{formState:t}=e;lw(ev.current);let n=new AbortController;ev.current=n;let a=Date.now(),o=a-eD,l=eS&&o>=1e4;l&&eO(a);let r=await T(),{lockedState:i,state:s}=await em({id:w,collectionSlug:N,docPermissions:O,docPreferences:r,formState:t,globalSlug:L,operation:ex,renderAllFields:!1,returnLockStatus:!!eS,schemaPath:eM.join("."),signal:n.signal,updateLastEdited:l});if(Q(!0),eS){var c,d,u,p,h;let e="object"==typeof(null===(c=eT.current)||void 0===c?void 0:c.user)?null===(u=eT.current)||void 0===u?void 0:null===(d=u.user)||void 0===d?void 0:d.id:null===(p=eT.current)||void 0===p?void 0:p.user;if(i){let t="string"==typeof i.user||"number"==typeof i.user?i.user:i.user.id;eT.current&&t===e||(e===ea.id&&t!==ea.id&&(eP(!0),eT.current.hasShownLockedModal=!0),eT.current=eT.current={hasShownLockedModal:(null===(h=eT.current)||void 0===h?void 0:h.hasShownLockedModal)||!1,isLocked:!0,user:i.user},Y(i.user))}}return s},[eD,eS,T,em,w,N,O,L,ex,eM,Q,ea.id,Y]);(0,r.useEffect)(()=>()=>{var e,t,n,a;if(!eS)return;let o=window.location.pathname,l=w||L,r=["preview","api","versions"].some(e=>o.includes(e));l&&R&&!r&&("object"==typeof(null===(e=eT.current)||void 0===e?void 0:e.user)?(null===(n=eT.current)||void 0===n?void 0:null===(t=n.user)||void 0===t?void 0:t.id)===(null==ea?void 0:ea.id):(null===(a=eT.current)||void 0===a?void 0:a.user)===(null==ea?void 0:ea.id))&&(G(w,null!=N?N:L),Q(!1),Y(null)),eP(!1)},[N,L,w,G,ea,Y,eS,R,Q]),(0,r.useEffect)(()=>()=>{lw(ev.current)},[]);let eH=R&&E&&("object"==typeof E?E.id!==(null==ea?void 0:ea.id):E!==(null==ea?void 0:ea.id))&&!eN&&!eA&&!(null===(c=eT.current)||void 0===c?void 0:c.hasShownLockedModal)&&!eI;return(0,u.jsx)("main",{className:eL.filter(Boolean).join(" "),children:(0,u.jsx)(aq,{operation:ex,children:(0,u.jsxs)(dB,{action:j,className:"".concat(mh,"__form"),disabled:eN||H||!F,disableValidationOnSubmit:!eB,initialState:!H&&z,isInitializing:H,method:w?"PATCH":"POST",onChange:[eU],onSuccess:ez,children:[!!Z&&(0,u.jsx)(me,{drawerSlug:Z}),eS&&eH&&!eN&&(0,u.jsx)(pj,{handleGoBack:()=>ma({adminRoute:er,collectionSlug:N,router:eu}),isActive:eH,onReadOnly:()=>{eE(!0),eP(!1)},onTakeOver:()=>mo(w,N,L,ea,!1,X,Y,eT,eS),updatedAt:q,user:E}),eS&&eA&&(0,u.jsx)(pg,{handleBackToDashboard:()=>mn({adminRoute:er,router:eu}),isActive:eA,onReadOnly:()=>{eE(!0),eP(!1)}}),!eN&&ek&&(0,u.jsx)(pf,{}),(0,u.jsx)(mu,{collectionSlug:null==es?void 0:es.slug,globalSlug:null==ec?void 0:ec.slug,id:w,pluralLabel:null==es?void 0:null===(d=es.labels)||void 0===d?void 0:d.plural,useAsTitle:null==es?void 0:null===(p=es.admin)||void 0===p?void 0:p.useAsTitle}),(0,u.jsx)(mp,{collectionConfig:es,config:eo,fallback:ed<=1?null==w?void 0:w.toString():void 0,globalConfig:ec}),(0,u.jsx)(hy,{apiURL:_,customComponents:{PreviewButton:m,PublishButton:g,SaveButton:b,SaveDraftButton:x},data:V,disableActions:A,disableCreate:P,hasPublishPermission:M,hasSavePermission:F,id:w,isEditing:U,onDelete:$,onDrawerCreateNew:J,onDuplicate:ee,onSave:ez,onTakeOver:()=>mo(w,N,L,ea,!0,X,Y,eT,eS,eE),permissions:O,readOnlyForIncomingUser:eN,redirectAfterDelete:W,redirectAfterDuplicate:K,slug:(null==es?void 0:es.slug)||(null==ec?void 0:ec.slug),user:E}),(0,u.jsx)(dq,{AfterFields:S,BeforeFields:k||(0,u.jsxs)(r.Fragment,{children:[ey&&(0,u.jsx)(mi,{className:"".concat(mh,"__auth"),collectionSlug:es.slug,disableLocalStrategy:null===(h=es.auth)||void 0===h?void 0:h.disableLocalStrategy,email:null==V?void 0:V.email,loginWithUsername:null==ey?void 0:ey.loginWithUsername,operation:ex,readOnly:!F,requirePassword:!w,setSchemaPathSegments:eF,setValidateBeforeSubmit:eV,useAPIKey:ey.useAPIKey,username:null==V?void 0:V.username,verify:ey.verify}),ew&&(0,u.jsx)(r.Fragment,{children:y||(0,u.jsx)(up,{collectionSlug:es.slug,initialState:z,uploadConfig:ew})})]}),Description:f,docPermissions:O,fields:ej.fields,readOnly:eN||!F,schemaPathSegments:eM}),C]})})})};/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/}}]);