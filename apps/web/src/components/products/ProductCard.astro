---
interface Props {
  product: {
    id: string;
    title: string;
    price: number;
    image: string;
    slug: string;
  };
}

const { product } = Astro.props;
import AddToCartButton from '../cart/AddToCartButton';
---

<div class="group relative overflow-hidden rounded-lg border bg-surface p-4 hover:shadow-lg transition-all duration-300">
  <a href={`/shop/${product.slug}`} class="block aspect-square overflow-hidden rounded-md bg-gray-100 mb-4">
    <img
      src={product.image}
      alt={product.title}
      class="h-full w-full object-cover object-center group-hover:scale-105 transition-transform duration-500"
    />
  </a>
  <div class="flex justify-between items-start mb-4">
    <div>
      <h3 class="text-lg font-medium text-foreground">
        <a href={`/shop/${product.slug}`}>
          <span aria-hidden="true" class="absolute inset-0"></span>
          {product.title}
        </a>
      </h3>
      <p class="mt-1 text-sm text-muted-foreground">Categoria</p>
    </div>
    <p class="text-lg font-bold text-foreground">
      {new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(product.price)}
    </p>
  </div>
  
  <div class="relative z-10">
      <AddToCartButton client:visible product={product} className="w-full bg-primary text-primary-foreground py-2 rounded-md hover:bg-primary/90 font-medium" />
  </div>
</div>
